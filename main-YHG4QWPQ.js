import{$ as ri,$a as St,A as tt,Aa as ie,B as x,Ba as Ue,C as h,Ca as ft,D as d,Da as ne,E as ce,Ea as gt,F as qt,Fa as oe,G as ze,Ga as Pe,H as ke,Ha as Ne,I as Ee,Ia as Le,J as Fe,Ja as ht,K as he,Ka as _t,L as c,La as vi,M as I,Ma as vt,N as M,Na as Ct,O as X,Oa as Ae,P as it,Pa as Me,Q as S,Qa as B,R as N,Ra as be,S as ye,Sa as j,T as pe,Ta as bt,U as ni,Ua as de,V as _e,Va as G,W as oi,Wa as xt,X as J,Y as He,Ya as R,Z as O,Za as se,_ as P,_a as yt,a as Jt,aa as ai,ab as Ci,b as Kt,ba as De,bb as It,c as w,ca as si,cb as bi,d as ei,da as li,e as L,ea as E,f as A,fa as ci,g as dt,ga as mi,h as ti,ha as pi,i as k,ia as W,j as z,ja as di,k as q,ka as ui,l as ut,la as fi,m as y,ma as gi,n as Ke,na as hi,o as v,oa as ae,p as C,pa as Se,q as F,qa as U,r as l,ra as ve,s as g,sa as Ce,t as ii,ta as _i,u as f,ua as Y,v as m,va as Ie,w as r,wa as K,x as a,xa as b,y as u,ya as ee,z as et,za as te}from"./chunk-SVLOBAR6.js";var xi=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}getClients(){let e={country:"all"};return this.httpClient.post(this.api+"/clients/all",e)}getApiKeys(e,n){let s={clientId:e,saltKey:n,key:!0};return this.httpClient.post(this.api+"/clients/securitykey",s)}getDataKey(e,n){let s={clientId:e,saltKey:n,key:!1};return this.httpClient.post(this.api+"/clients/securitykey",s)}getClientById(e){let n={clientId:e};return this.httpClient.post(this.api+"/clients/client",n)}getClientByName(e){let n={code:e};return this.httpClient.post(this.api+"/clients/name",n)}SaveClient(e){return this.httpClient.post(this.api+"/clients",e)}updateClient(e){return this.httpClient.put(this.api+"/clients",e)}deleteClient(e){return this.httpClient.delete(this.api+"/clients/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var yi=(i,o)=>{let t=ut(xi),n=i.clone({setHeaders:{XApiKey:"DVG7Q~6I_56zXM2nQBVe_8HDcq1nomU-y-SmF1","X-PR-Client":"Meet-N-Pray"}});return o(n)};var Mt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.$refreshToken=new ei,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT,this.$refreshToken.subscribe(s=>{this.getRefreshedToken()})}getRefreshedToken(){return w(this,null,function*(){let e=sessionStorage.getItem("CurrentUser"),n;e!=null&&(n=JSON.parse(e));let s={email:n.email,refreshToken:n.refreshToken};return this.httpClient.post(this.api+"/users/refresh",s)})}getUsers(e,n,s,p,_,T,V){let Q={affiliationLookupId:e,userTypeLookupId:n,pageNumber:s,pageSize:p,searchValue:_,active:T,blocked:V};return this.httpClient.post(this.api+"/users/all",Q)}saveUser(e){return this.httpClient.post(this.api+"/users",e)}updateUser(e){return this.httpClient.put(this.api+"/users",e)}flagUser(e){return this.httpClient.post(this.api+"/users/flag",e)}deleteUser(e){return this.httpClient.delete(this.api+"/users/"+e)}getUser(e){let n={userId:e};return this.httpClient.post(this.api+"/users/user",n)}getusersByCategory(e,n,s){let p={userTypeLookupId:e,pageNumber:n,pageSize:s};return this.httpClient.post(this.api+"/users/category",p)}getUserByAffiliation(e,n,s){let p={affiliationLookupId:e,pageNumber:n,pageSize:s};return this.httpClient.post(this.api+"/users/affiliation",p)}getIntercessors(e,n,s,p){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,searchValue:p};return this.httpClient.post(this.api+"/users/intercessor",_)}getModerators(e,n,s,p){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,searchValue:p};return this.httpClient.post(this.api+"/users/moderator",_)}getActiveUsers(e,n,s,p){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,active:p};return this.httpClient.post(this.api+"/users/active",_)}loginUser(e){let n={userName:e.Email,password:e.Password};return this.httpClient.post(this.api+"/users/login",n)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ii=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}getCountries(){let e={country:"all"};return this.httpClient.post(this.api+"/countries/all",e)}getCountryById(e){let n={countryId:e};return this.httpClient.post(this.api+"/countries/country",n)}getCountryByCode(e){let n={code:e};return this.httpClient.post(this.api+"/countries/code",n)}SaveCountry(e){let n={Name:e.Name,TwoCode:e.TwoCode,ThreeCode:e.ThreeCode,NumberCode:e.NumberCode,CreatedDate:new Date};return this.httpClient.post(this.api+"/countries",n)}updateCountry(e){let n={CountryId:e.CountryId,Name:e.Name,TwoCode:e.TwoCode,ThreeCode:e.ThreeCode,NumberCode:e.NumberCode};return this.httpClient.put(this.api+"/countries",n)}deleteLookup(e){return this.httpClient.delete(this.api+"/countries/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function zn(i,o){if(i&1&&(r(0,"ul",29),u(1,"li",30),a()),i&2){let t=d(2);l(),m("innerHtml",t.userFormErrorMessage("First name",t.userForm.controls.FirstName.errors),F)}}function Wn(i,o){if(i&1&&(r(0,"ul",29),u(1,"li",30),a()),i&2){let t=d(2);l(),m("innerHtml",t.userFormErrorMessage("Last name",t.userForm.controls.LastName.errors),F)}}function Yn(i,o){if(i&1&&(r(0,"ul",29),u(1,"li",30),a()),i&2){let t=d(2);l(),m("innerHtml",t.userFormErrorMessage("Email",t.userForm.controls.Email.errors),F)}}function Gn(i,o){if(i&1&&(r(0,"ul",29),u(1,"li",30),a()),i&2){let t=d(2);l(),m("innerHtml",t.userFormErrorMessage("Phone",t.userForm.controls.Phone.errors),F)}}function Zn(i,o){if(i&1&&(r(0,"ul",29),u(1,"li",30),a()),i&2){let t=d(2);l(),m("innerHtml",t.userFormErrorMessage("Password",t.userForm.controls.Password.errors),F)}}function Xn(i,o){i&1&&(r(0,"span",31),c(1," Password and Confirm Password must match. "),a())}function Jn(i,o){if(i&1&&(r(0,"option",32),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.CountryId),l(),I(t.Name)}}function Kn(i,o){i&1&&(r(0,"div",31)(1,"sup"),c(2,"*"),a(),c(3,"Select your country "),a())}function eo(i,o){if(i&1&&(r(0,"div")(1,"div",34),u(2,"input",35),r(3,"label",25),c(4),a()()()),i&2){let t=d().$implicit;l(2),m("value",t.LookupId)("checked",!0),l(2),I(t.LookupName)}}function to(i,o){if(i&1&&(r(0,"div"),f(1,eo,5,3,"div",33),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===3)}}function io(i,o){if(i&1&&(r(0,"div")(1,"div",34),u(2,"input",36),r(3,"label",25),c(4),a()()()),i&2){let t=d().$implicit;l(2),m("value",t.LookupId),l(2),I(t.LookupName)}}function no(i,o){if(i&1&&(r(0,"div"),f(1,io,5,2,"div",33),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===4)}}function oo(i,o){if(i&1&&(r(0,"div")(1,"div",34),u(2,"input",36),r(3,"label",25),c(4),a()()()),i&2){let t=d().$implicit;l(2),m("value",t.LookupId),l(2),I(t.LookupName)}}function ro(i,o){if(i&1&&(r(0,"div"),f(1,oo,5,2,"div",33),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===5)}}function ao(i,o){if(i&1&&(r(0,"div")(1,"div",34),u(2,"input",37),r(3,"label",25),c(4),a()()()),i&2){let t=d().$implicit;l(2),m("value",t.LookupId)("checked",!0),l(2),I(t.LookupName)}}function so(i,o){if(i&1&&(r(0,"div"),f(1,ao,5,3,"div",33),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===1)}}function lo(i,o){if(i&1&&(r(0,"div")(1,"div",34),u(2,"input",38),r(3,"label",25),c(4),a()()()),i&2){let t=d().$implicit;l(2),m("value",t.LookupId),l(2),I(t.LookupName)}}function co(i,o){if(i&1&&(r(0,"div"),f(1,lo,5,2,"div",33),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===2)}}function mo(i,o){if(i&1){let t=x();r(0,"form",6),h("ngSubmit",function(){v(t);let n=d();return C(n.saveUser())}),r(1,"div",1)(2,"div",7)(3,"div",8),u(4,"input",9),f(5,zn,2,1,"ul",10),a()(),r(6,"div",7)(7,"div",8),u(8,"input",11),f(9,Wn,2,1,"ul",10),a()()(),r(10,"div",1)(11,"div",8),u(12,"input",12),f(13,Yn,2,1,"ul",10),a(),r(14,"div",8),u(15,"input",13),f(16,Gn,2,1,"ul",10),a(),r(17,"div",8),u(18,"input",14),f(19,Zn,2,1,"ul",10),a(),r(20,"div",8),u(21,"input",15),f(22,Xn,2,0,"span",16),a(),r(23,"div",8)(24,"select",17),h("change",function(n){v(t);let s=d();return C(s.changeCountry(n))}),r(25,"option",18),c(26,"Choose Your Country"),a(),f(27,Jn,2,2,"option",19),a(),f(28,Kn,4,0,"div",16),a()(),r(29,"div",1)(30,"p",20),c(31,"Affiliation"),a(),r(32,"div",21),f(33,to,2,1,"div",22),a(),r(34,"div",21),f(35,no,2,1,"div",22),a(),r(36,"div",21),f(37,ro,2,1,"div",22),a()(),r(38,"div",1)(39,"p",20),c(40,"I am a"),a(),r(41,"div",21),f(42,so,2,1,"div",22),a(),r(43,"div",21),f(44,co,2,1,"div",22),a()(),r(45,"div",1)(46,"div",21)(47,"div",23),u(48,"input",24),r(49,"label",25),c(50,"Agree to terms and conditions"),a()()()(),r(51,"div",1)(52,"div",26)(53,"button",27),c(54,"Submit"),a(),r(55,"div",28)(56,"small"),c(57),a()()()()()}if(i&2){let t=d(),e;m("formGroup",t.userForm),l(5),m("ngIf",t.userForm.controls.FirstName.invalid&&(t.userForm.controls.FirstName.dirty||t.userForm.controls.FirstName.touched)),l(4),m("ngIf",t.userForm.controls.LastName.invalid&&(t.userForm.controls.LastName.dirty||t.userForm.controls.LastName.touched)),l(4),m("ngIf",t.userForm.controls.Email.invalid&&(t.userForm.controls.Email.dirty||t.userForm.controls.Email.touched)),l(3),m("ngIf",t.userForm.controls.Phone.invalid&&(t.userForm.controls.Phone.dirty||t.userForm.controls.Phone.touched)),l(3),m("ngIf",t.userForm.controls.Password.invalid&&(t.userForm.controls.Password.dirty||t.userForm.controls.Password.touched)),l(3),m("ngIf",(t.userForm==null||(e=t.userForm.get("Password"))==null?null:e.valid)&&(t.userForm==null||(e=t.userForm.get("ConfirmPassword"))==null?null:e.dirty)&&(t.userForm==null||(e=t.userForm.get("Password"))==null?null:e.value)!==(t.userForm==null||(e=t.userForm.get("ConfirmPassword"))==null?null:e.value)),l(5),m("ngForOf",t.Countries),l(),m("ngIf",t.userForm.controls.Country.hasError("required")),l(5),m("ngForOf",t.UserAffiliation),l(2),m("ngForOf",t.UserAffiliation),l(2),m("ngForOf",t.UserAffiliation),l(5),m("ngForOf",t.UserCategory),l(2),m("ngForOf",t.UserCategory),l(13),I(t.errors)}}var Mi=(()=>{let o=class o{constructor(e,n,s,p,_,T){this.router=e,this.userService=n,this.countryService=s,this.lookupService=p,this.helperService=_,this.formBuilder=T,this.errors="",this.iContact="",this.iUser={UserId:0,AffiliationLookupId:0,UserTypeLookupId:0,RoleId:0,FirstName:"",LastName:"",Email:"",Phone:"",Profile:"",Country:"",Password:"",ConfirmPassword:"",LoginToken:"",LastLoggedIn:new Date,LockedOn:new Date,RenewPassword:"",ResetPassword:new Date,Active:!1,Moderator:!1,Intercessor:!1,IsBlocked:!1,CreatedDate:new Date,ModifiedDate:new Date},this.iUserTypeLookup={LookupId:1,LookupName:"",Category:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date},this.iUserAffiliation={LookupId:3,LookupName:"",Category:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date},this.Countries=[],this.UserCategory=[],this.UserAffiliation=[]}ngOnInit(){return w(this,null,function*(){yield this.getCountries(),yield this.getLookupByCategory("Users"),yield this.getLookupByCategory("Affiliation"),this.buildUserForm()})}buildUserForm(){let e="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$",n="^[A-Za-z][A-Za-z'-]+([ A-Za-z][A-Za-z'-]+)*";this.userForm=this.formBuilder.group({UserId:[this.iUser.UserId],AffiliationLookupId:[this.iUserAffiliation.LookupId,[b.required]],UserTypeLookupId:[this.iUserTypeLookup.LookupId,[b.required]],FirstName:[this.iUser.FirstName,[b.required,b.maxLength(50),b.minLength(2),b.pattern(n)]],LastName:[this.iUser.LastName,[b.required,b.maxLength(50),b.minLength(2)]],Email:[this.iUser.Email,[b.required,b.maxLength(100),b.email,b.pattern(e)]],Phone:[this.iUser.Phone,[b.required,b.maxLength(20),b.minLength(8)]],Country:[1,[b.required]],Password:[this.iUser.Password,[b.required,b.maxLength(30),b.minLength(8)]],ConfirmPassword:[this.iUser.Password,[b.required,b.maxLength(30),b.minLength(8)]]})}userFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}getLookupByCategory(e){return w(this,null,function*(){this.lookupService.getLookupByCategory(e).pipe(k(n=>e==="Users"?(this.UserCategory=n,this.UserCategory):(this.UserAffiliation=n,this.UserAffiliation))).subscribe({next:n=>{console.log("Retrieving Affiliation and UserType Lookups")},error:n=>console.log("Error Retrieving Affiliation and UserType Lookups "),complete:()=>console.log("Completed Retrieving Affiliation and UserType Lookups")})})}getCountries(){return w(this,null,function*(){this.countryService.getCountries().pipe(k(e=>(this.Countries=e,this.Countries))).subscribe({next:e=>{console.log("Retreiving Countries")},error:e=>console.log("Error Retrieving Countries "),complete:()=>console.log("Completed Retrieving Countries")})})}get Country(){return this.userForm.get("Country")}changeCountry(e){let n=this.Country?.setValue(e.target.value,{onlySelf:!0})}saveUser(){return w(this,null,function*(){if(this.errors="",!this.userForm.valid)return this.errors="One or more form fields are invalid.",this.userForm.markAllAsTouched();let e=this.userForm.value;e.RoleId=1,this.userService.saveUser(e).pipe(k(n=>(this.iContact=n,this.iContact))).subscribe({next:n=>{console.log("Saving User")},error:n=>{this.errors=n.error.Message},complete:()=>{console.log("saveUser(): Successfully saved user record."),sessionStorage.setItem("CurrentUser",JSON.stringify(this.iContact)),this.router.navigate(["prayers/letuspray","god"])}})})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(Mt),g(Ii),g(be),g(j),g(Ae))},o.\u0275cmp=y({type:o,selectors:[["app-about"]],standalone:!0,features:[S],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"text-center"],[1,"mt-4","text-primary"],[1,"col-lg-4","col-md-4","col-sm-6","col-xs-6"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-6"],[1,"mb-3"],["type","text","formControlName","FirstName","placeholder","Enter First Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],["type","text","formControlName","LastName","placeholder","Enter Last Name",1,"form-control"],["type","email","formControlName","Email","placeholder","Enter email",1,"form-control"],["type","text","formControlName","Phone","placeholder","Enter phone",1,"form-control"],["type","password","formControlName","Password","placeholder","Password",1,"form-control"],["type","password","formControlName","ConfirmPassword","placeholder","Confirm Password",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","Country",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"fw-normal","fs-5"],[1,"col-auto"],[4,"ngFor","ngForOf"],[1,"form-check","mb-3"],["type","checkbox",1,"form-check-input"],[1,"form-check-label"],[1,"mb-3","d-grid","gap-2","col-12","mx-auto"],["type","submit",1,"btn","btn-primary"],[1,"mb-3","text-danger"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],[1,"text-danger"],[3,"ngValue"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","radio","formControlName","AffiliationLookupId","name","AffiliationLookupId",1,"form-check-input",3,"value","checked"],["type","radio","formControlName","AffiliationLookupId","name","AffiliationLookupId",1,"form-check-input",3,"value"],["type","radio","FormControlName","UserTypeLookupId","name","UserTypeLookupId",1,"form-check-input",3,"value","checked"],["type","radio","formControlName","UserTypeLookupId","name","UserTypeLookupId",1,"form-check-input",3,"value"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"About"),a(),r(5,"p"),c(6,"Welcome to Meet-N-Pray. This app was founded on God's calling to create peer-to-peer pray service for all."),a()(),r(7,"div",4)(8,"h4"),c(9," Sign Up"),a(),f(10,mo,58,15,"form",5),a()()()),n&2&&(l(10),m("ngIf",s.userForm))},dependencies:[E,O,P,B,ie,Ne,Le,K,Pe,ft,ee,te,ne,oe]});let i=o;return i})();var wt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}createAuthorizationHeader(e){return e=e.set("Authorization","Basic pwangota:ABCD123")}getRoles(){return this.httpClient.get(this.api+"/roles")}createRole(e){let n={Name:e.Name,Description:e.Description,CreatedDate:new Date,ModifiedDate:e.ModifiedDate};return this.httpClient.post(this.api+"/roles",n)}updateRole(e){let n={RoleId:e.RoleId,Name:e.Name,Description:e.Description,CreatedDate:e.CreatedDate,ModifiedDate:new Date};return this.httpClient.put(this.api+"/roles",n)}deleteRole(e){let n=new ci;n=n.set("X-Pr-Data","ABC123"),n=this.createAuthorizationHeader(n);let s={headers:n};return this.httpClient.delete(this.api+"/roles/"+e,s)}getRole(e){let n={roleId:e};return this.httpClient.post(this.api+"/roles/role",n)}handleError(e="operation",n){return s=>(console.error(s),this.log(`${e} failed: ${s.message}`),L(n))}handleHttpStatusError(e){if(e instanceof mi){let n="";try{e.status==pi.BadRequest&&(n=e.statusText)}catch{n=e.statusText}return Error(n)}return Error(e)}log(e){console.log(`Error: ${e}`)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function po(i,o){if(i&1){let t=x();r(0,"tr")(1,"td"),c(2),a(),r(3,"td"),c(4),a(),r(5,"td")(6,"button",11),h("click",function(){let s=v(t).$implicit,p=d(),_=he(23);return C(p.addEditRole(s.RoleId,_))}),c(7,"Edit"),a()(),r(8,"td")(9,"button",12),h("click",function(){let s=v(t).$implicit,p=d(),_=he(25);return C(p.yesDeleteRole(s.RoleId,s.Name,_))}),c(10,"Delete"),a()()()}if(i&2){let t=o.$implicit;l(2),I(t.Name),l(2),I(t.Description)}}function uo(i,o){i&1&&(r(0,"tr")(1,"td"),c(2,"\xA0"),a(),r(3,"td",13),c(4,"No Records Found"),a()())}function fo(i,o){if(i&1&&(r(0,"ul",27),u(1,"li",28),a()),i&2){let t=d(3);l(),m("innerHtml",t.roleFormErrorMessage("Role name",t.roleForm.controls.Name.errors),F)}}function go(i,o){if(i&1&&(r(0,"ul",27),u(1,"li",28),a()),i&2){let t=d(3);l(),m("innerHtml",t.roleFormErrorMessage("Description",t.roleForm.controls.Description.errors),F)}}function ho(i,o){if(i&1){let t=x();r(0,"form",18),h("ngSubmit",function(){v(t);let n=d(2);return C(n.saveRole())}),r(1,"div",19)(2,"div",1)(3,"div",20),u(4,"input",21),f(5,fo,2,1,"ul",22),a(),r(6,"div",20),u(7,"textarea",23),f(8,go,2,1,"ul",22),a(),u(9,"input",24),a()(),r(10,"div",25)(11,"button",26),c(12,"Submit"),a()()()}if(i&2){let t=d(2);m("formGroup",t.roleForm),l(5),m("ngIf",t.roleForm.controls.Name.invalid&&(t.roleForm.controls.Name.dirty||t.roleForm.controls.Name.touched)),l(3),m("ngIf",t.roleForm.controls.Description.invalid&&(t.roleForm.controls.Description.dirty||t.roleForm.controls.Description.touched))}}function _o(i,o){if(i&1){let t=x();r(0,"div",14)(1,"h4",15),c(2,"Role"),a(),r(3,"button",16),h("click",function(){let s=v(t).$implicit;return C(s.dismiss())}),a()(),f(4,ho,13,3,"form",17)}if(i&2){let t=d();l(4),m("ngIf",t.roleForm)}}function vo(i,o){if(i&1){let t=x();r(0,"div",14)(1,"h4",29),c(2,"Role"),a(),r(3,"button",16),h("click",function(){let s=v(t).$implicit;return C(s.dismiss())}),a()(),r(4,"div",19)(5,"div",1),u(6,"input",30),r(7,"p"),c(8,"Are you sure you want to remove "),r(9,"strong"),c(10),a(),c(11," role?"),a()()(),r(12,"div",25)(13,"button",31),h("click",function(){v(t);let n=d();return C(n.deleteRole())}),c(14," Yes "),a()()}if(i&2){let t=d();l(6),ce("value",t.deleteRoleId),l(4),M('"',t.deleteRoleName,'" ')}}var Ti=(()=>{let o=class o{constructor(e,n,s,p){this.roleService=e,this.helperService=n,this.formBuilder=s,this.modal=p,this.roles=[],this.role={RoleId:0,Name:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date}}ngOnInit(){this.getRoles(),this.buildRoleForm()}getRoles(){this.roleService.getRoles().pipe(k(e=>this.roles=e),ti(e=>(console.error("getRoles() Error1: "+e),L([])))).subscribe({next:e=>{console.log("getRoles(): Retrived All Roles: "+e)},error:e=>{console.log(e)},complete:()=>{console.log("getRoles() Completed: Successfully retrieved roles")}})}buildRoleForm(){this.roleForm=this.formBuilder.group({RoleId:[this.role.RoleId],Description:[this.role.Description,[b.required,b.maxLength(200),b.minLength(4)]],Name:[this.role.Name,[b.required,b.maxLength(20),b.minLength(4)]]})}roleFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}saveRole(){return w(this,null,function*(){if(!this.roleForm.valid)return this.roleForm.markAllAsTouched();let e=this.roleForm.value;e?.RoleId===0?this.roleService.createRole(e).pipe(k(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("CreateRole(): Saving Role.")},error:n=>{console.log(n)},complete:()=>console.log("CreateRole(): Successfully created role.")}):this.roleService.updateRole(e).pipe(k(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("CreateRole(): Saving Role.")},error:n=>console.log(n),complete:()=>console.log("UpdateRole(): Successfully modified role.")})})}addEditRole(e,n){return w(this,null,function*(){let s={size:"lg",backdrop:"static",keyboard:!0,centered:!0};if(e==="0")this.role,this.buildRoleForm(),this.roleForm.reset(),this.modal.open(n,s);else{let p=yield A(this.roleService.getRole(e));this.role=p[0],this.buildRoleForm(),this.modal.open(n,s).result.then(_=>w(this,null,function*(){return p}))}})}yesDeleteRole(e,n,s){let p={size:"md",backdrop:"static",keyboard:!0,centered:!0};this.deleteRoleId=e,this.deleteRoleName=n,this.modal.open(s,p)}deleteRole(){let e=document.getElementById("roleId").value;this.roleService.deleteRole(e).pipe(k(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("Delete role")},error:n=>console.log(n),complete:()=>console.log("DeleteRole(): Successfully delete role.")})}};o.\u0275fac=function(n){return new(n||o)(g(wt),g(j),g(Ae),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-role"]],standalone:!0,features:[S],decls:26,vars:2,consts:[[1,"container"],[1,"row"],[1,"mt-4","text-center","text-primary"],[1,"table-responsive"],[1,"col-md-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table","table-stripe","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["roleModal",""],["deleteRoleModal",""],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],["colspan","6"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Name","placeholder","Enter Role Name","autocomplete","false",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],["rows","4","formControlName","Description","placeholder","Tell people what this role is for","autocomplete","false",1,"form-control"],["type","hidden","formControlName","RoleId","placeholder","RoleId"],[1,"modal-footer"],[1,"btn","btn-success"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["id","delete-role-modal",1,"modal-title"],["type","hidden","id","roleId","placeholder","RoleId",3,"value"],[1,"btn","btn-success",3,"click"]],template:function(n,s){if(n&1){let p=x();r(0,"div",0)(1,"div",1)(2,"h2",2),c(3,"Roles"),a(),r(4,"p"),c(5,"Manage roles"),a(),r(6,"div",3)(7,"div",4)(8,"button",5),h("click",function(){v(p);let T=he(23);return C(s.addEditRole("0",T))}),c(9,"New Role"),a()(),r(10,"table",6)(11,"thead")(12,"tr")(13,"th"),c(14,"Name"),a(),r(15,"th"),c(16,"Description"),a(),u(17,"th"),a()(),r(18,"tbody"),f(19,po,11,2,"tr",7)(20,uo,5,0,"tr",8),a()()()(),r(21,"div",1),f(22,_o,5,1,"ng-template",null,9,J)(24,vo,15,2,"ng-template",null,10,J),a()()}n&2&&(l(19),m("ngForOf",s.roles),l(),m("ngIf",!(s.roles!=null&&s.roles.length)))},dependencies:[E,O,P,B,ie,K,ee,te,ne,oe]});let i=o;return i})();var ki=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-pagenotfound"]],standalone:!0,features:[S],decls:11,vars:0,consts:[[1,"container"],[1,"row"],[1,"text-center"],[1,"mt-4","text-primary"],["routerLinkActive","active","routerLink","/prayers","href","#howtopray"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"Oops!"),a(),r(5,"p")(6,"strong"),c(7,"Oh, no!"),a(),c(8,". The resource you are looking for cant be found."),a(),r(9,"a",4),c(10,"How to Pray"),a()()()())},dependencies:[ve,Ce]});let i=o;return i})();var We=()=>({exact:!0}),Co=()=>["prayersettings"],Ei=(()=>{let o=class o{constructor(e){this.router=e,this.categoryEmmiter=new ii,this.scrollcategoryId=7}ngOnInit(){}navigateToHome(e){e==="requests"?this.router.navigate(["requests/prayers"]):e==="meetings"?this.router.navigate(["/community/meetings"]):this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray",e]))}};o.\u0275fac=function(n){return new(n||o)(g(U))},o.\u0275cmp=y({type:o,selectors:[["app-prayers-siderbar"]],outputs:{categoryEmmiter:"categoryEmmiter"},standalone:!0,features:[S],decls:38,vars:16,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["routerLinkActive","active","routerLink","/prayers/letuspray/god","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["routerLinkActive","active","routerLink","/prayers/letuspray/jesus","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"],["routerLinkActive","active","routerLink","/prayers/letuspray/devotions","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-list","px-2"],["routerLinkActive","active","routerLink","/prayers/letuspray/praises","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-quote-left","px-2"],["routerLinkActive","active","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-comment","me-2"],[1,"fa-solid","fa-lg","fa-users","me-2"],["routerLinkActive","active","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-gears","px-2"]],template:function(n,s){n&1&&(r(0,"ul",0)(1,"li",1)(2,"a",2),h("click",function(){return s.navigateToHome("god")}),u(3,"i",3),r(4,"span",4),c(5,"Home"),a()()(),r(6,"li",1)(7,"a",5),h("click",function(){return s.navigateToHome("jesus")}),u(8,"i",6),r(9,"span",4),c(10,"Prayers"),a()()(),r(11,"li",1)(12,"a",7),h("click",function(){return s.navigateToHome("devotions")}),u(13,"i",8),r(14,"span",4),c(15,"Devotions"),a()()(),r(16,"li",1)(17,"a",9),h("click",function(){return s.navigateToHome("praises")}),u(18,"i",10),r(19,"span",4),c(20,"Praises"),a()()(),r(21,"li",1)(22,"a",11),h("click",function(){return s.navigateToHome("requests")}),u(23,"i",12),r(24,"span",4),c(25,"Requests"),a()()(),r(26,"li",1)(27,"a",11),h("click",function(){return s.navigateToHome("meetings")}),u(28,"i",13),r(29,"span",4),c(30,"Meetings"),a()()(),r(31,"li"),u(32,"hr"),a(),r(33,"li",1)(34,"a",14),u(35,"i",15),r(36,"span",4),c(37,"Settings"),a()()()()),n&2&&(l(2),m("routerLinkActiveOptions",N(8,We)),l(5),m("routerLinkActiveOptions",N(9,We)),l(5),m("routerLinkActiveOptions",N(10,We)),l(5),m("routerLinkActiveOptions",N(11,We)),l(5),m("routerLinkActiveOptions",N(12,We)),l(5),m("routerLinkActiveOptions",N(13,We)),l(7),m("routerLinkActiveOptions",N(14,We))("routerLink",N(15,Co)))},dependencies:[ve,Ce,E]});let i=o;return i})();var Fi=(()=>{let o=class o{ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-prayers"]],standalone:!0,features:[S],decls:12,vars:0,consts:[[1,"container","mt-5"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-2","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4,"Dedicate, host, and request prayer. Browse prayers."),a()()()(),r(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-prayers-siderbar"),a()(),r(10,"div",8),u(11,"router-outlet"),a()()())},dependencies:[E,Se,Ei]});let i=o;return i})();var Di=(()=>{let o=class o{constructor(){this.currentYear=new Date().getFullYear()}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-layout-footer"]],standalone:!0,features:[S],decls:5,vars:1,consts:[[1,"bg-light","text-center","text-lg-start"],[1,"text-center","p-3"],["href","",1,"text-dark"]],template:function(n,s){n&1&&(r(0,"footer",0)(1,"div",1),c(2),r(3,"a",2),c(4,"Meet-N-Pray"),a()()()),n&2&&(l(2),M(" \xA9 ",s.currentYear," Copyright: "))}});let i=o;return i})();var ot=()=>({exact:!0}),bo=()=>["/community/mymeetings"],Pi=()=>["requests/prayers"],Ni=()=>["/community/meetings"],Li=(()=>{let o=class o{constructor(e){this.router=e}ngOnInit(){}navigateToHome(e){e==="requests"?this.router.navigate(["requests/prayers"]):e==="meetings"?this.router.navigate(["/community/meetings"]):this.router.navigateByUrl("/requests",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray",e]))}ngOnDestroy(){}logout(){sessionStorage.removeItem("CurrentUser"),sessionStorage.clear()}};o.\u0275fac=function(n){return new(n||o)(g(U))},o.\u0275cmp=y({type:o,selectors:[["app-layout-header"]],standalone:!0,features:[S],decls:89,vars:22,consts:[[1,"py-3","mb-4"],["aria-label","Thirteenth navbar example",1,"navbar","navbar-expand-lg","bg-info","rounded","fixed-top"],[1,"container","d-flex","justify-content-center"],["routerLinkActive","active","routerLink","/prayers/letuspray/god","href","#letuspray",1,"navbar-brand",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-person-praying","fa-lg","text-dark","px-2"],[1,"d-none","d-sm-inline"],[1,"d-flex","flex-grow-1"],[1,"input-group","input-group-sm"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-dark","dropdown-toggle"],[1,"fa-solid","fa-lg","fa-bars","px-2"],[1,"dropdown-menu","justify-content-center","shadow",2,"position","absolute"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["type","text","placeholder","search","aria-label","Text input with dropdown button",1,"form-control"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsPrayers","aria-controls","navbarsPrayers","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsPrayers",1,"collapse","navbar-collapse","justify-content-between","flex-column"],[1,"navbar-nav"],[1,"nav-item","dropdown"],["href","javascript:0;","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-decoration-none"],["src","https://via.placeholder.com/28?text=!","alt","user","width","25","height","25",1,"rounded-circle","me-2"],[1,"dropdown-menu","dropdown-menu-end","shadow"],["href","javascript:;",1,"dropdown-item"],["href","javascript:;",1,"dropdown-item",3,"routerLink"],["href","#",1,"nav-link",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket","fa-lg"],[1,"nav-item"],["routerLinkActive","active","href","#requests",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-comment","me-2"],["routerLinkActive","active","href","#meetings",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-users","me-2"],["href","#Resources","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-decoration-none"],[1,"fa-solid","fa-lg","fa-face-smile","me-2"],[1,"dropdown-menu"],["routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"]],template:function(n,s){n&1&&(r(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),u(4,"i",4),r(5,"span",5),c(6,"Meet-N-Pray"),a()(),r(7,"form",6)(8,"div",7)(9,"button",8),u(10,"i",9),a(),r(11,"ul",10)(12,"li")(13,"a",11),h("click",function(){return s.navigateToHome("jesus")}),c(14,"Prayers"),a()(),r(15,"li")(16,"a",11),h("click",function(){return s.navigateToHome("devotions")}),c(17,"Devotions"),a()(),r(18,"li")(19,"a",11),h("click",function(){return s.navigateToHome("praises")}),c(20,"Praises"),a()(),r(21,"li"),u(22,"hr",12),a(),r(23,"li")(24,"a",11),h("click",function(){return s.navigateToHome("requests")}),c(25,"Requests"),a()(),r(26,"li"),u(27,"hr",12),a(),r(28,"li")(29,"a",11),h("click",function(){return s.navigateToHome("meetings")}),c(30,"Meetings"),a()()(),u(31,"input",13),a()(),r(32,"button",14),u(33,"span",15),a(),r(34,"div",16)(35,"ul",17)(36,"li",18)(37,"a",19),u(38,"img",20),r(39,"span"),c(40,"My\xA0Self"),a()(),r(41,"ul",21)(42,"li")(43,"a",22),c(44,"Profile"),a()(),r(45,"li")(46,"a",22),c(47,"Prayers"),a()(),r(48,"li")(49,"a",22),c(50,"Requests"),a()(),r(51,"li")(52,"a",23),c(53,"Meetings"),a()(),r(54,"li")(55,"a",24),h("click",function(){return s.logout()}),u(56,"i",25),c(57," Logout "),a()()()(),r(58,"li",26)(59,"a",27),u(60,"i",28),r(61,"span"),c(62,"Requests"),a()()(),r(63,"li",26)(64,"a",29),u(65,"i",30),r(66,"span"),c(67,"Meetings"),a()()(),r(68,"li",18)(69,"a",31),u(70,"i",32),r(71,"span"),c(72,"Resources"),a()(),r(73,"ul",33)(74,"li")(75,"a",34),h("click",function(){return s.navigateToHome("god")}),u(76,"i",35),r(77,"span"),c(78,"Prayers"),a()()(),r(79,"li")(80,"a",27),u(81,"i",28),r(82,"span"),c(83,"Requests"),a()()(),r(84,"li")(85,"a",29),u(86,"i",30),r(87,"span"),c(88,"Meetings"),a()()()()()()()()()()),n&2&&(l(3),m("routerLinkActiveOptions",N(11,ot)),l(49),m("routerLink",N(12,bo)),l(7),m("routerLinkActiveOptions",N(13,ot))("routerLink",N(14,Pi)),l(5),m("routerLinkActiveOptions",N(15,ot))("routerLink",N(16,Ni)),l(11),m("routerLinkActiveOptions",N(17,ot)),l(5),m("routerLinkActiveOptions",N(18,ot))("routerLink",N(19,Pi)),l(5),m("routerLinkActiveOptions",N(20,ot))("routerLink",N(21,Ni)))},dependencies:[ve,Ce]});let i=o;return i})();var Ai=(()=>{let o=class o{ngOnInit(){this.currentUser=sessionStorage?.getItem("CurrentUser")}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-layout"]],standalone:!0,features:[S],decls:4,vars:0,template:function(n,s){n&1&&(u(0,"app-layout-header"),r(1,"main"),u(2,"router-outlet"),a(),u(3,"app-layout-footer"))},dependencies:[Se,Di,Li]});let i=o;return i})();var Ye=()=>({exact:!0});function xo(i,o){if(i&1){let t=x();r(0,"li",1)(1,"a",16),h("click",function(){v(t);let n=d();return C(n.navigateToRequests("confidential"))}),u(2,"i",17),r(3,"span",7),c(4,"Confidential"),a()()()}i&2&&(l(),m("routerLinkActiveOptions",N(1,Ye)))}var yo=()=>["prayed"],So=()=>["settings"],Vi=(()=>{let o=class o{constructor(e,n){this.router=e,this.profileService=n,this.iContact=n.getProfile()}ngOnInit(){}navigateToRequests(e){this.router.navigate(["prayers/letuspray","god"]),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["/requests",e]))}};o.\u0275fac=function(n){return new(n||o)(g(U),g(R))},o.\u0275cmp=y({type:o,selectors:[["app-requests-siderbar"]],standalone:!0,features:[S],decls:34,vars:17,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["href","javascript:;","routerLinkActive","active","routerLink","/prayers/letuspray/god",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/prayers",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"],[1,"d-none","d-sm-inline","me-2"],["class","nav-item",4,"ngIf"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink","click"],[1,"fa-solid","fa-check-circle","fa-lg","px-2"],[1,"fa-solid","fa-lg","fa-file-lines","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/community/meetings",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-users","px-2"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-gears","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/confidential",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-lock","px-2"]],template:function(n,s){n&1&&(r(0,"ul",0)(1,"li",1)(2,"a",2),u(3,"i",3),r(4,"span",4),c(5,"Home"),a()()(),r(6,"li",1)(7,"a",5),h("click",function(){return s.navigateToRequests("prayers")}),u(8,"i",6),r(9,"span",7),c(10,"Requests"),a()()(),f(11,xo,5,2,"li",8),r(12,"li",1)(13,"a",9),h("click",function(){return s.navigateToRequests("prayed")}),u(14,"i",10),r(15,"span",7),c(16,"Prayed"),a()()(),r(17,"li",1)(18,"a",2),u(19,"i",11),r(20,"span",4),c(21,"Request"),a()()(),r(22,"li",1)(23,"a",12),u(24,"i",13),r(25,"span",4),c(26,"Meetings"),a()()(),r(27,"li"),u(28,"hr"),a(),r(29,"li",1)(30,"a",14),u(31,"i",15),r(32,"span",4),c(33,"Settings"),a()()()()),n&2&&(l(2),m("routerLinkActiveOptions",N(9,Ye)),l(5),m("routerLinkActiveOptions",N(10,Ye)),l(4),m("ngIf",s.iContact.Intercessor),l(2),m("routerLinkActiveOptions",N(11,Ye))("routerLink",N(12,yo)),l(5),m("routerLinkActiveOptions",N(13,Ye)),l(5),m("routerLinkActiveOptions",N(14,Ye)),l(7),m("routerLinkActiveOptions",N(15,Ye))("routerLink",N(16,So)))},dependencies:[ve,Ce,E,P]});let i=o;return i})();var Ri=(()=>{let o=class o{constructor(){this.hello="Welcome to Prayer Request Pages",this.showHideRequestSidebarMenu=!0}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-requests"]],inputs:{showHideRequestSidebarMenu:"showHideRequestSidebarMenu"},standalone:!0,features:[S],decls:12,vars:0,consts:[[1,"container","mt-6"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-2","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4,"Let us pray for each other."),a()()()(),r(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-requests-siderbar"),a()(),r(10,"div",8),u(11,"router-outlet"),a()()())},dependencies:[E,Se,Vi]});let i=o;return i})();var Tt=()=>({exact:!0}),Io=()=>["mymeetings"],qi=(()=>{let o=class o{constructor(e){this.router=e}ngOnInit(){}navigateToHome(){this.router.navigateByUrl("/requests",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray","god"]))}goToMyMeetings(){this.router.navigate(["/community/mymeetings"],{queryParams:{tab:"meetings"}})}};o.\u0275fac=function(n){return new(n||o)(g(U))},o.\u0275cmp=y({type:o,selectors:[["app-meetings-siderbar"]],inputs:{sidebarMenuItems:"sidebarMenuItems"},standalone:!0,features:[S],decls:23,vars:10,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["href","javascript:;","routerLinkActive","active","routerLink","/prayers/letuspray/god",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["href","javascript:;","routerLinkActive","active","routerLink","/community/meetings",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-users","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/prayers",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-comment","me-2"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-user-gear","px-2"]],template:function(n,s){n&1&&(r(0,"ul",0)(1,"li",1)(2,"a",2),u(3,"i",3),r(4,"span",4),c(5,"Home"),a()()(),r(6,"li",1)(7,"a",5),u(8,"i",6),r(9,"span",4),c(10,"Meetings"),a()()(),r(11,"li",1)(12,"a",7),u(13,"i",8),r(14,"span",4),c(15,"Requests"),a()()(),r(16,"li"),u(17,"hr"),a(),r(18,"li",1)(19,"a",9),u(20,"i",10),r(21,"span",4),c(22,"My\xA0Meetings"),a()()()()),n&2&&(l(2),m("routerLinkActiveOptions",N(5,Tt)),l(5),m("routerLinkActiveOptions",N(6,Tt)),l(5),m("routerLinkActiveOptions",N(7,Tt)),l(7),m("routerLinkActiveOptions",N(8,Tt))("routerLink",N(9,Io)))},dependencies:[E,ve,Ce]});let i=o;return i})();var Qi=(()=>{let o=class o{constructor(e,n){this.router=e,this.meetingService=n}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se))},o.\u0275cmp=y({type:o,selectors:[["app-meetings"]],standalone:!0,features:[S],decls:12,vars:0,consts:[[1,"container","mt-5"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-3","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4," Browse meet-n-pray"),a()()()(),r(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-meetings-siderbar"),a()(),r(10,"div",8),u(11,"router-outlet"),a()()())},dependencies:[E,Se,qi]});let i=o;return i})();var Ge=(i,o)=>{let t=ut(R),e=!1,n=t.getProfile();return n&&n.Active&&(e=!0),e};var Oi=(()=>{let o=class o{constructor(){this.currentYear=new Date().getFullYear()}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-main-footer"]],standalone:!0,features:[S],decls:5,vars:1,consts:[[1,"bg-light","text-center","text-lg-start"],[1,"text-center","p-3"],["href","",1,"text-dark"]],template:function(n,s){n&1&&(r(0,"footer",0)(1,"div",1),c(2),r(3,"a",2),c(4,"Meet-N-Pray"),a()()()),n&2&&(l(2),M(" \xA9 ",s.currentYear," Copyright: "))}});let i=o;return i})();function Mo(i,o){if(i&1&&(r(0,"ul",25),u(1,"li",26),a()),i&2){let t=d();l(),m("innerHtml",t.loginFormErrorMessage("Email",t.loginForm.controls.Email.errors),F)}}function wo(i,o){if(i&1&&(r(0,"ul",25),u(1,"li",26),a()),i&2){let t=d();l(),m("innerHtml",t.loginFormErrorMessage("Password",t.loginForm.controls.Password.errors),F)}}var kt=()=>({exact:!0}),ji=(()=>{let o=class o{constructor(e,n,s,p){this.userService=e,this.helperService=n,this.router=s,this.formBuilder=p,this.iContact="",this.iUser={UserId:0,AffiliationLookupId:0,UserTypeLookupId:0,RoleId:0,FirstName:"",LastName:"",Email:"",Phone:"",Profile:"",Country:"",Password:"",ConfirmPassword:"",LoginToken:"",LastLoggedIn:new Date,LockedOn:new Date,RenewPassword:"",ResetPassword:new Date,Active:!1,Moderator:!1,Intercessor:!1,IsBlocked:!1,CreatedDate:new Date,ModifiedDate:new Date}}ngOnInit(){this.buildLoginForm()}buildLoginForm(){let e="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$";this.loginForm=this.formBuilder.group({Email:[this.iUser.Email,[b.required,b.maxLength(100),b.minLength(5),b.email,b.pattern(e)]],Password:[this.iUser.Password,[b.required,b.maxLength(30),b.minLength(8)]],StaySignedIn:[null]})}loginFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}submitLogin(){return w(this,null,function*(){let e="Abce1234Bup0t0!@#";if(this.message="",!this.loginForm.valid)return this.loginForm.markAllAsTouched();let n=this.loginForm.value;this.userService.loginUser(n).pipe(k(s=>L(sessionStorage.setItem("CurrentUser",JSON.stringify(s))))).subscribe({next:s=>{console.log("Save user")},error:s=>{this.message=s.error.Message},complete:()=>{this.router.navigate(["prayers/letuspray","god"])}})})}};o.\u0275fac=function(n){return new(n||o)(g(Mt),g(j),g(U),g(Ae))},o.\u0275cmp=y({type:o,selectors:[["app-main-header"]],standalone:!0,features:[S],decls:42,vars:13,consts:[["aria-label","Thirteenth navbar example",1,"navbar","navbar-expand-lg","bg-info","rounded"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample11","aria-controls","navbarsExample11","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample11",1,"collapse","navbar-collapse","d-lg-flex"],["routerLinkActive","active","routerLink","/howtopray","href","#howtopray",1,"navbar-brand","col-lg-3","me-0",3,"routerLinkActiveOptions"],[1,"navbar-nav","col-lg-5","col-md-5","justify-content-lg-center"],[1,"nav-item"],["routerLinkActive","active","routerLink","/howtopray","href","#howtopray","aria-current","page",1,"nav-link","active",3,"routerLinkActiveOptions"],["routerLinkActive","active","routerLink","/about","href","#about",1,"nav-link",3,"routerLinkActiveOptions"],["routerLinkActive","active","routerLink","/roles","href","#role",1,"nav-link",3,"routerLinkActiveOptions"],[1,"navbar-brand","col-lg-6","col-md-6","col-sm-12",3,"formGroup","ngSubmit"],[1,"row","form-inline","g-4"],[1,"col-auto"],["type","email","aria-describedby","emailHelp","placeholder","Enter email","required","","formControlName","Email","name","Email",1,"form-control","form-control-sm"],["class","text-danger list-unstyled",4,"ngIf"],["type","password","placeholder","Password","formControlName","Password","name","Password","required","",1,"form-control","form-control-sm"],["type","submit",1,"btn","btn-primary","btn-sm"],[1,"row"],[1,"form-check"],["type","checkbox","formControlName","StaySignedIn","name","StaySignedIn",1,"form-check-input",3,"value"],[1,"form-check-label"],[1,"form-group"],["href","javascript:0;",1,"text-decoration-none"],[1,"mb-1","text-danger"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"]],template:function(n,s){n&1&&(r(0,"header")(1,"nav",0)(2,"div",1)(3,"button",2),u(4,"span",3),a(),r(5,"div",4)(6,"a",5),c(7,"Meet-N-Pray"),a(),r(8,"ul",6)(9,"li",7)(10,"a",8),c(11,"How to Pray"),a()(),r(12,"li",7)(13,"a",9),c(14,"About"),a()(),r(15,"li",7)(16,"a",10),c(17,"Roles"),a()()()(),r(18,"form",11),h("ngSubmit",function(){return s.submitLogin()}),r(19,"div",12)(20,"div",13),u(21,"input",14),f(22,Mo,2,1,"ul",15),a(),r(23,"div",13),u(24,"input",16),f(25,wo,2,1,"ul",15),a(),r(26,"div",13)(27,"button",17),c(28,"Submit"),a()()(),r(29,"div",18)(30,"div",13)(31,"div",19),u(32,"input",20),r(33,"label",21),c(34,"Stay Signed In"),a()()(),r(35,"div",13)(36,"div",22)(37,"a",23),c(38,"Forgot Password"),a()()(),r(39,"div",24)(40,"small"),c(41),a()()()()()()()),n&2&&(l(6),m("routerLinkActiveOptions",N(9,kt)),l(4),m("routerLinkActiveOptions",N(10,kt)),l(3),m("routerLinkActiveOptions",N(11,kt)),l(3),m("routerLinkActiveOptions",N(12,kt)),l(2),m("formGroup",s.loginForm),l(4),m("ngIf",s.loginForm.controls.Email.invalid&&(s.loginForm.controls.Email.dirty||s.loginForm.controls.Email.touched)),l(3),m("ngIf",s.loginForm.controls.Password.invalid&&(s.loginForm.controls.Password.dirty||s.loginForm.controls.Password.touched)),l(7),m("value",!1),l(9),I(s.message))},dependencies:[ve,Ce,B,ie,K,Ie,ee,te,vi,ne,oe,P]});let i=o;return i})();var Hi=(()=>{let o=class o{ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-main-layout"]],standalone:!0,features:[S],decls:4,vars:0,template:function(n,s){n&1&&(u(0,"app-main-header"),r(1,"main"),u(2,"router-outlet"),a(),u(3,"app-main-footer"))},dependencies:[Se,Oi,ji]});let i=o;return i})();var Ui=(()=>{let o=class o{constructor(){this.hello="Welcome to Prayers Settings Page!"}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-prayer-settings"]],standalone:!0,features:[S],decls:2,vars:1,template:function(n,s){n&1&&(r(0,"h1"),c(1),a()),n&2&&(l(),I(s.hello))}});let i=o;return i})();var Et=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getNote(e){return this.httpClient.get(this.api+"/notes/"+e)}getNotes(e,n,s,p){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,ascDesc:p};return this.httpClient.post(this.api+"/notes/all",_)}getRequestNotes(e,n){let s={affiliationLookupId:n,requestId:e};return this.httpClient.post(this.api+"/notes/request",s)}getMeetingNotes(e,n){let s={affiliationLookupId:n,meetingId:e};return this.httpClient.post(this.api+"/notes/meeting",s)}savetNote(e){return this.httpClient.post(this.api+"/notes",e)}updateNote(e){return this.httpClient.put(this.api+"/notes",e)}deleteNote(e){return this.httpClient.delete(this.api+"/notes/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function Eo(i,o){if(i&1){let t=x();r(0,"div",12)(1,"span",13),h("click",function(){v(t);let n=d();return C(n.filterRequest(1))}),c(2,"Ascending"),a()(),r(3,"div",12)(4,"span",13),h("click",function(){v(t);let n=d();return C(n.filterRequest(0))}),c(5," Descending"),a()()}}function Fo(i,o){if(i&1&&(r(0,"div")(1,"strong"),c(2),a(),c(3,"\xA0\xA0"),r(4,"strong"),c(5),a()()),i&2){let t=o.$implicit;l(2),I(t.FirstName),l(3),I(t.LastName)}}function Do(i,o){i&1&&(r(0,"div")(1,"span",34),c(2,"Prayed"),a()())}function Po(i,o){if(i&1&&(r(0,"span",34),c(1),a()),i&2){let t=o.$implicit;l(),M("",t.Prayed,"\xA0Prayed")}}function No(i,o){if(i&1&&(r(0,"div"),f(1,Po,2,1,"span",35),a()),i&2){let t=d().$implicit;l(),m("ngForOf",t.RequestStatus)}}function Lo(i,o){i&1&&(r(0,"span"),u(1,"i",36),a())}function Ao(i,o){if(i&1){let t=x();r(0,"tbody")(1,"tr")(2,"div",17)(3,"div",18)(4,"div",19),u(5,"img",20),a()(),r(6,"div",21)(7,"div",0)(8,"div",17),f(9,Fo,6,2,"div",16),r(10,"div",22),c(11),a(),r(12,"div",23),c(13),a()(),r(14,"div",17)(15,"div",2)(16,"div",12)(17,"small",24),c(18),pe(19,"date"),a()()(),r(20,"div",2),u(21,"hr",25),r(22,"div",17)(23,"div",26),f(24,Do,3,0,"div",9)(25,No,2,1,"div",9),a(),r(26,"div",21)(27,"div",12)(28,"div",27)(29,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.requestStatus(s.RequestId,"prayed"))}),r(30,"span"),u(31,"i",29),a()(),r(32,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2),_=he(14);return C(p.composeNote(s,_))}),r(33,"span"),u(34,"i",30),a()(),r(35,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.requestStatus(s,"prayed"))}),r(36,"span"),u(37,"i",31),a()(),r(38,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.requestReactions(s.RequestId,"info"))}),r(39,"span"),u(40,"i",32),a()(),r(41,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.requestReactions(s.RequestId,"shared"))}),f(42,Lo,2,0,"span",9),a(),r(43,"a",28),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.requestReactions(s.RequestId,"inappropriate"))}),r(44,"span"),u(45,"i",33),a()()()()()()()()()()()()()}if(i&2){let t=o.$implicit;l(9),m("ngForOf",t.Contact),l(2),I(t.Purpose),l(2),M(" ",t.Request," "),l(5),X(" #",t.Tags.split("|").join("\xA0,#"),"\xA0|\xA0Posted:\xA0",_e(19,8,t.CreatedDate,"MMM d, y"),""),l(6),m("ngIf",!t.RequestStatus),l(),m("ngIf",t.RequestStatus),l(17),m("ngIf",t.AcceptSharing)}}function Vo(i,o){if(i&1&&(r(0,"div",14)(1,"table",15),f(2,Ao,46,11,"tbody",16),a()()),i&2){let t=d();l(2),m("ngForOf",t.prayerRequests)}}function Ro(i,o){i&1&&(r(0,"div"),c(1,"Loading..."),a())}function qo(i,o){i&1&&(r(0,"div",17)(1,"div",37)(2,"p"),c(3,"There is no data shared."),a()()())}var Qo=i=>({"is-invalid":i});function Oo(i,o){if(i&1){let t=x();r(0,"form",42)(1,"div",43)(2,"div",17)(3,"div",44)(4,"textarea",45),c(5," "),a()(),u(6,"input",46)(7,"input",47)(8,"input",48),a()(),r(9,"div",49)(10,"button",50),h("click",function(){v(t);let n=d(2);return C(n.onSendNoteForm())}),c(11,"Send"),a()()()}if(i&2){let t=d(2);m("formGroup",t.noteForm),l(4),m("ngClass",ye(2,Qo,t.submitted&&t.noteForm.controls.Note.errors))}}function jo(i,o){if(i&1){let t=x();r(0,"div",38)(1,"h4",39),c(2,"Note"),a(),r(3,"button",40),h("click",function(){v(t);let n=d();return C(n.onCloseNoteModal())}),a()(),f(4,Oo,12,4,"form",41)}if(i&2){let t=d();l(4),m("ngIf",t.noteForm)}}var Bi=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H){this.router=e,this.requestService=n,this.profileService=s,this.formBuilder=p,this.modal=_,this.noteService=T,this.activatedRoute=V,this.helperService=Q,this.reactionService=H,this.submitted=!1,this.prayerRequests=[],this.requestType="",this.isLoading=!1,this.prayerOnCall=!1,this.sortScrollByAscDesc=0,this.serviceTypeLookupId=0,this.pageNumber=1,this.pageSize=100,this.confidential=1,this.iRequestStatus={RequestStatusId:0,UserId:0,RequestId:0,TakeRelease:0,Prayed:0,InProgress:0},this.iReaction={ReactionId:0,AffiliationLookupId:0,MeetingId:0,UserId:0,RequestId:0,ScrollId:0,Loves:0,Likes:0,Downloads:0,Listened:0,Shared:0,Star:0,Inappropriate:0,Prayed:0},this.iNote={Note:"",RequestId:0,MeetingId:0,UserId:0,RespondUserId:0,Visible:!1},this.togggleOnCallRequest=()=>this.prayerOnCall=!this.prayerOnCall,this.toggleLoading=()=>this.isLoading=!this.isLoading,this.iContact=s.getProfile()}ngOnInit(){this.requestType=this.activatedRoute.snapshot.params.requesttype,this.getRequestData()}getRequestData(){return w(this,null,function*(){this.toggleLoading(),this.affiliationLookupId=0,this.serviceTypeLookupId=0,this.searchValue="All",this.requestType?.toLowerCase()==="confidential"?(this.confidential=2,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}})):this.requestType?.toLowerCase()==="prayed"?(this.confidential=0,this.requestService.getAnsweredPrayerRequests(this.iContact.UserId,this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Non Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}})):(this.confidential=1,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Non Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}}))})}onScroll(){this.loadRequests()}loadRequests(){return w(this,null,function*(){this.toggleLoading(),this.sortScrollByAscDesc=0,this.affiliationLookupId=0,this.pageNumber++,this.searchValue="All",this.requestType?.toLowerCase()==="confidential"?(this.confidential=2,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId??0,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve prayer requests")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})):this.requestType?.toLowerCase()==="prayed"?(this.confidential=0,this.requestService.getAnsweredPrayerRequests(this.iContact.UserId,this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieved Answer Prayers")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})):(this.confidential=1,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId??0,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve non confidental prayer requests ")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}}))})}filterRequest(e){this.sortScrollByAscDesc=e,this.getRequestData()}requestReactions(e,n){return w(this,null,function*(){if(typeof this.iContact?.UserId<"u"||Number.isNaN(this.iContact?.UserId)){let s={AffiliationLookupId:this.iContact.AffiliationLookupId,UserId:this.iContact.UserId,RequestId:e,ScrollId:0,ReactionId:0,MeetingId:0,Likes:n=="liked"?1:0,Loves:n=="loved"?1:0,Shared:n=="shared"?1:0,Downloads:n=="downloaded"?1:0,Inappropriate:n=="inappropriate"?1:0,Listened:n=="listened"?1:0,Star:n=="favorite"?1:0,Prayed:n=="prayed"?1:0};this.reactionService.SaveReaction(s).pipe(k(p=>(this.iReaction=p,L(this.iReaction)))).subscribe({next:p=>{console.log("Save request reactions")},error:p=>{this.errors=p.error.Message,console.log(this.errors)},complete:()=>{this.loadRequests()}})}})}requestStatus(e,n){return w(this,null,function*(){if(typeof this.iContact?.UserId<"u"||Number.isNaN(this.iContact?.UserId)){let s=this.iRequestStatus;s.RequestId=e,s.UserId=this.iContact.UserId,s.Prayed=n=="prayed"?1:0,s.InProgress=n=="progress"?1:0,s.TakeRelease=1,this.requestService.saveRequestStatus(s).pipe(k(p=>(this.iRequestStatus=p,L(this.iRequestStatus)))).subscribe({next:p=>{console.log("Save request status")},error:p=>{this.errors=p.error.Message},complete:()=>{this.loadRequests()}})}})}composeNote(e,n){return w(this,null,function*(){if(this.submitted=!1,e){let s={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,s),this.iNote.RequestId=e.RequestId,this.iNote.UserId=e.UserId,this.buildNoteForm()}})}buildNoteForm(){this.noteForm=this.formBuilder.group({Note:[this.iNote.Note,[b.required,b.maxLength(300),b.minLength(2)]],RequestId:[this.iNote.RequestId],UserId:[this.iNote.UserId],NoteId:[this.iNote.NoteId]})}noteFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}onSendNoteForm(){return w(this,null,function*(){if(this.submitted=!1,this.noteForm.invalid)return this.submitted=!0,this.noteForm.markAsUntouched();let e={NoteId:this.noteForm.get("NoteId")?.value,Note:this.noteForm.get("Note")?.value,RequestId:this.noteForm.get("RequestId")?.value,MeetingId:0,UserId:this.noteForm.get("UserId")?.value,RespondUserId:this.iContact.UserId,Visible:!0};Number(e.NoteId)===0&&e.Note&&this.noteService.savetNote(e).pipe(k(n=>(this.iNote=n,L(this.iNote)))).subscribe({next:n=>{console.log("Sending request note")},error:n=>{this.errors=n.error.Message},complete:()=>{console.log("Message: Note is send")}}),e.NoteId&&this.noteService.updateNote(e).pipe(k(n=>(this.iNote=n,L(this.iNote)))).subscribe({next:n=>{console.log("Updating request note")},error:n=>{this.errors=n.error.Message},complete:()=>{console.log("Message: Note is updated")}}),this.modal.dismissAll()})}onCloseNoteModal(){this.modal.dismissAll()}};o.\u0275fac=function(n){return new(n||o)(g(U),g(Ci),g(R),g(Me),g(G),g(Et),g(ae),g(j),g(It))},o.\u0275cmp=y({type:o,selectors:[["app-prayer-requests"]],standalone:!0,features:[S],decls:15,vars:6,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-12"],[1,"me-3"],["href","javascript:0;","placement","bottom",1,"text-decoration-none","float-end",3,"ngbPopover"],[1,"fa-solid","fa-filter","fa-lg"],["popFilterContent",""],["infiniteScroll","",1,"row","search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],["noteModal",""],[1,"mb-2"],[3,"click"],[1,"table-responsive"],[1,"table","border","border-1","table-bordered","overflow-hidden"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-2","align-self-center"],[1,"text-center"],["src","...","alt","...",1,"img-fluid","rounded-start"],[1,"col"],[1,"fs-5","fst-italic","fw-light"],[1,"card-text"],[1,"float-end","fs-7","fst-italic"],[1,"mt-1","mb-1"],[1,"col-2"],[1,"d-grid","gap-2","d-flex","d-md-flex","d-sm-flex","justify-content-md-end","justify-content-sm-end","justify-content-end"],["href","javascript:0;",1,"text-decoration-none",3,"click"],[1,"fa-solid","fa-person-praying","fa-lg"],[1,"fa-solid","fa-note-sticky","fa-lg"],[1,"fa-solid","fa-phone-flip","fa-lg"],[1,"fa-solid","fa-circle-info","fa-lg"],[1,"fa-solid","fa-ban","fa-lg"],[1,"fs-6","fw-light","fst-italic"],["class","fs-6 fw-light fst-italic",4,"ngFor","ngForOf"],[1,"fa-solid","fa-share","fa-lg"],[1,"mb-3"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Note","rows","8","placeholder","Enter Note",1,"form-control",3,"ngClass"],["type","hidden","name","RequestId","formControlName","RequestId"],["type","hidden","name","UserId","formControlName","UserId"],["type","hidden","name","NoteId","formControlName","NoteId"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"]],template:function(n,s){if(n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),c(6,"Filter"),a(),f(7,Eo,6,0,"ng-template",null,6,J),a()()(),r(9,"div",7),h("scrolled",function(){return s.onScroll()}),f(10,Vo,3,1,"div",8),a(),f(11,Ro,2,0,"div",9)(12,qo,4,0,"div",10)(13,jo,5,1,"ng-template",null,11,J),a()),n&2){let p=he(8);l(4),m("ngbPopover",p),l(5),m("infiniteScrollDistance",1)("infiniteScrollThrottle",500),l(),m("ngIf",s.prayerRequests.length),l(),m("ngIf",s.isLoading),l(),m("ngIf",!s.prayerRequests.length)}},dependencies:[E,He,O,P,De,xt,St,yt,B,ie,K,ee,te,ne,oe]});let i=o;return i})();var Re=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getParticipant(e){return this.httpClient.get(this.api+"/participants/"+e)}SaveParticipant(e){let n={AffiliationLookupId:e.AffiliationLookupId,UserId:e.UserId,MeetingId:e.MeetingId,RequestId:e.RequestId,RoomId:e.RoomId,Invited:e.Invited,Accepted:e.Accepted,Declined:e.Declined,Attended:e.Attended,Revoked:e.Revoked,Login:e.Login,Passcode:e.Passcode,CreatedDate:e.CreatedDate,ModifiedDate:e.ModifiedDate};return this.httpClient.post(this.api+"/participants",n)}updateParticipant(e){return this.httpClient.put(this.api+"/participants",e)}deleteParticipant(e){return this.httpClient.delete(this.api+"/participants/"+e)}getMeetingParticipants(e,n,s,p,_){let T={meetingId:e,affiliationLookupId:n,pageNumber:s,pageSize:p,date:_??"All"};return this.httpClient.post(this.api+"/participants/meeting",T)}getRequestParticipants(e,n,s,p,_){let T={requestId:e,affiliationLookupId:n,pageNumber:s,pageSize:p,date:_??"All"};return this.httpClient.post(this.api+"/participants/request",T)}getRoomParticipants(e,n,s,p,_){let T={roomId:e,affiliationLookupId:n,pageNumber:s,pageSize:p,date:_??"All"};return this.httpClient.post(this.api+"/participants/room",T)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function Ho(i,o){if(i&1){let t=x();r(0,"div",13)(1,"span",14),h("click",function(){v(t);let n=d();return C(n.filterRequest(1))}),c(2,"Ascending"),a()(),r(3,"div",13)(4,"span",14),h("click",function(){v(t);let n=d();return C(n.filterRequest(0))}),c(5," Descending"),a()()}}function Uo(i,o){if(i&1&&(r(0,"div",27)(1,"strong"),c(2),a(),c(3,"\xA0\xA0"),r(4,"strong"),c(5),a()()),i&2){let t=o.$implicit;l(2),I(t.FirstName),l(3),I(t.LastName)}}function $o(i,o){i&1&&(r(0,"div"),u(1,"span",40),a())}function Bo(i,o){if(i&1&&(r(0,"span",40),c(1),a()),i&2){let t=o.$implicit;l(),M("",t.Prayed,"\xA0Participants")}}function zo(i,o){if(i&1&&(r(0,"div"),f(1,Bo,2,1,"span",41),a()),i&2){let t=d().$implicit;l(),m("ngForOf",t.RequestStatus)}}function Wo(i,o){i&1&&(r(0,"span"),u(1,"i",42),a())}function Yo(i,o){if(i&1){let t=x();r(0,"tbody")(1,"tr")(2,"div",18)(3,"div",19)(4,"div",20),u(5,"img",21),a()(),r(6,"div",22)(7,"div",0)(8,"div",18)(9,"div",23)(10,"strong"),c(11),a()(),f(12,Uo,6,2,"div",24),r(13,"div",25),c(14),a(),r(15,"dl",26)(16,"dt")(17,"div",27),u(18,"i",28),c(19),pe(20,"date"),pe(21,"date"),a()(),r(22,"dt")(23,"div",27),u(24,"i",29),c(25),a()(),r(26,"dt")(27,"div",27),u(28,"i",30),c(29),a()()()(),r(30,"div",18)(31,"div",2)(32,"div",13)(33,"small",31),c(34),a()()(),r(35,"div",2),u(36,"hr",32),r(37,"div",18)(38,"div",33),f(39,$o,2,0,"div",9)(40,zo,2,1,"div",9),a(),r(41,"div",22)(42,"div",13)(43,"div",34)(44,"a",35),h("click",function(){let s=v(t).$implicit,p=d(2),_=he(16);return C(p.openConfirmParticipantModal(s,_))}),r(45,"span"),u(46,"i",36),a()(),r(47,"a",35),h("click",function(){let s=v(t).$implicit,p=d(2),_=he(14);return C(p.composeNote(s,_))}),r(48,"span"),u(49,"i",37),a()(),r(50,"a",35),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.moreInformation(s))}),r(51,"span"),u(52,"i",38),a()(),r(53,"a",35),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.reactions(s,"shared"))}),f(54,Wo,2,0,"span",9),a(),r(55,"a",35),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.reactions(s,"inappropriate"))}),r(56,"span"),u(57,"i",39),a()()()()()()()()()()()()()}if(i&2){let t=o.$implicit;l(11),I(t.Title),l(),m("ngForOf",t.Contact),l(2),M(" ",t.Story," "),l(5),X("\xA0",_e(20,15,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(21,18,t.EndDate,"MMM d, y"),""),l(6),it("\xA0",t.StartTime,"\xA0-\xA0",t.EndTime,"\xA0\xA0",t.TimeZone," "),l(4),it("\xA0",t.Street1,",\xA0",t.City,",\xA0",t.Country," "),l(5),M(" ",t.Tags.split("|").join("\xA0,"),""),l(5),m("ngIf",!t.RequestStatus),l(),m("ngIf",t.RequestStatus),l(14),m("ngIf",t.AcceptSharing)}}function Go(i,o){if(i&1&&(r(0,"div",15)(1,"table",16),f(2,Yo,58,21,"tbody",17),a()()),i&2){let t=d();l(2),m("ngForOf",t.meetnPray)}}function Zo(i,o){i&1&&(r(0,"div"),c(1,"Loading..."),a())}function Xo(i,o){i&1&&(r(0,"div",18)(1,"div",43)(2,"p"),c(3,"There is no data shared."),a()()())}var Jo=i=>({"is-invalid":i});function Ko(i,o){if(i&1){let t=x();r(0,"form",48)(1,"div",49)(2,"div",18)(3,"div",50)(4,"textarea",51),c(5," "),a()(),u(6,"input",52)(7,"input",53)(8,"input",54),a()(),r(9,"div",55)(10,"button",56),h("click",function(){v(t);let n=d().$implicit,s=d();return C(s.onSaveNote(n))}),c(11,"Send"),a()()()}if(i&2){let t=d(2);m("formGroup",t.noteForm),l(4),m("ngClass",ye(2,Jo,t.submitted&&t.noteForm.controls.Note.errors))}}function er(i,o){if(i&1){let t=x();r(0,"div",44)(1,"h4",45),c(2,"Note"),a(),r(3,"button",46),h("click",function(){let s=v(t).$implicit,p=d();return C(p.onCloseNoteModal(s))}),a()(),f(4,Ko,12,4,"form",47)}if(i&2){let t=d();l(4),m("ngIf",t.noteForm)}}function tr(i,o){if(i&1){let t=x();r(0,"form",57)(1,"div",49)(2,"div",18)(3,"div",50)(4,"div",23),c(5,"Are you sure you want to join the "),r(6,"strong"),c(7),a(),c(8," Meet-N-Pray?"),a()()()(),r(9,"div",55)(10,"button",58),h("click",function(){let s=v(t).$implicit,p=d();return C(p.onCloseParticipantConfirm(s))}),c(11,"No"),a(),r(12,"button",56),h("click",function(){let s=v(t).$implicit,p=d();return C(p.onParticipantConfirm(s))}),c(13,"Yes"),a()()()}if(i&2){let t=d();l(7),M(" ",t.confirmParticipant,"")}}var zi=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H){this.router=e,this.meetingService=n,this.reactionService=s,this.modal=p,this.noteService=_,this.participantService=T,this.profileService=V,this.helperService=Q,this.formBuilder=H,this.submitted=!1,this.meetnPray=[],this.iReaction={ReactionId:0,AffiliationLookupId:0,MeetingId:0,UserId:0,RequestId:0,ScrollId:0,Loves:0,Likes:0,Downloads:0,Listened:0,Shared:0,Star:0,Inappropriate:0,Prayed:0},this.iMeeting={MeetingId:0,AffiliationLookupId:0,UserId:0,Title:"",Story:"",Location:{Street1:"",Street2:"",City:"",StateProvince:"",Country:"",Zipcode:""},Tags:"",StartTime:"",EndTime:"",StartDate:"",EndDate:"",Banner:"",Confidential:{IsPublic:!0,IsOnline:!1,Hybrid:!1,InPerson:!1},Recurrence:{Recurring:"",RecurringEndDate:""},Reminders:{Days:"",Hours:""},Restriction:"",TimeZone:"",Inappropriate:!1,CreatedDate:"",ModifiedDate:""},this.isLoading=!1,this.prayerOnCall=!1,this.sortScrollByAscDesc=0,this.serviceTypeLookupId=0,this.confidential=2,this.confirmParticipant="",this.confirmMeetingId="",this.toggleLoading=()=>this.isLoading=!this.isLoading,this.iParticipant={ParticipantId:0,AffiliationLookupId:0,UserId:0,MeetingId:0,RequestId:0,RoomId:0,Invited:!1,Accepted:!1,Declined:!1,Attended:!1,Revoked:!1,Login:"",Passcode:"",CreatedDate:null,ModifiedDate:null},this.iNote={Note:"",RequestId:0,MeetingId:0,UserId:0,RespondUserId:0,Visible:!1},this.iContact=V.getProfile()}ngOnInit(){this.getMeetnPray()}getMeetnPray(){return w(this,null,function*(){this.toggleLoading(),this.affiliationLookupId=0,this.pageNumber=1,this.pageSize=2,this.searchValue="All",yield this.getMeetnPrayData(this.affiliationLookupId,this.pageNumber,this.pageSize,this.sortScrollByAscDesc,this.searchValue)})}getMeetnPrayData(e,n,s,p,_){this.meetingService.getMeetings(e,n,s,p,_).pipe(k(T=>(this.meetnPray=T,this.meetnPray))).subscribe({next:T=>{console.log("Retrieved meeting")},error:T=>{console.log(T)},complete:()=>{this.toggleLoading()}})}onScroll(){this.loadMeetnPray()}loadMeetnPray(){this.toggleLoading(),this.affiliationLookupId=0,this.pageNumber++,this.pageSize=2,this.searchValue="All",this.meetingService.getMeetings(this.affiliationLookupId,this.pageNumber,this.pageSize,this.sortScrollByAscDesc,this.searchValue).pipe(k(e=>(this.meetnPray=[...this.meetnPray,...e],this.meetnPray))).subscribe({next:e=>{console.log("Successfully retrieved meetings")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})}filterRequest(e){this.sortScrollByAscDesc=e,this.getMeetnPray()}requestStatus(e,n){}moreInformation(e){let n={queryParams:{id:e.MeetingId}};if(this.iContact.UserId)this.router.navigate(["/community/meeting"],n);else{let s="/community/meeting",p=new URLSearchParams(n.queryParams).toString(),_=`${s}?${p}`;window.open(_,"_blank")}}reactions(e,n){let s={AffiliationLookupId:this.iContact.AffiliationLookupId,UserId:this.iContact.UserId,RequestId:0,ScrollId:0,ReactionId:0,MeetingId:e.MeetingId,Likes:n=="liked"?1:0,Loves:n=="loved"?1:0,Shared:n=="shared"?1:0,Downloads:n=="downloaded"?1:0,Inappropriate:n=="inappropriate"?1:0,Listened:n=="listened"?1:0,Star:n=="favorite"?1:0,Prayed:n=="prayed"?1:0};this.reactionService.SaveReaction(s).pipe(k(p=>(this.iReaction=p,L(this.iReaction)))).subscribe({next:p=>{console.log("Saved Reaction")},error:p=>{this.errors=p.error.Message},complete:()=>{this.flagMeeting(e)}})}flagMeeting(e){return w(this,null,function*(){if(e){if(this.iMeeting.MeetingId=e.MeetingId,this.iMeeting.Inappropriate=!0,this.iMeeting.UserId=this.iContact.UserId,this.iMeeting.AffiliationLookupId=this.iContact.AffiliationLookupId,this.iMeeting.Tags=e.Tags.length>0?e.Tags.split("|"):[],this.iMeeting.Title=e.Title,this.iMeeting.Story=e.Story,this.iMeeting.StartDate=e.StartDate,this.iMeeting.EndDate=e.EndDate,this.iMeeting.StartTime=e.StartTime,this.iMeeting.EndTime=e.EndTime,this.iMeeting.Restriction=e.Restriction,this.iMeeting.TimeZone=e.TimeZone,this.iMeeting.Banner=e.Banner,this.iMeeting.Location={Street1:e.Street1,Street2:e.Street2,City:e.City,StateProvince:e.StateProvince,Country:e.Country,Zipcode:e.Zipcode},e?.Recurrence){let s=JSON.parse(e?.Recurrence);this.iMeeting.Recurrence={RecurringEndDate:s.RecurringEndDate,Recurring:s.Recurring}}if(e?.Reminders){let s=JSON.parse(e?.Reminders);this.iMeeting.Reminders={Days:s.Days,Hours:s.Hours}}if(e?.Confidential){let s=JSON.parse(e?.Confidential);this.iMeeting.Confidential={InPerson:s.InPerson,IsOnline:s.IsOnline,IsPublic:s.IsPublic,Hybrid:s.Hybrid}}}let n=yield A(this.meetingService.flagMeeting(this.iMeeting))})}composeNote(e,n){if(this.submitted=!1,e){let s={size:"lg",keyboard:!0,backdrop:"static",centered:!0};this.modal.open(n,s),this.iNote.MeetingId=e?.MeetingId,this.iNote.RequestId=e?.RequestId,this.iNote.UserId=e?.UserId,this.buildNoteForm()}}buildNoteForm(){this.noteForm=this.formBuilder.group({Note:[this.iNote?.Note,[b.required,b.maxLength(300),b.minLength(2)]],RequestId:[this.iNote?.RequestId],MeetingId:[this.iNote?.MeetingId],UserId:[this.iNote?.UserId],NoteId:[this.iNote?.NoteId]})}noteFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}onSaveNote(e){return w(this,null,function*(){if(this.submitted=!1,!this.noteForm.valid)return this.submitted=!0,this.noteForm.markAsUntouched();let n={Note:this.noteForm.get("Note")?.value,MeetingId:this.noteForm.get("MeetingId")?.value,RequestId:0,UserId:this.noteForm.get("UserId")?.value,RespondUserId:this.iContact.UserId,Visible:!0};this.noteService.savetNote(n).pipe(k(s=>(this.iNote=s,L(this.iNote)))).subscribe({next:s=>{console.log("Saved Note")},error:s=>{this.errors=s.error.Message},complete:()=>{this.loadMeetnPray()}}),this.onCloseNoteModal(e)})}onCloseNoteModal(e){e.close()}openConfirmParticipantModal(e,n){if(e){console.log(e);let s={size:"lg",backdrop:"static",keyboard:!0,centered:!0};this.modal.open(n,s).result.then(p=>{p==="confirmed"&&this.saveParticipant(e)}),this.confirmParticipant=e.Title,this.confirmMeetingId=e.MeetingId}}saveParticipant(e){return w(this,null,function*(){let n={AffiliationLookupId:this.iContact?.AffiliationLookupId,UserId:this.iContact?.UserId,MeetingId:e.MeetingId,RequestId:0,RoomId:0,Invited:!0,Accepted:!0,Declined:!1,Attended:!0,Revoked:!1,Login:"",Passcode:"",CreatedDate:null,ModifiedDate:null};this.participantService.SaveParticipant(n).pipe(k(s=>(this.iParticipant=s,L(this.iParticipant)))).subscribe({next:s=>{console.log("Successfully saved Participant")},error:s=>{this.errors=s.error.Message},complete:()=>{this.moreInformation(e)}})})}onParticipantConfirm(e){return w(this,null,function*(){e.close("confirmed"),window.open("https://media.meet-n-pray.com?MeetingId="+this.confirmMeetingId+"&host=host","_blank")})}onCloseParticipantConfirm(e){e.close()}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se),g(It),g(G),g(Et),g(Re),g(R),g(j),g(Me))},o.\u0275cmp=y({type:o,selectors:[["app-meetnpray"]],standalone:!0,features:[S],decls:17,vars:6,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-12"],[1,"me-3"],["href","javascript:0;","placement","bottom",1,"text-decoration-none","float-end",3,"ngbPopover"],[1,"fa-solid","fa-filter","fa-lg"],["popFilterContent",""],["infiniteScroll","",1,"row","search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],["noteModal",""],["participantModal",""],[1,"mb-2"],[3,"click"],[1,"table-responsive"],[1,"table","border","border-1","table-bordered","overflow-hidden"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-3","align-self-center"],[1,"text-center"],["src","...","alt","...",1,"img-fluid","rounded-start"],[1,"col"],[1,"fs-5"],["class","fst-italic fw-light",4,"ngFor","ngForOf"],[1,"card-text"],[1,"small"],[1,"fst-italic","fw-light"],[1,"fa-solid","fa-calendar-days"],[1,"fa-solid","fa-clock"],[1,"fa-solid","fa-location-dot"],[1,"float-end","fs-7","fst-italic"],[1,"mt-1","mb-1"],[1,"col-2"],[1,"d-grid","gap-2","d-flex","d-md-flex","d-sm-flex","justify-content-md-end","justify-content-sm-end","justify-content-end"],["href","javascript:0;",1,"text-decoration-none",3,"click"],["tooltip","join",1,"fa-solid","fa-right-to-bracket","fa-lg"],[1,"fa-solid","fa-envelope","fa-lg"],[1,"fa-solid","fa-circle-info","fa-lg"],[1,"fa-solid","fa-ban","fa-lg"],[1,"fs-6","fw-light","fst-italic"],["class","fs-6 fw-light fst-italic",4,"ngFor","ngForOf"],[1,"fa-solid","fa-share","fa-lg"],[1,"mb-3"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Note","rows","8","placeholder","Enter Note",1,"form-control",3,"ngClass"],["type","hidden","name","RequestId","formControlName","RequestId"],["type","hidden","name","UserId","formControlName","UserId"],["type","hidden","name","NoteId","formControlName","NoteId"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],["novalidate",""],[1,"btn","btn-info",3,"click"]],template:function(n,s){if(n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),c(6,"Filter"),a(),f(7,Ho,6,0,"ng-template",null,6,J),a()()(),r(9,"div",7),h("scrolled",function(){return s.onScroll()}),f(10,Go,3,1,"div",8),a(),f(11,Zo,2,0,"div",9)(12,Xo,4,0,"div",10)(13,er,5,1,"ng-template",null,11,J)(15,tr,14,1,"ng-template",null,12,J),a()),n&2){let p=he(8);l(4),m("ngbPopover",p),l(5),m("infiniteScrollDistance",1)("infiniteScrollThrottle",500),l(),m("ngIf",s.meetnPray.length),l(),m("ngIf",s.isLoading),l(),m("ngIf",!s.meetnPray.length)}},dependencies:[E,He,O,P,De,xt,St,yt,B,ie,K,ee,te,ne,oe]});let i=o;return i})();var xe=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getMeetingComponent(e){return this.httpClient.get(this.api+"/components/"+e)}getMeetingComponentsByLookup(e,n,s){let p={meetingId:e,componentLookupTypeId:n,published:s};return this.httpClient.post(this.api+"/components/all",p)}getMeetingComponents(e){let n={meetingId:e};return this.httpClient.post(this.api+"/components/meeting",n)}createMeetingComponent(e){return this.httpClient.post(this.api+"/components",e)}updateMeetingComponent(e){return this.httpClient.put(this.api+"/components",e)}deleteMeetingComponent(e){return this.httpClient.delete(this.api+"/components/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var rt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getQuestionnaireParticipant(e){return this.httpClient.get(this.api+"/questionnaire/participant/"+e)}getQuestionnaireParticipants(e,n){let s={questionnaireId:e,componentId:n};return this.httpClient.post(this.api+"/Questionnaire/participants/",s)}getQuestionnaireParticipantByContact(e,n){let s={contactId:e,componentId:n};return this.httpClient.post(this.api+"/questionnaire/getparticipant/",s)}saveQuestionnaireParticipant(e){return this.httpClient.post(this.api+"/questionnaire/participant/",e)}updateQuestionnaireParticipant(e){return this.httpClient.put(this.api+"/questionnaire/participant/",e)}deleteQuestionnaireParticipant(e){return this.httpClient.delete(this.api+"/questionnaire/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ft=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getContributionParticipant(e){return this.httpClient.get(this.api+"/contributions/participant/"+e)}getContributionParticipants(e,n){let s={contributionId:e,componentId:n};return this.httpClient.post(this.api+"/contributions/participants/",s)}getContributionParticipantByContact(e,n){let s={conctactId:e,contributionId:n};return this.httpClient.post(this.api+"/contributions/participant/",s)}saveContributionParticipant(e){return this.httpClient.post(this.api+"/contributions/participant/",e)}updateContributionParticipant(e){return this.httpClient.put(this.api+"/contributions/participant/",e)}deleteContributionParticipant(e){return this.httpClient.delete(this.api+"/contributions/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Dt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getSignupParticipant(e){return this.httpClient.get(this.api+"/signups/participant/"+e)}getSignupParticipants(e,n){let s={signupId:e,componentId:n};return this.httpClient.post(this.api+"/signups/participants/",s)}getSignupParticipantByContact(e,n){let s={conctactId:e,signupId:n};return this.httpClient.post(this.api+"/signups/participant/",s)}saveSignupParticipant(e){return this.httpClient.post(this.api+"/signups/participant/",e)}updateSignupParticipant(e){return this.httpClient.put(this.api+"/signups/participant/",e)}deleteSignupParticipant(e){return this.httpClient.delete(this.api+"/signups/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function ir(i,o){if(i&1&&(r(0,"span"),u(1,"i",39),a()),i&2){let t=d().$implicit;l(),ce("title",t.Description)}}function nr(i,o){if(i&1&&(r(0,"div",35)(1,"small"),c(2,"Time\xA0Slot:\xA0"),a(),r(3,"span"),c(4),a()()),i&2){let t=d().$implicit;l(4),X(" ",t==null||t.TimeSlot==null?null:t.TimeSlot.StartTime,"\xA0-\xA0",t==null||t.TimeSlot==null?null:t.TimeSlot.EndTime," ")}}function or(i,o){if(i&1){let t=x();r(0,"tbody")(1,"tr")(2,"td")(3,"div")(4,"a",33),h("click",function(){let s=v(t).$implicit;d(6);let p=he(26),_=d();return C(_.openSignupModal(s,p))}),c(5),f(6,ir,2,1,"span",1),a()(),f(7,nr,5,2,"div",34),r(8,"div",35)(9,"small"),c(10,"People\xA0Needed:\xA0"),a(),r(11,"span"),c(12),a()()(),r(13,"td")(14,"div",36)(15,"label",37),u(16,"input",38),a()()()()()}if(i&2){let t=o.$implicit;l(5),M(" ",t.Title," "),l(),m("ngIf",t.Description),l(),m("ngIf",t.TimeSlot),l(5),M(" ",t==null?null:t.PeopleNeeded," "),l(3),qt("for","checkbox-",t.MeetingSignupId.toString(),""),l(),qt("id","checkbox-",t.MeetingSignupId,"")("formControlName","checkbox-",t.MeetingSignupId.toString(),"")("name","checkbox-",t.MeetingSignupId.toString(),""),m("value",t.MeetingSignupId)}}function rr(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"table",29)(3,"thead")(4,"tr"),u(5,"th",30)(6,"th",31),a()(),f(7,or,17,9,"tbody",32),a()()()),i&2){let t=d(6);l(7),m("ngForOf",t.meetingSignupsComponents==null||t.meetingSignupsComponents[0]==null?null:t.meetingSignupsComponents[0].Signups)}}function ar(i,o){if(i&1&&(r(0,"form",26),f(1,rr,8,1,"div",2),a()),i&2){let t=d(5);m("formGroup",t.participantSignupsForm),l(),m("ngIf",t.meetingSignupsComponents.length)}}function sr(i,o){if(i&1){let t=x();r(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",23),c(4),a(),r(5,"input",24),h("change",function(n){v(t);let s=d(4);return C(s.onSelectComponent(n))}),a()()(),f(6,ar,2,2,"form",25),a()}if(i&2){let t=d().$implicit,e=d(3);l(4),M(" ",t.Title," "),l(),m("checked",e.selectedComponent==="signups"),l(),m("ngIf",e.participantSignupsForm)}}function lr(i,o){if(i&1&&(r(0,"span"),u(1,"i",39),a()),i&2){let t=d(2).$implicit;l(),ce("title",t.ShortDescription)}}function cr(i,o){i&1&&(r(0,"small",45),c(1,"Numbers only"),a())}function mr(i,o){if(i&1&&(r(0,"div"),c(1),pe(2,"json"),f(3,cr,2,0,"small",44),a()),i&2){let t=d(2).$implicit,e=d(7),n,s;l(),M(" ",ni(2,2,(n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.errors)," "),l(2),m("ngIf",(s=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:s.errors)}}function pr(i,o){if(i&1){let t=x();r(0,"tr")(1,"td")(2,"div")(3,"a",33),h("click",function(){v(t);let n=d().$implicit;d(6);let s=he(24),p=d();return C(p.openContributorModal(n,s))}),c(4),f(5,lr,2,1,"span",1),a()(),r(6,"div",35)(7,"small"),c(8,"Needed:\xA0"),a(),r(9,"span"),c(10),a()()(),r(11,"td")(12,"div",42),u(13,"input",43),a(),f(14,mr,4,4,"div",1),a()()}if(i&2){let t=d().$implicit,e=d(7),n;l(4),M(" ",t.ItemName," "),l(),m("ngIf",t.ShortDescription),l(5),X(" ",t.Quantity,"\xA0",t.Measure," "),l(3),ce("formControlName",t.MeetingContributionId),ce("name",t.MeetingContributionId),ce("max",t.Quantity),l(),m("ngIf",((n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.invalid)&&((n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.touched))}}function dr(i,o){if(i&1&&(r(0,"tbody"),f(1,pr,15,8,"tr",1),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.Category==="Items")}}function ur(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"table",29)(3,"thead")(4,"tr"),u(5,"th",30)(6,"th",31),a()(),f(7,dr,2,1,"tbody",32),a()()()),i&2){let t=d(6);l(7),m("ngForOf",t.meetingContributionComponents[0]==null?null:t.meetingContributionComponents[0].Contributions)}}function fr(i,o){if(i&1&&(r(0,"form",26),f(1,ur,8,1,"div",2),a()),i&2){let t=d(5);m("formGroup",t.participantContributionForm),l(),m("ngIf",t.meetingContributionComponents.length)}}function gr(i,o){if(i&1){let t=x();r(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",40),c(4),a(),r(5,"input",41),h("change",function(n){v(t);let s=d(4);return C(s.onSelectComponent(n))}),a()()(),f(6,fr,2,2,"form",25),a()}if(i&2){let t=d().$implicit,e=d(3);l(4),M(" ",t.Title," "),l(),m("checked",e.selectedComponent==="contribution"),l(),m("ngIf",e.participantContributionForm)}}function hr(i,o){if(i&1&&(r(0,"div",36)(1,"label",37),u(2,"input",54),c(3),a()()),i&2){let t=o.$implicit,e=d(2).$implicit;l(),ze("for","radio-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","radio-",e.MeetingQuestionnaireId,"-",t,""),ce("formControlName",e.MeetingQuestionnaireId),ce("name",e.MeetingQuestionnaireId),m("value",t),l(),M(" ",t," ")}}function _r(i,o){i&1&&(r(0,"div")(1,"small",45),c(2,"Please select an option"),a()())}function vr(i,o){if(i&1&&(r(0,"div"),f(1,hr,4,8,"div",53)(2,_r,3,0,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Cr(i,o){if(i&1){let t=x();r(0,"div",36)(1,"label",37)(2,"input",55),h("change",function(n){v(t);let s=d(2).$implicit,p=d(6);return C(p.onCheckboxChange(n,s.MeetingQuestionnaireId))}),a(),c(3),a()()}if(i&2){let t=o.$implicit,e=d(2).$implicit,n=d(6),s;l(),ze("for","checkbox-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","checkbox-",e.MeetingQuestionnaireId,"-",t,""),m("value",t)("checked",(s=n.participantQuestionnaireForm.get(e.MeetingQuestionnaireId.toString()))==null?null:s.value.includes(t)),l(),M(" ",t," ")}}function br(i,o){i&1&&(r(0,"div")(1,"small",45),c(2,"Please select at least one option"),a()())}function xr(i,o){if(i&1&&(r(0,"div"),f(1,Cr,4,7,"div",53)(2,br,3,0,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function yr(i,o){if(i&1&&(r(0,"div",36)(1,"label",37),u(2,"input",56),c(3),a()()),i&2){let t=o.$implicit,e=d(2).$implicit;l(),ze("for","radio-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","radio-",e.MeetingQuestionnaireId,"-",t,""),ce("formControlName",e.MeetingQuestionnaireId),ce("name",e.MeetingQuestionnaireId),m("value",t),l(),M(" ",t," ")}}function Sr(i,o){i&1&&(r(0,"div")(1,"small",45),c(2,"Please select an option"),a()())}function Ir(i,o){if(i&1&&(r(0,"div"),f(1,yr,4,8,"div",53)(2,Sr,3,0,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Mr(i,o){if(i&1&&(r(0,"option",61),c(1),a()),i&2){let t=o.$implicit;m("value",t),l(),I(t)}}function wr(i,o){i&1&&(r(0,"div")(1,"small",45),c(2,"Please select an option"),a()())}function Tr(i,o){if(i&1&&(r(0,"div")(1,"div",57)(2,"select",58)(3,"option",59),c(4,"Choose Answer"),a(),f(5,Mr,2,2,"option",60),a()(),f(6,wr,3,0,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(2),ce("formControlName",t.MeetingQuestionnaireId),ce("name",t.MeetingQuestionnaireId),l(3),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function kr(i,o){i&1&&(r(0,"small",45),c(1,"This question is required"),a())}function Er(i,o){i&1&&(r(0,"small",45),c(1,"Maximum 60 characters are required"),a())}function Fr(i,o){if(i&1&&(r(0,"div"),f(1,kr,2,0,"small",63)(2,Er,2,0,"small",63),a()),i&2){let t=d(2).$implicit,e=d(6),n,s;l(),m("nfIf",(n=e.questionnaireParticipantForm.get(t.MeetingQuestionnaireId))==null?null:n.hasError("required")),l(),m("nfIf",(s=e.questionnaireParticipantForm.get(t.MeetingQuestionnaireId))==null?null:s.hasError("maxlength"))}}function Dr(i,o){if(i&1&&(r(0,"div")(1,"div",42),u(2,"input",62),a(),f(3,Fr,3,2,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(2),ce("formControlName",t.MeetingQuestionnaireId),ce("name",t.MeetingQuestionnaireId),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Pr(i,o){i&1&&(r(0,"small",45),c(1,"This question is required"),a())}function Nr(i,o){i&1&&(r(0,"small",45),c(1,"maximum 150 characters are required"),a())}function Lr(i,o){if(i&1&&(r(0,"div"),f(1,Pr,2,0,"small",63)(2,Nr,2,0,"small",63),a()),i&2){let t=d(2).$implicit,e=d(6),n,s;l(),m("nfIf",(n=e.questionnaireParticipantForm.get(t.MeetingQuestionnaireId))==null?null:n.hasError("required")),l(),m("nfIf",(s=e.questionnaireParticipantForm.get(t.MeetingQuestionnaireId))==null?null:s.hasError("maxlength"))}}function Ar(i,o){if(i&1&&(r(0,"div")(1,"div",42),u(2,"textarea",64),a(),f(3,Lr,3,2,"div",1),a()),i&2){let t=d().$implicit,e=d(6),n;l(2),ce("formControlName",t.MeetingQuestionnaireId),ce("name",t.MeetingQuestionnaireId),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Vr(i,o){if(i&1&&(r(0,"div",49)(1,"label",50),c(2),a(),r(3,"div",51),f(4,vr,3,2,"div",52)(5,xr,3,2,"div",52)(6,Ir,3,2,"div",52)(7,Tr,7,4,"div",52)(8,Dr,4,3,"div",52)(9,Ar,4,3,"div",52),a()()),i&2){let t=o.$implicit;l(2),I(t.Question),l(),m("ngSwitch",t.QuestionType),l(),m("ngSwitchCase","SingleChoice"),l(),m("ngSwitchCase","MultipleChoices"),l(),m("ngSwitchCase","TrueFalse"),l(),m("ngSwitchCase","Dropdownlist"),l(),m("ngSwitchCase","ShortAnswer"),l(),m("ngSwitchCase","LongAnswer")}}function Rr(i,o){if(i&1&&(r(0,"form",26),f(1,Vr,10,8,"div",48),a()),i&2){let t=d(5);m("formGroup",t.participantQuestionnaireForm),l(),m("ngForOf",t.meetingQuestionnaireComponents[0]==null?null:t.meetingQuestionnaireComponents[0].Questionnaire)}}function qr(i,o){if(i&1){let t=x();r(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",46),c(4),a(),r(5,"input",47),h("change",function(n){v(t);let s=d(4);return C(s.onSelectComponent(n))}),a()()(),f(6,Rr,2,2,"form",25),a()}if(i&2){let t=d().$implicit,e=d(3);l(4),M(" ",t.Title," "),l(),m("checked",e.selectedComponent==="questionnaire"),l(),m("ngIf",e.participantQuestionnaireForm)}}function Qr(i,o){if(i&1&&(r(0,"div",4),f(1,sr,7,3,"fieldset",19)(2,gr,7,3,"fieldset",19)(3,qr,7,3,"fieldset",19),a()),i&2){let t=o.$implicit;l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Signups"),l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Contributions"),l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Questionnaire")}}function Or(i,o){if(i&1){let t=x();r(0,"div",15),f(1,Qr,4,3,"div",16),r(2,"div",17)(3,"button",18),h("click",function(){v(t);let n=d(2);return C(n.onSubmit())}),c(4),a()()()}if(i&2){let t=d(2);l(),m("ngForOf",t.meetingComponents),l(3),I(t.submitButtonName)}}function jr(i,o){if(i&1){let t=x();r(0,"tbody")(1,"tr")(2,"td"),c(3),a(),r(4,"td"),c(5),a(),r(6,"td")(7,"button",75),h("click",function(){let s=v(t).$implicit,p=d(4);return C(p.cancelContribution(s))}),u(8,"i",76),a()()()()}if(i&2){let t=o.$implicit;l(3),X("",t==null||t.Contact[0]==null?null:t.Contact[0].FirstName,"\xA0 ",t==null||t.Contact[0]==null?null:t.Contact[0].LastName,""),l(2),I(t.Quantity)}}function Hr(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"div",71)(3,"div",72)(4,"span"),c(5),a()(),r(6,"div",4)(7,"table",29)(8,"thead")(9,"tr")(10,"th",73),c(11,"Contributor"),a(),r(12,"th",74),c(13,"Quantity"),a(),u(14,"th",31),a()(),f(15,jr,9,3,"tbody",32),a()()()()()),i&2){let t=d(3);l(5),M("",t.totalContributionQuantity," contributed"),l(10),m("ngForOf",t.meetingContributionContribitors)}}function Ur(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"p"),c(3),a()()()),i&2){let t=d(3);l(3),I(t.norecordfound)}}function $r(i,o){if(i&1){let t=x();r(0,"div",65)(1,"h4",66),c(2),a(),r(3,"button",67),h("click",function(){v(t);let n=d(2);return C(n.onCloseModal())}),a()(),r(4,"div",68),f(5,Hr,16,2,"div",2)(6,Ur,4,1,"div",2),a(),r(7,"div",69)(8,"button",70),h("click",function(){v(t);let n=d(2);return C(n.onCloseModal())}),c(9,"Close"),a()()}if(i&2){let t=d(2);l(2),M("",t.contributionTitle," Contributions"),l(3),m("ngIf",t.meetingContributionContribitors.length),l(),m("ngIf",!t.meetingContributionContribitors.length)}}function Br(i,o){if(i&1){let t=x();r(0,"tbody")(1,"tr")(2,"td"),c(3),a(),r(4,"td")(5,"button",80),h("click",function(){let s=v(t).$implicit,p=d(4);return C(p.cancelSignup(s))}),u(6,"i",76),a()()()()}if(i&2){let t=o.$implicit;l(3),X("",t==null||t.Contact[0]==null?null:t.Contact[0].FirstName,"\xA0 ",t==null||t.Contact[0]==null?null:t.Contact[0].LastName,"")}}function zr(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"div",27)(3,"div",28)(4,"div",71)(5,"div",72)(6,"div")(7,"strong"),c(8,"Time\xA0Slot:\xA0"),a(),u(9,"span",77),a(),r(10,"span"),c(11),a()(),r(12,"div",4)(13,"table",29)(14,"thead")(15,"tr")(16,"th",78),c(17,"Name"),a(),u(18,"th",79),a()(),f(19,Br,7,2,"tbody",32),a()()()()()()()),i&2){let t=d(3);l(9),m("innerHTML",t.signupTimeSlot,F),l(2),M(" ",t.totalSignups," signedup "),l(8),m("ngForOf",t.meetingSignupParticipants==null||t.meetingSignupParticipants[0]==null?null:t.meetingSignupParticipants[0].signupParticipants)}}function Wr(i,o){if(i&1&&(r(0,"div",27)(1,"div",28)(2,"p"),c(3),a()()()),i&2){let t=d(3);l(3),I(t.norecordfound)}}function Yr(i,o){if(i&1){let t=x();r(0,"div",65)(1,"h4",66),c(2),a(),r(3,"button",67),h("click",function(){v(t);let n=d(2);return C(n.onCloseModal())}),a()(),r(4,"div",68),f(5,zr,20,3,"div",2)(6,Wr,4,1,"div",2),a(),r(7,"div",69)(8,"button",70),h("click",function(){v(t);let n=d(2);return C(n.onCloseModal())}),c(9,"Close"),a()()}if(i&2){let t=d(2);l(2),M("",t.signupTitle," Signup"),l(3),m("ngIf",t.meetingSignupParticipants.length),l(),m("ngIf",!t.meetingSignupParticipants.length)}}function Gr(i,o){if(i&1&&(r(0,"div")(1,"div",3)(2,"div",4)(3,"h2",5),c(4),a(),r(5,"p",6),c(6),a(),r(7,"dl",7)(8,"dt")(9,"div",8),u(10,"i",9),c(11),pe(12,"date"),pe(13,"date"),a()(),r(14,"dt")(15,"div",8),u(16,"i",10),c(17),a()(),r(18,"dt")(19,"div",8),u(20,"i",11),c(21),a()()()()(),f(22,Or,5,2,"div",12)(23,$r,10,3,"ng-template",null,13,J)(25,Yr,10,3,"ng-template",null,14,J),a()),i&2){let t=d();l(4),I(t.meeting[0].Title),l(2),I(t.meeting[0].Story),l(5),X("\xA0",_e(12,11,t.meeting[0].StartDate,"MMM d, y"),"\xA0-\xA0",_e(13,14,t.meeting[0].EndDate,"MMM d, y"),""),l(6),it("\xA0",t.meeting[0].StartTime,"\xA0-\xA0",t.meeting[0].EndTime,"\xA0\xA0",t.meeting[0].TimeZone," "),l(4),it("\xA0",t.meeting[0].Street1,",\xA0",t.meeting[0].City,",\xA0",t.meeting[0].Country," "),l(),m("ngIf",t.meetingComponents.length)}}function Zr(i,o){i&1&&(r(0,"div",27)(1,"p"),c(2," Meeting not found"),a()())}var Ot=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H){this.activateRoute=e,this.meetingService=n,this.meetingComponentService=s,this.formBuilder=p,this.profileService=_,this.questionnaireParticipantService=T,this.contributionParticipantService=V,this.signupsParticipantService=Q,this.modal=H,this.selectedComponent="",this.isSelectedComponent=!1,this.buttonName="Sign up",this.signupTimeSlot="",this.totalContributionQuantity="",this.totalSignups="",this.norecordfound="No record found.",this.meetingComponents=[],this.meetingContributionComponents=[],this.meetingQuestionnaireComponents=[],this.meetingSignupsComponents=[],this.isLoading=!1,this.isSubmitted=!1,this.meetingContributionContribitors=[],this.meetingSignupParticipants=[],this.signupTitle="",this.contributionTitle="",this.submitButtonName="Submit",this.published=1,this.iQuestionnaireParticipant={MeetingQuestionnaireParticipantId:0,UserId:0,MeetingComponentId:0,MeetingQuestionnaireId:0,QuestionAnswer:"",CreatedDate:null},this.iContributionParticipant={MeetingContributionParticipantId:0,UserId:0,MeetingComponentId:0,MeetingContributionId:0,Amount:0,Quantity:0},this.iSignupsParticipant={MeetingSignupParticipantId:0,UserId:0,MeetingComponentId:0,MeetingSignupId:0,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){if(this.activateRoute.queryParams.subscribe(e=>{this.meetingId=e.id}),this.meetingId>0&&(this.meeting=yield A(this.meetingService.getMeeting(this.meetingId))),this.meeting){let e=yield A(this.meetingComponentService.getMeetingComponents(this.meeting[0].MeetingId)),n=s=>{let p=new Map;for(let _ of s)p.has(_.ComponentLookupTypeId)||p.set(_.ComponentLookupTypeId,_);return Array.from(p.values())};this.meetingComponents=n(e),this.meetingComponents&&this.meetingComponents.map(s=>{let p=s.ComponentLookup;p[0]?.LookupName.startsWith("Contributions")&&(this.contributionComponentLookupTypeId=p[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="contribution")),p[0]?.LookupName.startsWith("Questionnaire")&&(this.questionnaireComponentLookupTypeId=p[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="questionnaire")),p[0]?.LookupName.startsWith("Signups")&&(this.signupComponentLookupTypeId=p[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="signups"))}),this.isLoading=!0,dt([this.meetingContributionComponents=this.contributionComponentLookupTypeId>0?yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.contributionComponentLookupTypeId,this.published)):[],this.meetingQuestionnaireComponents=this.questionnaireComponentLookupTypeId>0?yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.questionnaireComponentLookupTypeId,this.published)):[],this.meetingSignupsComponents=this.signupComponentLookupTypeId>0?yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.signupComponentLookupTypeId,this.published)):[]]).subscribe({next:s=>{console.log("Succeeded in retrieving meeting components"),this.isLoading=!1},error:s=>{console.error("Error retrieving meeting components: "+s),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}this.buildParticipantQuestionnaireForm(),this.buildParticipantContributionForm(),this.buildParticipantSignupForm(),this.enableComponentForms()})}onSelectComponent(e){this.selectedComponent=e.target.value,this.enableComponentForms()}enableComponentForms(){switch(this.selectedComponent){case"contribution":{this.submitButtonName="Contribute",Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].enable()}),Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].disable()}),Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].disable()});break}case"questionnaire":{this.submitButtonName="Submit",Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].enable()}),Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].disable()}),Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].disable()});break}case"signups":{this.submitButtonName="Signup",Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].enable()}),Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].disable()}),Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].disable()});break}}}buildParticipantSignupForm(){this.participantSignupsForm=this.formBuilder.group({}),this.meetingSignupsComponents[0]?.Signups?.flatMap(e=>{this.participantSignupsForm.addControl("checkbox-"+e.MeetingSignupId.toString(),this.formBuilder.control(""))})}buildParticipantContributionForm(){this.participantContributionForm=this.formBuilder.group({}),this.meetingContributionComponents[0]?.Contributions?.flatMap(e=>{this.participantContributionForm.addControl(e.MeetingContributionId.toString(),this.formBuilder.control(this.iContributionParticipant.MeetingContributionId,[b.pattern("^[0-9]*$"),b.maxLength(3)]))})}buildParticipantQuestionnaireForm(){this.participantQuestionnaireForm=this.formBuilder.group({}),this.meetingQuestionnaireComponents[0]?.Questionnaire?.forEach(e=>{this.participantQuestionnaireForm.addControl(e?.MeetingQuestionnaireId.toString(),this.createQuestionControl(e))})}createQuestionControl(e){let n;return e.QuestionType==="MultipleChoices"?(n=e.Required?[this.checkboxValidator()]:[],this.formBuilder.control([],n)):e.QuestionType==="SingleChoice"||e.QuestionType==="Dropdownlist"||e.QuestionType==="TrueFalse"?(n=e.Required?b.required:[],this.formBuilder.control("",n)):e.QuestionType==="LongAnswer"?(n=e.Required?[b.required,b.minLength(150)]:[],this.formBuilder.control("",n)):(n=e.Required?[b.required,b.minLength(60)]:[],this.formBuilder.control("",n))}splitOptions(e){return e.split(",").map(n=>n.trim())}checkboxValidator(){return e=>{let n=e.value;return Array.isArray(n)&&n.length>0?null:{required:!0}}}onCheckboxChange(e,n){let s=this.participantQuestionnaireForm.get(n.toString());if(s){let p=s?.value||[];Array.isArray(p)||(p=[]),e.target.checked?p.push(e.target.value):p=p.filter(_=>_!==e.target.value),s.setValue(p),s.markAsTouched(),s?.updateValueAndValidity()}else console.error(`Form control with Id= '${n.toString()}' not found.`)}onSubmit(){if(this.isSubmitted=!1,this.selectedComponent==="contribution"){if(this.participantContributionForm.invalid)return this.participantContributionForm.markAllAsTouched();let n=this.meetingContributionComponents[0]?.Contributions?.filter(s=>s.Category==="Items")?.filter(s=>s.MeetingComponentId>0)?.map(s=>{let p=this.participantContributionForm.get(s?.MeetingContributionId.toString())?.value;return this.iContributionParticipant={MeetingContributionParticipantId:0,UserId:this.iContact.UserId,MeetingComponentId:s.MeetingComponentId,MeetingContributionId:s.MeetingContributionId,Amount:0,Quantity:p,CreatedDate:null,ModifiedDate:null}});this.isSubmitted=!0,this.contributionParticipantService.saveContributionParticipant(n).pipe(k(s=>(this.iContributionParticipant=s,this.participantContributionForm.reset(),L(this.iContributionParticipant)))).subscribe({next:s=>{console.log("Successfully saved participant contribution response.")},error:s=>{console.error("Error saving participant contribution responses:",s)},complete:()=>{console.log("Successfully saved participant contribution response.")}})}else if(this.selectedComponent==="questionnaire"){if(this.participantQuestionnaireForm.invalid)return this.participantQuestionnaireForm.markAllAsTouched();let e=this.meetingQuestionnaireComponents[0]?.Questionnaire?.map(n=>{let s=this.participantQuestionnaireForm.get(n?.MeetingQuestionnaireId.toString())?.value,p=n.QuestionType==="MultipleChoices"?s.join(","):s;return this.iQuestionnaireParticipant={MeetingQuestionnaireParticipantId:0,UserId:this.iContact.UserId,MeetingComponentId:n.MeetingComponentId,MeetingQuestionnaireId:n.MeetingQuestionnaireId,QuestionAnswer:p,CreatedUserId:this.iContact.UserId,CreatedDate:null}});this.isSubmitted=!0,this.questionnaireParticipantService.saveQuestionnaireParticipant(e).pipe(k(n=>(this.iQuestionnaireParticipant=n,this.resetForm(),L(this.iQuestionnaireParticipant)))).subscribe({next:n=>{console.log("Successfully saved participant questionnaire response.")},error:n=>{console.error("Error saving responses:",n)},complete:()=>{console.log("Successfully saved participant questionnaire response.")}})}else{if(this.participantSignupsForm.invalid)return this.participantSignupsForm.markAllAsTouched();let e=this.meetingSignupsComponents[0]?.Signups?.map(n=>{let s=this.participantSignupsForm.get("checkbox-"+n?.MeetingSignupId.toString())?.value?n?.MeetingSignupId:0;return this.iSignupsParticipant={MeetingSignupParticipantId:0,UserId:this.iContact.UserId,MeetingComponentId:n.MeetingComponentId,MeetingSignupId:s,CreatedUserId:this.iContact.UserId,CreatedDate:null,ModifiedDate:null}});this.isSubmitted=!0,this.signupsParticipantService.saveSignupParticipant(e).pipe(k(n=>(this.iSignupsParticipant=n,this.participantSignupsForm.reset(),L(this.iSignupsParticipant)))).subscribe({next:n=>{console.log("Successfully saved participant signups response.")},error:n=>{console.error("Error saving participant signups responses:",n)},complete:()=>{console.log("Successfully saved participant signups response.")}})}this.isSubmitted=!1}resetForm(){this.participantQuestionnaireForm.reset(),this.meetingQuestionnaireComponents[0]?.Questionnaire?.map(e=>{if(e.QuestionType==="MultipleChoices"){let n=this.participantQuestionnaireForm.get(e?.MeetingQuestionnaireId.toString())?.setValue([])}})}openContributorModal(e,n){return w(this,null,function*(){if(e){this.contributionTitle=e.ItemName,this.meetingContributionContribitors=yield A(this.contributionParticipantService.getContributionParticipants(e.MeetingContributionId,e.MeetingComponentId));let s=this.meetingContributionContribitors.reduce((_,T)=>_+T.Quantity,0);this.totalContributionQuantity=s+" out of "+e.Quantity,e.Quantity===s&&(this.norecordfound="Contribution for this item is filled. Thank you for willing to help.",this.meetingContributionContribitors=[]);let p={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,p)}})}cancelContribution(e){return w(this,null,function*(){e&&this.iContact.UserId===e.UserId&&(this.meetingContributionContribitors=yield A(this.contributionParticipantService.deleteContributionParticipant(e.MeetingContributionParticipantId))),this.onCloseModal()})}onCloseModal(){this.modal.dismissAll()}openSignupModal(e,n){return w(this,null,function*(){if(e){this.signupTitle=e.Title,this.signupTimeSlot=e?.TimeSlot?.StartTime+"&nbsp;-&nbsp;"+e?.TimeSlot?.StartTime,this.meetingSignupParticipants=yield A(this.signupsParticipantService.getSignupParticipants(e.MeetingSignupId,e.MeetingComponentId)),this.totalSignups=this.meetingSignupParticipants.length+" out of "+e.PeopleNeeded,e.PeopleNeeded===this.meetingSignupParticipants.length&&(this.norecordfound="Signup for this time slot is filled. Thank you for willing to help.",this.meetingSignupParticipants=[]);let s={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,s)}})}cancelSignup(e){return w(this,null,function*(){e&&this.iContact.UserId===e.UserId&&(this.meetingSignupParticipants=yield A(this.signupsParticipantService.deleteSignupParticipant(e.MeetingSignupParticipantId))),this.onCloseModal()})}};o.\u0275fac=function(n){return new(n||o)(g(ae),g(se),g(xe),g(Me),g(R),g(rt),g(Ft),g(Dt),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-meeting"]],standalone:!0,features:[S],decls:3,vars:2,consts:[[1,"container","mt-3","mb-3"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"small"],[1,"fst-italic","fw-light"],[1,"fa-solid","fa-calendar-days"],[1,"fa-solid","fa-clock"],[1,"fa-solid","fa-location-dot"],["class","card meetnpray-card-fieldset  ",4,"ngIf"],["participantContributionModal",""],["participantSignupModal",""],[1,"card","meetnpray-card-fieldset"],["class","card-body",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","float-end",3,"click"],["class","border position-relative mb-2",4,"ngIf"],[1,"border","position-relative","mb-2"],[1,"position-absolute","bg-white"],[1,"form-check"],["for","chkSignups",1,"form-check-label"],["type","radio","name","componentType","id","chkSignups","value","signups",1,"form-check-input",3,"checked","change"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["href","javascript:0;","role","button",1,"link-offset-2","link-underline","link-underline-opacity-10",3,"click"],["class","fst-italic",4,"ngIf"],[1,"fst-italic"],[1,"form-check","form-check-inline"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"id","formControlName","name","value"],["data-bs-toggle","tooltip","data-bs-placement","top",1,"fa-solid","fa-circle-info",3,"title"],["for","chkContribution",1,"form-check-label"],["type","radio","name","componentType","id","chkContribution","value","contribution",1,"form-check-input",3,"checked","change"],[1,"form-group","mb-3"],["type","number","min","0","placeholder","Give Item",1,"form-control",3,"formControlName","name","max"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["for","chkQuestionnaire",1,"form-check-label"],["type","radio","name","componentType","id","chkQuestionnaire","value","questionnaire",1,"form-check-input",3,"checked","change"],["class"," justify-content-start mb-3",4,"ngFor","ngForOf"],[1,"justify-content-start","mb-3"],[1,"fs-6"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["type","radio",1,"form-check-input","px-2",3,"id","formControlName","name","value"],["type","checkbox",1,"form-check-input",3,"value","id","checked","change"],["type","radio",1,"form-check-input",3,"id","formControlName","name","value"],[1,"form-group","col-4","mb-3"],[1,"form-select",3,"formControlName","name"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","Write answer",1,"form-control",3,"formControlName","name"],["class","text-danger",4,"nfIf"],["rows","2","placeholder","Write Answer",1,"form-control",3,"formControlName","name"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-warning",3,"click"],[1,"card"],[1,"card-header"],["scope","col",2,"width","55%"],["scope","col",2,"width","25%"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-title","Cancel contribution",1,"btn","btn-sm",3,"click"],[1,"fa-solid","fa-circle-xmark","fa-lg"],[3,"innerHTML"],["scope","col",2,"width","70%"],["scope","col",2,"width","30%"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Cancel signup",1,"btn","btn-sm",3,"click"]],template:function(n,s){n&1&&(r(0,"div",0),f(1,Gr,27,17,"div",1)(2,Zr,3,0,"div",2),a()),n&2&&(l(),m("ngIf",s.meeting),l(),m("ngIf",!s.meeting))},dependencies:[B,ie,Ne,Le,K,Ue,Ie,Pe,ft,ee,te,_t,ht,ne,oe,E,O,P,ri,ai,si,De],styles:[".meetnpray-card-fieldset[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border-radius:5px;padding:1.2rem .5rem .5rem!important}.meetnpray-card-fieldset[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{top:-.75rem;width:auto;font-size:1.1rem;font-weight:700;padding-right:.25rem!important;padding-left:.25rem!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{width:22px;height:22px}"]});let i=o;return i})();function Xr(i,o){if(i&1){let t=x();r(0,"tr",16)(1,"td")(2,"button",17),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openMeeting(s.MeetingId,s.UserId))}),u(3,"i",18),a()(),r(4,"td")(5,"h5",19),c(6),a()(),r(7,"td")(8,"div"),u(9,"span"),c(10),pe(11,"date"),pe(12,"date"),a()()()}if(i&2){let t=o.$implicit;l(6),I(t.Title),l(4),X("",_e(11,3,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(12,6,t.EndDate,"MMM d, y")," ")}}function Jr(i,o){if(i&1&&(r(0,"div",10)(1,"div",11)(2,"table",12)(3,"thead",13)(4,"tr"),u(5,"th")(6,"th")(7,"th"),a()(),r(8,"tbody",14),f(9,Xr,13,9,"tr",15),a()()()()),i&2){let t=d();l(9),m("ngForOf",t.allMyMeetings)}}function Kr(i,o){i&1&&(r(0,"div",10)(1,"div",20)(2,"p"),c(3,"You have not started a Meet-n-Pray."),a()()())}var Gi=(()=>{let o=class o{constructor(e,n,s,p,_){this.router=e,this.meetingService=n,this.participantService=s,this.profileService=p,this.helperService=_,this.allMyMeetings=[],this.iContact=p.getProfile()}ngOnInit(){}openMeeting(e,n){let s={queryParams:{id:e}};this.router.navigateByUrl("/community",{skipLocationChange:!0}).then(()=>this.router.navigate(["/managemeeting"],s))}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se),g(Re),g(R),g(j))},o.\u0275cmp=y({type:o,selectors:[["app-getmymeetings"]],inputs:{allMyMeetings:"allMyMeetings"},standalone:!0,features:[S],decls:14,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"card","shadow-5"],[1,"card-header","text-dark"],[1,"row","justify-content-evenly"],[1,"col"],[1,"me-5",2,"font-weight","500"],[1,"btn","btn-sm","btn-info","float-end"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"datatable"],[1,"table","datatable-table","table-striped","table-hover"],[1,"datatable-header"],[1,"datatable-body"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],["tooltip","open Meeting",1,"call-btn","btn","btn-outline-primary","btn-floating","btn-sm",3,"click"],[1,"fas","fa-external-link-alt"],[2,"font-weight","500"],[1,"text-center"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),c(8,"Manage"),a()(),r(9,"div",6)(10,"button",8),c(11,"Start a Meet-n-Pray"),a()()()(),f(12,Jr,10,1,"div",9)(13,Kr,4,0,"div",9),a()()()()),n&2&&(l(12),m("ngIf",s.allMyMeetings.length>0),l(),m("ngIf",s.allMyMeetings.length<=0))},dependencies:[E,O,P,De]});let i=o;return i})();function ea(i,o){if(i&1){let t=x();r(0,"tr",16)(1,"td")(2,"button",17),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openMeeting(s))}),u(3,"i",18),a()(),r(4,"td")(5,"h5",19),c(6),a()(),r(7,"td")(8,"div"),u(9,"span"),c(10),pe(11,"date"),pe(12,"date"),a()()()}if(i&2){let t=o.$implicit;l(6),I(t.Title),l(4),X("",_e(11,3,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(12,6,t.EndDate,"MMM d, y")," ")}}function ta(i,o){if(i&1&&(r(0,"div",10)(1,"div",11)(2,"table",12)(3,"thead",13)(4,"tr"),u(5,"th")(6,"th")(7,"th"),a()(),r(8,"tbody",14),f(9,ea,13,9,"tr",15),a()()()()),i&2){let t=d();l(9),m("ngForOf",t.allMyMeetings)}}function ia(i,o){i&1&&(r(0,"div",10)(1,"div",20)(2,"p"),c(3,"You have not participated in any Meet-n-Pray."),a()()())}var Zi=(()=>{let o=class o{constructor(e,n,s,p,_){this.router=e,this.meetingService=n,this.participantService=s,this.profileService=p,this.helperService=_,this.allMyMeetings=[],this.iContact=p.getProfile()}ngOnInit(){}openMeeting(e){let n={queryParams:{id:e.MeetingId}};if(this.iContact.UserId)this.router.navigate(["/community/meeting"],n);else{let s="/community/meeting",p=new URLSearchParams(n.queryParams).toString(),_=`${s}?${p}`;window.open(_,"_blank")}}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se),g(Re),g(R),g(j))},o.\u0275cmp=y({type:o,selectors:[["app-getmyparticipations"]],inputs:{allMyMeetings:"allMyMeetings"},standalone:!0,features:[S],decls:14,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"card","shadow-5"],[1,"card-header","text-dark"],[1,"row","justify-content-evenly"],[1,"col"],[1,"me-5",2,"font-weight","500"],[1,"btn","btn-sm","btn-info","float-end"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"datatable"],[1,"table","datatable-table","table-striped","table-hover"],[1,"datatable-header"],[1,"datatable-body"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],["tooltip","open Meeting",1,"call-btn","btn","btn-outline-primary","btn-floating","btn-sm",3,"click"],[1,"fas","fa-external-link-alt"],[2,"font-weight","500"],[1,"text-center"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),c(8,"Manage"),a()(),r(9,"div",6)(10,"button",8),c(11,"Browse Meet-n-Pray"),a()()()(),f(12,ta,10,1,"div",9)(13,ia,4,0,"div",9),a()()()()),n&2&&(l(12),m("ngIf",s.allMyMeetings.length>0),l(),m("ngIf",s.allMyMeetings.length<=0))},dependencies:[E,O,P,De]});let i=o;return i})();function na(i,o){if(i&1&&(r(0,"div",9),u(1,"app-getmymeetings",10),a()),i&2){let t=d();l(),m("allMyMeetings",t.myMeetings)}}function oa(i,o){if(i&1&&(r(0,"div",11),u(1,"app-getmyparticipations",10),a()),i&2){let t=d();l(),m("allMyMeetings",t.myMeetings)}}var Xi=i=>({active:i}),Ji=(()=>{let o=class o{constructor(e,n,s,p,_,T){this.router=e,this.activateRoute=n,this.meetingService=s,this.participantService=p,this.profileService=_,this.helperService=T,this.activeTab="meetings",this.myMeetings=[],this.iContact=_.getProfile()}ngOnInit(){this.loadMyMeetings()}ngOnChanges(e){this.setActiveTab(this.activeTab)}setActiveTab(e){this.activeTab=e,this.activeTab==="participations"?this.loadMyParticipations():this.loadMyMeetings()}loadMyMeetings(){return w(this,null,function*(){this.meetingService.getUserMeeting(this.iContact.UserId).pipe(k(e=>(this.myMeetings=e,this.myMeetings))).subscribe({next:e=>console.log("Retrieved meeting by user"),error:e=>{console.log(e)},complete:()=>{}})})}loadMyParticipations(){return w(this,null,function*(){this.meetingService.getUserMeetingMembers(this.iContact.UserId).pipe(k(e=>(this.myMeetings=e,this.myMeetings))).subscribe({next:e=>{console.log("Get user meeting participations")},error:e=>{console.log(e)},complete:()=>{}})})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(ae),g(se),g(Re),g(R),g(j))},o.\u0275cmp=y({type:o,selectors:[["app-my-meetings"]],standalone:!0,features:[Ke,S],decls:12,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","nav-justified"],["id","navMyMeetingTab","data-bs-toggle","tab","data-bs-target","#navMyMeeting","type","button","role","tab","aria-controls","navMyMeeting","aria-selected","false",1,"nav-link","active",3,"ngClass","click"],["id","navMyParicipationTab","data-bs-toggle","tab","data-bs-target","#navMyParticipation","type","button","role","tab","aria-controls","navMyParticipation","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade show active","id","navMyMeeting","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navMyParticipation","role","tabpanel",4,"ngIf"],["id","navMyMeeting","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"allMyMeetings"],["id","navMyParticipation","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"div",3)(5,"a",4),h("click",function(){return s.setActiveTab("meetings")}),c(6," My\xA0Meetings "),a(),r(7,"a",5),h("click",function(){return s.setActiveTab("participations")}),c(8," My\xA0Participation "),a()()(),r(9,"div",6),f(10,na,2,1,"div",7)(11,oa,2,1,"div",8),a()()()()),n&2&&(l(5),m("ngClass",ye(4,Xi,s.activeTab==="meetings")),l(2),m("ngClass",ye(6,Xi,s.activeTab==="participations")),l(3),m("ngIf",s.activeTab==="meetings"),l(),m("ngIf",s.activeTab==="participations"))},dependencies:[E,He,P,Gi,Zi]});let i=o;return i})();var ra=["confirmDelete"];function aa(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Title",t.meetingForm.controls.Title.errors),F)}}function sa(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Start date",t.meetingForm.controls.StartDate.errors),F)}}function la(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("End date",t.meetingForm.controls.EndDate.errors),F)}}function ca(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),M(" ",t.Time," ")}}function ma(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Start Time",t.meetingForm.controls.StartTime.errors),F)}}function pa(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),M(" ",t.Time," ")}}function da(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("End Time",t.meetingForm.controls.EndTime.errors),F)}}function ua(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.TimeZoneinfo),l(),M(" ",t.TimeZoneinfo," ")}}function fa(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Timezone",t.meetingForm.controls.TimeZone.errors),F)}}function ga(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Restriction",t.meetingForm.controls.Restriction.errors),F)}}function ha(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Description",t.meetingForm.controls.Story.errors),F)}}function _a(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.meetingFormValidation("Street address",(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.errors),F)}}function va(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.meetingFormValidation("City",(e=t.meetingForm.controls.Location.get("City"))==null?null:e.errors),F)}}function Ca(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.meetingFormValidation("State/Province",(e=t.meetingForm.controls.Location.get("StateProvince"))==null?null:e.errors),F)}}function ba(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.meetingFormValidation("Postal Code",(e=t.meetingForm.controls.Location.get("Zipcode"))==null?null:e.errors),F)}}function xa(i,o){if(i&1&&(r(0,"ul",49),u(1,"li",50),a()),i&2){let t=d(2);l(),m("innerHtml",t.meetingFormValidation("Tag",t.meetingForm.controls.Tags.errors),F)}}function ya(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.RecurrenceId),l(),M(" ",t.Recurrence," ")}}function Sa(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.DayId),l(),M(" ",t.Day," ")}}function Ia(i,o){if(i&1&&(r(0,"option",51),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.HourId),l(),M(" ",t.Hour," ")}}function Ma(i,o){if(i&1){let t=x();r(0,"form",7),h("ngSubmit",function(){v(t);let n=d();return C(n.onSaveMeeting())}),r(1,"div",4)(2,"div",8),u(3,"input",9),f(4,aa,2,1,"ul",10),a()(),r(5,"div",4)(6,"div",11)(7,"div",4)(8,"div",11)(9,"div",8)(10,"label",12),c(11,"Start Date"),a(),r(12,"input",13),h("change",function(){v(t);let n=d();return C(n.onDateChange())}),a(),f(13,sa,2,1,"ul",10),a()(),r(14,"div",11)(15,"div",8)(16,"label",12),c(17,"End Date"),a(),r(18,"input",14),h("change",function(){v(t);let n=d();return C(n.onDateChange())}),a(),f(19,la,2,1,"ul",10),a()(),r(20,"div",15)(21,"div",16),c(22),a()()()(),r(23,"div",11)(24,"div",4)(25,"div",11)(26,"div",8)(27,"label",12),c(28,"Start Time"),a(),r(29,"select",17),h("change",function(){v(t);let n=d();return C(n.onTimeChange())}),r(30,"option",18),c(31,"Select"),a(),f(32,ca,2,2,"option",19),a(),f(33,ma,2,1,"ul",10),a()(),r(34,"div",11)(35,"div",8)(36,"label",12),c(37,"End Time"),a(),r(38,"select",20),h("change",function(){v(t);let n=d();return C(n.onTimeChange())}),r(39,"option",18),c(40,"Select"),a(),f(41,pa,2,2,"option",19),a(),f(42,da,2,1,"ul",10),a()(),r(43,"div",15)(44,"div",16),c(45),a()()()()(),r(46,"div",4)(47,"div",21)(48,"div",4)(49,"div",21)(50,"div",8)(51,"select",22)(52,"option",18),c(53,"Select Timezone"),a(),f(54,ua,2,2,"option",19),a(),f(55,fa,2,1,"ul",10),a()(),r(56,"div",21)(57,"div",23)(58,"div",8)(59,"div",24),u(60,"input",25),r(61,"label",26),c(62,"Is Public"),a()()()()()()(),r(63,"div",21)(64,"div",8),u(65,"input",27),f(66,ga,2,1,"ul",10),a()()(),r(67,"div",4)(68,"div",8),u(69,"textarea",28),f(70,ha,2,1,"ul",10),a(),u(71,"input",29),a(),r(72,"div",4)(73,"div",8)(74,"p",30)(75,"strong"),c(76,"Location/Address"),a()()()(),r(77,"div",4)(78,"div",31)(79,"div",4)(80,"div",2)(81,"div",8),u(82,"input",32),f(83,_a,2,1,"ul",10),a(),u(84,"input",33),a()(),r(85,"div",4)(86,"div",34)(87,"div",8),u(88,"input",35),f(89,va,2,1,"ul",10),a()(),r(90,"div",34)(91,"div",8),u(92,"input",36),f(93,Ca,2,1,"ul",10),a()(),r(94,"div",34)(95,"div",8),u(96,"input",37),f(97,ba,2,1,"ul",10),a()()()()(),r(98,"div",4)(99,"div",8),u(100,"input",38),f(101,xa,2,1,"ul",10),a(),r(102,"div",8)(103,"p",30)(104,"strong"),c(105,"Settings"),a()()()(),r(106,"div",4)(107,"div",11)(108,"div",39)(109,"p"),c(110,"Recurrence"),a(),r(111,"div",11)(112,"div",8)(113,"select",40),h("change",function(){v(t);let n=d();return C(n.recurringChanged())}),r(114,"option",18),c(115,"Select"),a(),f(116,ya,2,2,"option",19),a()()(),r(117,"div",11)(118,"div",8)(119,"input",41),h("change",function(){v(t);let n=d();return C(n.onRecurringDateChange())}),a()()(),r(120,"div",15)(121,"div",16),c(122),a()()()(),r(123,"div",11)(124,"div",42)(125,"p"),c(126,"Reminders"),a(),r(127,"div",11)(128,"div",8)(129,"select",43)(130,"option",18),c(131,"Select Days"),a(),f(132,Sa,2,2,"option",19),a()()(),r(133,"div",11)(134,"div",8)(135,"select",44)(136,"option",18),c(137,"Select Hours"),a(),f(138,Ia,2,2,"option",19),a()()()()()(),u(139,"input",45),r(140,"div",46)(141,"button",47),h("click",function(){v(t);let n=d();return C(n.openConfirmDeleteModal())}),c(142," Delete "),a(),r(143,"button",48),c(144,"Save"),a()()()}if(i&2){let t=d(),e,n,s,p;m("formGroup",t.meetingForm),l(4),m("ngIf",t.meetingForm.controls.Title.invalid&&(t.meetingForm.controls.Title.dirty||t.meetingForm.controls.Title.touched)),l(9),m("ngIf",t.meetingForm.controls.StartDate.invalid&&(t.meetingForm.controls.StartDate.dirty||t.meetingForm.controls.StartDate.touched)),l(6),m("ngIf",t.meetingForm.controls.EndDate.invalid&&(t.meetingForm.controls.EndDate.dirty||t.meetingForm.controls.EndDate.touched)),l(3),I(t.meetingDateError),l(10),m("ngForOf",t.iTime),l(),m("ngIf",t.meetingForm.controls.StartTime.invalid&&(t.meetingForm.controls.StartTime.dirty||t.meetingForm.controls.StartTime.touched)),l(8),m("ngForOf",t.iTime),l(),m("ngIf",t.meetingForm.controls.EndTime.invalid&&(t.meetingForm.controls.EndTime.dirty||t.meetingForm.controls.EndTime.touched)),l(3),I(t.meetingTimeError),l(9),m("ngForOf",t.countryTimezone),l(),m("ngIf",t.meetingForm.controls.TimeZone.invalid&&(t.meetingForm.controls.TimeZone.dirty||t.meetingForm.controls.TimeZone.touched)),l(11),m("ngIf",t.meetingForm.controls.Restriction.invalid&&(t.meetingForm.controls.Restriction.dirty||t.meetingForm.controls.Restriction.touched)),l(4),m("ngIf",t.meetingForm.controls.Story.invalid&&(t.meetingForm.controls.Story.dirty||t.meetingForm.controls.Story.touched)),l(13),m("ngIf",(t.meetingForm.controls.Location==null||(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.invalid)&&(((e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.dirty)||(t.meetingForm.controls.Location==null||(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.touched))),l(6),m("ngIf",(t.meetingForm.controls.Location==null||(n=t.meetingForm.controls.Location.get("City"))==null?null:n.invalid)&&(((n=t.meetingForm.controls.Location.get("City"))==null?null:n.dirty)||(t.meetingForm.controls.Location==null||(n=t.meetingForm.controls.Location.get("City"))==null?null:n.touched))),l(4),m("ngIf",(t.meetingForm.controls.Location==null||(s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.invalid)&&(((s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.dirty)||(t.meetingForm.controls.Location==null||(s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.touched))),l(4),m("ngIf",(t.meetingForm.controls.Location==null||(p=t.meetingForm.controls.Location.get("Zipcode"))==null?null:p.invalid)&&(((p=t.meetingForm.controls.Location.get("Zipcode"))==null?null:p.dirty)||(t.meetingForm.controls.Location==null||(p=t.meetingForm.controls.Location.get("Zipcode"))==null?null:p.touched))),l(4),m("ngIf",t.meetingForm.controls.Tags.invalid&&(t.meetingForm.controls.Tags.dirty||t.meetingForm.controls.Tags.touched)),l(15),m("ngForOf",t.iRecurrence),l(6),M(" ",t.meetingRecurringEndDateError," "),l(10),m("ngForOf",t.iDayReminder),l(6),m("ngForOf",t.iHourlyReminder)}}function wa(i,o){if(i&1){let t=x();r(0,"div",52)(1,"p",53),c(2,"Are you sure you want to delete this Meet-N-Pray?"),a()(),r(3,"div",54)(4,"button",55),h("click",function(){let s=v(t).$implicit,p=d();return C(p.closeDeleteMeetingModal(s))}),c(5," No "),a(),r(6,"button",56),h("click",function(){let s=v(t).$implicit,p=d();return C(p.confirmDeleteMeeting(s))}),c(7," Yes "),a()()}}var Ki=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H){this.lookupService=e,this.timeZoneService=n,this.helperService=s,this.meetingService=p,this.profileService=_,this.formBuilder=T,this.activatedRoute=V,this.router=Q,this.deleteModal=H,this.iTime=[],this.iRecurrence=[],this.iDayReminder=[],this.iHourlyReminder=[],this.countryTimezone=[],this.iMeeting={MeetingId:0,AffiliationLookupId:0,UserId:0,Title:"",Story:"",Location:{Street1:"",Street2:"",City:"",StateProvince:"",Country:"",Zipcode:""},Tags:"",StartTime:"",EndTime:"",StartDate:"",EndDate:"",Banner:"",Confidential:{IsPublic:!0,IsOnline:!1,Hybrid:!1,InPerson:!1},Recurrence:{Recurring:"",RecurringEndDate:""},Reminders:{Days:"",Hours:""},Restriction:"",TimeZone:"",Inappropriate:!1,CreatedDate:"",ModifiedDate:""},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id")})}ngOnChanges(e){return w(this,null,function*(){if(e.meeting&&e.meeting.currentValue){let n=[...this.meeting];if(this.data=n[0],this.data?.MeetingId){let s=JSON.parse(this.data?.Recurrence),p=JSON.parse(this.data?.Confidential),_=JSON.parse(this.data?.Reminders),T={Recurring:s?.Recurring,RecurringEndDate:s?.RecurringEndDate?this.formatDateToInput(s?.RecurringEndDate):null},V={IsPublic:p.IsPublic,IsOnline:p.IsOnline,InPerson:p.InPerson,Hybrid:p.Hybrid},Q={Days:_.Days,Hours:_.Hours},H={Street1:this.data?.Street1,Street2:this.data?.Street2,City:this.data?.City,StateProvince:this.data?.StateProvince,Country:this.data?.Country,Zipcode:this.data?.Zipcode};this.iMeeting.MeetingId=this.data?.MeetingId,this.iMeeting.AffiliationLookupId=this.data?.AffiliationLookupId,this.iMeeting.UserId=this.data?.UserId,this.iMeeting.Title=this.data?.Title,this.iMeeting.Story=this.data?.Story,this.iMeeting.Location=H,this.iMeeting.Tags=this.data?.Tags===""?"":this.data?.Tags?.replaceAll("|",","),this.iMeeting.StartTime=this.data?.StartTime,this.iMeeting.EndTime=this.data?.EndTime,this.iMeeting.StartDate=this.formatDateToInput(this.data?.StartDate),this.iMeeting.EndDate=this.formatDateToInput(this.data?.EndDate),this.iMeeting.Banner=this.data?.Banner,this.iMeeting.Recurrence=T,this.iMeeting.Reminders=Q,this.iMeeting.Confidential=V,this.iMeeting.Restriction=this.data?.Restriction,this.iMeeting.TimeZone=this.data?.TimeZone,this.iMeeting.Inappropriate=this.data?.Inappropriate,this.iMeeting.CreatedDate=this.data?.CreatedDate,this.iMeeting.ModifiedDate=this.data?.ModifiedDate}this.iTime=this.helperService.getTime(),this.iHourlyReminder=this.helperService.getHourlyReminder(),this.iDayReminder=this.helperService.getDayReminder(),this.iRecurrence=this.helperService.getReccurence(),yield this.getCountryTimezone("US"),this.buildMeetingForm()}})}formatDateToInput(e){let n=e+"0";return new Date(e).toISOString().split("T")[0]}buildMeetingForm(){let e="^#[a-zA-Z]+(,#[a-zA-Z]+)*$";this.meetingForm=this.formBuilder.group({MeetingId:[this.iMeeting.MeetingId],Title:[this.iMeeting.Title,[b.required,b.maxLength(80),b.minLength(4)]],Story:[this.iMeeting.Story,[b.required,b.maxLength(500),b.minLength(100)]],Tags:[this.iMeeting.Tags,[b.pattern(e)]],Location:this.formBuilder.group({Street1:[this.iMeeting.Location?.Street1,[b.required,b.maxLength(80),b.minLength(4)]],Street2:[this.iMeeting.Location?.Street2,[b.maxLength(10)]],City:[this.iMeeting.Location?.City,[b.required,b.maxLength(50),b.minLength(4)]],StateProvince:[this.iMeeting.Location?.StateProvince,[b.maxLength(50)]],Country:["US",[b.required]],Zipcode:[this.iMeeting.Location?.City,[b.maxLength(20),b.minLength(5)]]}),StartTime:[this.iMeeting.StartTime,[b.required]],EndTime:[this.iMeeting.EndTime,[b.required]],StartDate:[this.iMeeting.StartDate,[b.required,this.validateDate]],EndDate:[this.iMeeting.EndDate,[b.required,this.validateDate]],TimeZone:[this.iMeeting.TimeZone,[b.required]],Banner:[this.iMeeting.Banner],Recurrence:this.formBuilder.group({Recurring:[this.iMeeting.Recurrence?.Recurring],RecurringEndDate:[this.iMeeting.Recurrence?.RecurringEndDate]}),Reminders:this.formBuilder.group({Days:[this.iMeeting.Reminders?.Days],Hours:[this.iMeeting.Reminders?.Hours]}),Confidential:this.formBuilder.group({IsPublic:[this.iMeeting.Confidential?.IsPublic],IsOnline:[this.iMeeting.Confidential?.IsOnline],InPerson:[this.iMeeting.Confidential?.InPerson],Hybrid:[this.iMeeting.Confidential?.Hybrid]}),Restriction:[this.iMeeting.Restriction]})}meetingFormValidation(e,n){return this.helperService.validateForm(e,n)}validateDate(e){let n=e.value;return n===null||n===""||n<="1850-01-01"?{required:!0}:null}onDateChange(){let e=this.meetingForm.get("StartDate")?.value,n=this.meetingForm.get("EndDate")?.value,s=new Date().toISOString().split("T")[0];if(this.meetingDateError="",n<e&&n!==""){this.meetingDateError="End date cannot be less than start date.";return}if(e<s&&e!==""){this.meetingDateError="Start date cannot be less than today date.";return}}onTimeChange(){let e=this.meetingForm.get("StartTime")?.value,n=this.meetingForm.get("EndTime")?.value;if(this.meetingTimeError="",e===n&&n!==""){this.meetingTimeError="Start time cannot be equal to end time.";return}if(n<e&&n!==""){this.meetingTimeError="End time cannot be less than start time.";return}}recurringChanged(){let e=this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,n=this.meetingForm.controls.Recurrence?.get("Recurring")?.value;if(this.meetingRecurringEndDateError="",e===""&&n!==""){this.meetingRecurringEndDateError="Recurrence end date is required";return}}onRecurringDateChange(){this.meetingRecurringEndDateError="";let e=this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,n=this.meetingForm.get("EndDate")?.value;(n===e||e<n)&&(this.meetingRecurringEndDateError="Recurring date cannot be equal or less than meeting end date")}getCountryTimezone(e){this.timeZoneService.getCountryTimezone(e).pipe(k(n=>(this.countryTimezone=n,this.countryTimezone))).subscribe({next:n=>{console.log("Retrived Timezones")},error:n=>console.log("Error Retrieving TimeZones: "+n)})}onSaveMeeting(){return w(this,null,function*(){if(!this.meetingForm.valid)return this.meetingForm.markAllAsTouched();let e=this.meetingForm.get("Tags")?.value;this.iMeeting.MeetingId=this.meetingForm.get("MeetingId")?.value,this.iMeeting.UserId=this.iContact.UserId,this.iMeeting.AffiliationLookupId=this.iContact.AffiliationLookupId,this.iMeeting.Tags=e.length>0?e.split(","):[],this.iMeeting.Title=this.meetingForm.get("Title")?.value,this.iMeeting.Story=this.meetingForm.get("Story")?.value,this.iMeeting.StartDate=this.meetingForm.get("StartDate")?.value,this.iMeeting.EndDate=this.meetingForm.get("EndDate")?.value,this.iMeeting.StartTime=this.meetingForm.get("StartTime")?.value,this.iMeeting.EndTime=this.meetingForm.get("EndTime")?.value,this.iMeeting.Restriction=this.meetingForm.get("Restriction")?.value,this.iMeeting.TimeZone=this.meetingForm.get("TimeZone")?.value,this.iMeeting.Banner=this.meetingForm.get("Banner")?.value,this.iMeeting.Location={Street1:this.meetingForm.controls.Location?.get("Street1")?.value,Street2:this.meetingForm.controls.Location?.get("Street2")?.value,City:this.meetingForm.controls.Location?.get("City")?.value,StateProvince:this.meetingForm.controls.Location?.get("StateProvince")?.value,Country:this.meetingForm.controls.Location?.get("Country")?.value,Zipcode:this.meetingForm.controls.Location?.get("Zipcode")?.value},this.iMeeting.Recurrence={RecurringEndDate:this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,Recurring:this.meetingForm.controls.Recurrence?.get("Recurring")?.value},this.iMeeting.Reminders={Days:this.meetingForm.controls.Reminders?.get("Days")?.value,Hours:this.meetingForm.controls.Reminders?.get("Hours")?.value},this.iMeeting.Confidential={InPerson:this.meetingForm.controls.Confidential?.get("InPerson")?.value,IsOnline:this.meetingForm.controls.Confidential?.get("IsOnline")?.value,IsPublic:this.meetingForm.controls.Confidential?.get("IsPublic")?.value,Hybrid:this.meetingForm.controls.Confidential?.get("Hybrid")?.value},this.meetingService.updateMeeting(this.iMeeting).pipe(k(n=>(this.iMeeting=n,L(this.iMeeting)))).subscribe({next:n=>{console.log("Updated Meeting")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created meeting prayer.")}})})}openConfirmDeleteModal(){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(e=>{e==="confirmed"&&this.onDeleteMeeting()},e=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteMeeting(){this.meeting?.MeetingId-0>0&&this.meetingService.deleteMeeting(this.meeting?.MeetingId).pipe(k(e=>L(e))).subscribe({next:e=>{console.log("Delete Meeting")},error:e=>console.log("Error deleting meeting"),complete:()=>console.log("Completed deleting record")})}};o.\u0275fac=function(n){return new(n||o)(g(be),g(bi),g(j),g(se),g(R),g(Ae),g(ae),g(U),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-editmeeting"]],viewQuery:function(n,s){if(n&1&&ke(ra,5),n&2){let p;Ee(p=Fe())&&(s.confirmDeleteTemplate=p.first)}},inputs:{meeting:"meeting"},standalone:!0,features:[Ke,S],decls:11,vars:1,consts:[[1,"container"],[1,"row","mt-4","mb-3"],[1,"col-12"],[1,"fs-normal","d-flex","justify-content-center"],[1,"row"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["type","text","formControlName","Title","placeholder","Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","date","formControlName","StartDate","name","StartDate","maxlength","20","placeholder","Enter Start Date",1,"form-control",3,"change"],["type","date","formControlName","EndDate","name","EndDate","maxlength","20","placeholder","Enter End Date",1,"form-control",3,"change"],[1,"mb-3"],[1,"text-danger"],["formControlName","StartTime",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","EndTime",1,"form-select",3,"change"],[1,"col-auto"],["formControlName","TimeZone","name","TimeZone",1,"form-select"],["formGroupName","Confidential"],[1,"form-check","form-check-inline"],["type","checkbox","formControlName","IsPublic","name","IsPublic",1,"form-check-input"],[1,"form-check-label"],["type","text","formControlName","Restriction","placeholder","Restrictions",1,"form-control"],["rows","4","formControlName","Story","placeholder","Tell people about this meet-n-pray",1,"form-control"],["type","hidden","formControlName","MeetingId","placeholder","MeetingId"],[1,"fs-6","text-center"],["formGroupName","Location"],["type","text","formControlName","Street1","name","Street1","placeholder","Location/Street address",1,"form-control"],["type","hidden","formControlName","Country",1,"form-control"],[1,"col-4"],["type","text","formControlName","City","name","City","placeholder","City",1,"form-control"],["type","text","formControlName","StateProvince","name","StateProvince","placeholder","State/Province",1,"form-control"],["type","text","formControlName","Zipcode","name","Zipcode","placeholder","Postal Code",1,"form-control"],["type","text","formControlName","Tags","placeholder","#tag meet-n-pray. A word start with # and should be comma separated: #healing,#redemption",1,"form-control"],["formGroupName","Recurrence",1,"row"],["formControlName","Recurring","name","Recurring",1,"form-select",3,"change"],["type","date","formControlName","RecurringEndDate","name","RecurringEndDate","maxlength","20","placeholder","Enter Recurring End Date",1,"form-control",3,"change"],["formGroupName","Reminders",1,"row"],["formControlName","Days","name","Days",1,"form-select"],["formControlName","Hours","name","Hours",1,"form-select"],["type","hidden","formControlName","MeetingId","name","MeetingId",1,"form-control"],[1,"d-flex","justify-content-center","mb-3"],[1,"btn","btn-danger","col-md-2","me-4",3,"click"],[1,"btn","btn-primary","col-md-2"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],[3,"ngValue"],[1,"modal-body"],[1,"fs-5"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong"),c(5,"Manage meeting"),a()()()(),r(6,"div",4)(7,"div",2),f(8,Ma,145,23,"form",5),a()()(),f(9,wa,8,0,"ng-template",null,6,J)),n&2&&(l(8),m("ngIf",s.meetingForm))},dependencies:[B,ie,Ne,Le,K,Ie,Pe,ee,te,Ct,ne,oe,gt,E,O,P,bt]});let i=o;return i})();var Ta=Math.pow(10,8)*24*60*60*1e3,Sp=-Ta,Pt=6048e5,en=864e5,jt=6e4,Ht=36e5;var ka=3600;var tn=ka*24,Ip=tn*7,Ea=tn*365.2425,Fa=Ea/12,Mp=Fa*3,Ut=Symbol.for("constructDateFrom");function fe(i,o){return typeof i=="function"?i(o):i&&typeof i=="object"&&Ut in i?i[Ut](o):i instanceof Date?new i.constructor(o):new Date(o)}function Z(i,o){return fe(o||i,i)}var Da={};function $e(){return Da}function Qe(i,o){let t=$e(),e=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=Z(i,o?.in),s=n.getDay(),p=(s<e?7:0)+s-e;return n.setDate(n.getDate()-p),n.setHours(0,0,0,0),n}function Xe(i,o){return Qe(i,Kt(Jt({},o),{weekStartsOn:1}))}function Nt(i,o){let t=Z(i,o?.in),e=t.getFullYear(),n=fe(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);let s=Xe(n),p=fe(t,0);p.setFullYear(e,0,4),p.setHours(0,0,0,0);let _=Xe(p);return t.getTime()>=s.getTime()?e+1:t.getTime()>=_.getTime()?e:e-1}function $t(i){let o=Z(i),t=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return t.setUTCFullYear(o.getFullYear()),+i-+t}function nn(i,...o){let t=fe.bind(null,i||o.find(e=>typeof e=="object"));return o.map(t)}function Bt(i,o){let t=Z(i,o?.in);return t.setHours(0,0,0,0),t}function on(i,o,t){let[e,n]=nn(t?.in,i,o),s=Bt(e),p=Bt(n),_=+s-$t(s),T=+p-$t(p);return Math.round((_-T)/en)}function rn(i,o){let t=Nt(i,o),e=fe(o?.in||i,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),Xe(e)}function an(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function sn(i){return!(!an(i)&&typeof i!="number"||isNaN(+Z(i)))}function ln(i,o){let t=Z(i,o?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Pa={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cn=(i,o,t)=>{let e,n=Pa[i];return typeof n=="string"?e=n:o===1?e=n.one:e=n.other.replace("{{count}}",o.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function Lt(i){return(o={})=>{let t=o.width?String(o.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}var Na={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},La={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Aa={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mn={date:Lt({formats:Na,defaultWidth:"full"}),time:Lt({formats:La,defaultWidth:"full"}),dateTime:Lt({formats:Aa,defaultWidth:"full"})};var Va={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pn=(i,o,t,e)=>Va[i];function at(i){return(o,t)=>{let e=t?.context?String(t.context):"standalone",n;if(e==="formatting"&&i.formattingValues){let p=i.defaultFormattingWidth||i.defaultWidth,_=t?.width?String(t.width):p;n=i.formattingValues[_]||i.formattingValues[p]}else{let p=i.defaultWidth,_=t?.width?String(t.width):i.defaultWidth;n=i.values[_]||i.values[p]}let s=i.argumentCallback?i.argumentCallback(o):o;return n[s]}}var Ra={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qa={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ja={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ha={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ua=(i,o)=>{let t=Number(i),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},dn={ordinalNumber:Ua,era:at({values:Ra,defaultWidth:"wide"}),quarter:at({values:qa,defaultWidth:"wide",argumentCallback:i=>i-1}),month:at({values:Qa,defaultWidth:"wide"}),day:at({values:Oa,defaultWidth:"wide"}),dayPeriod:at({values:ja,defaultWidth:"wide",formattingValues:Ha,defaultFormattingWidth:"wide"})};function st(i){return(o,t={})=>{let e=t.width,n=e&&i.matchPatterns[e]||i.matchPatterns[i.defaultMatchWidth],s=o.match(n);if(!s)return null;let p=s[0],_=e&&i.parsePatterns[e]||i.parsePatterns[i.defaultParseWidth],T=Array.isArray(_)?Ba(_,H=>H.test(p)):$a(_,H=>H.test(p)),V;V=i.valueCallback?i.valueCallback(T):T,V=t.valueCallback?t.valueCallback(V):V;let Q=o.slice(p.length);return{value:V,rest:Q}}}function $a(i,o){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&o(i[t]))return t}function Ba(i,o){for(let t=0;t<i.length;t++)if(o(i[t]))return t}function un(i){return(o,t={})=>{let e=o.match(i.matchPattern);if(!e)return null;let n=e[0],s=o.match(i.parsePattern);if(!s)return null;let p=i.valueCallback?i.valueCallback(s[0]):s[0];p=t.valueCallback?t.valueCallback(p):p;let _=o.slice(n.length);return{value:p,rest:_}}}var za=/^(\d+)(th|st|nd|rd)?/i,Wa=/\d+/i,Ya={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ga={any:[/^b/i,/^(a|c)/i]},Za={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xa={any:[/1/i,/2/i,/3/i,/4/i]},Ja={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ka={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},es={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ts={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},is={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fn={ordinalNumber:un({matchPattern:za,parsePattern:Wa,valueCallback:i=>parseInt(i,10)}),era:st({matchPatterns:Ya,defaultMatchWidth:"wide",parsePatterns:Ga,defaultParseWidth:"any"}),quarter:st({matchPatterns:Za,defaultMatchWidth:"wide",parsePatterns:Xa,defaultParseWidth:"any",valueCallback:i=>i+1}),month:st({matchPatterns:Ja,defaultMatchWidth:"wide",parsePatterns:Ka,defaultParseWidth:"any"}),day:st({matchPatterns:es,defaultMatchWidth:"wide",parsePatterns:ts,defaultParseWidth:"any"}),dayPeriod:st({matchPatterns:is,defaultMatchWidth:"any",parsePatterns:ns,defaultParseWidth:"any"})};var zt={code:"en-US",formatDistance:cn,formatLong:mn,formatRelative:pn,localize:dn,match:fn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gn(i,o){let t=Z(i,o?.in);return on(t,ln(t))+1}function hn(i,o){let t=Z(i,o?.in),e=+Xe(t)-+rn(t);return Math.round(e/Pt)+1}function At(i,o){let t=Z(i,o?.in),e=t.getFullYear(),n=$e(),s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,p=fe(o?.in||i,0);p.setFullYear(e+1,0,s),p.setHours(0,0,0,0);let _=Qe(p,o),T=fe(o?.in||i,0);T.setFullYear(e,0,s),T.setHours(0,0,0,0);let V=Qe(T,o);return+t>=+_?e+1:+t>=+V?e:e-1}function _n(i,o){let t=$e(),e=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,n=At(i,o),s=fe(o?.in||i,0);return s.setFullYear(n,0,e),s.setHours(0,0,0,0),Qe(s,o)}function vn(i,o){let t=Z(i,o?.in),e=+Qe(t,o)-+_n(t,o);return Math.round(e/Pt)+1}function $(i,o){let t=i<0?"-":"",e=Math.abs(i).toString().padStart(o,"0");return t+e}var Oe={y(i,o){let t=i.getFullYear(),e=t>0?t:1-t;return $(o==="yy"?e%100:e,o.length)},M(i,o){let t=i.getMonth();return o==="M"?String(t+1):$(t+1,2)},d(i,o){return $(i.getDate(),o.length)},a(i,o){let t=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,o){return $(i.getHours()%12||12,o.length)},H(i,o){return $(i.getHours(),o.length)},m(i,o){return $(i.getMinutes(),o.length)},s(i,o){return $(i.getSeconds(),o.length)},S(i,o){let t=o.length,e=i.getMilliseconds(),n=Math.trunc(e*Math.pow(10,t-3));return $(n,o.length)}};var lt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wt={G:function(i,o,t){let e=i.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(i,o,t){if(o==="yo"){let e=i.getFullYear(),n=e>0?e:1-e;return t.ordinalNumber(n,{unit:"year"})}return Oe.y(i,o)},Y:function(i,o,t,e){let n=At(i,e),s=n>0?n:1-n;if(o==="YY"){let p=s%100;return $(p,2)}return o==="Yo"?t.ordinalNumber(s,{unit:"year"}):$(s,o.length)},R:function(i,o){let t=Nt(i);return $(t,o.length)},u:function(i,o){let t=i.getFullYear();return $(t,o.length)},Q:function(i,o,t){let e=Math.ceil((i.getMonth()+1)/3);switch(o){case"Q":return String(e);case"QQ":return $(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(i,o,t){let e=Math.ceil((i.getMonth()+1)/3);switch(o){case"q":return String(e);case"qq":return $(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(i,o,t){let e=i.getMonth();switch(o){case"M":case"MM":return Oe.M(i,o);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(i,o,t){let e=i.getMonth();switch(o){case"L":return String(e+1);case"LL":return $(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(i,o,t,e){let n=vn(i,e);return o==="wo"?t.ordinalNumber(n,{unit:"week"}):$(n,o.length)},I:function(i,o,t){let e=hn(i);return o==="Io"?t.ordinalNumber(e,{unit:"week"}):$(e,o.length)},d:function(i,o,t){return o==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Oe.d(i,o)},D:function(i,o,t){let e=gn(i);return o==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):$(e,o.length)},E:function(i,o,t){let e=i.getDay();switch(o){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(i,o,t,e){let n=i.getDay(),s=(n-e.weekStartsOn+8)%7||7;switch(o){case"e":return String(s);case"ee":return $(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(i,o,t,e){let n=i.getDay(),s=(n-e.weekStartsOn+8)%7||7;switch(o){case"c":return String(s);case"cc":return $(s,o.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(i,o,t){let e=i.getDay(),n=e===0?7:e;switch(o){case"i":return String(n);case"ii":return $(n,o.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(i,o,t){let n=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(i,o,t){let e=i.getHours(),n;switch(e===12?n=lt.noon:e===0?n=lt.midnight:n=e/12>=1?"pm":"am",o){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(i,o,t){let e=i.getHours(),n;switch(e>=17?n=lt.evening:e>=12?n=lt.afternoon:e>=4?n=lt.morning:n=lt.night,o){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(i,o,t){if(o==="ho"){let e=i.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return Oe.h(i,o)},H:function(i,o,t){return o==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Oe.H(i,o)},K:function(i,o,t){let e=i.getHours()%12;return o==="Ko"?t.ordinalNumber(e,{unit:"hour"}):$(e,o.length)},k:function(i,o,t){let e=i.getHours();return e===0&&(e=24),o==="ko"?t.ordinalNumber(e,{unit:"hour"}):$(e,o.length)},m:function(i,o,t){return o==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Oe.m(i,o)},s:function(i,o,t){return o==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Oe.s(i,o)},S:function(i,o){return Oe.S(i,o)},X:function(i,o,t){let e=i.getTimezoneOffset();if(e===0)return"Z";switch(o){case"X":return bn(e);case"XXXX":case"XX":return Je(e);case"XXXXX":case"XXX":default:return Je(e,":")}},x:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"x":return bn(e);case"xxxx":case"xx":return Je(e);case"xxxxx":case"xxx":default:return Je(e,":")}},O:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+Cn(e,":");case"OOOO":default:return"GMT"+Je(e,":")}},z:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+Cn(e,":");case"zzzz":default:return"GMT"+Je(e,":")}},t:function(i,o,t){let e=Math.trunc(+i/1e3);return $(e,o.length)},T:function(i,o,t){return $(+i,o.length)}};function Cn(i,o=""){let t=i>0?"-":"+",e=Math.abs(i),n=Math.trunc(e/60),s=e%60;return s===0?t+String(n):t+String(n)+o+$(s,2)}function bn(i,o){return i%60===0?(i>0?"-":"+")+$(Math.abs(i)/60,2):Je(i,o)}function Je(i,o=""){let t=i>0?"-":"+",e=Math.abs(i),n=$(Math.trunc(e/60),2),s=$(e%60,2);return t+n+o+s}var xn=(i,o)=>{switch(i){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},yn=(i,o)=>{switch(i){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},os=(i,o)=>{let t=i.match(/(P+)(p+)?/)||[],e=t[1],n=t[2];if(!n)return xn(i,o);let s;switch(e){case"P":s=o.dateTime({width:"short"});break;case"PP":s=o.dateTime({width:"medium"});break;case"PPP":s=o.dateTime({width:"long"});break;case"PPPP":default:s=o.dateTime({width:"full"});break}return s.replace("{{date}}",xn(e,o)).replace("{{time}}",yn(n,o))},Sn={p:yn,P:os};var rs=/^D+$/,as=/^Y+$/,ss=["D","DD","YY","YYYY"];function In(i){return rs.test(i)}function Mn(i){return as.test(i)}function wn(i,o,t){let e=ls(i,o,t);if(console.warn(e),ss.includes(i))throw new RangeError(e)}function ls(i,o,t){let e=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${o}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var cs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ms=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ps=/^'([^]*?)'?$/,ds=/''/g,us=/[a-zA-Z]/;function Tn(i,o,t){let e=$e(),n=t?.locale??e.locale??zt,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,p=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,_=Z(i,t?.in);if(!sn(_))throw new RangeError("Invalid time value");let T=o.match(ms).map(Q=>{let H=Q[0];if(H==="p"||H==="P"){let Be=Sn[H];return Be(Q,n.formatLong)}return Q}).join("").match(cs).map(Q=>{if(Q==="''")return{isToken:!1,value:"'"};let H=Q[0];if(H==="'")return{isToken:!1,value:fs(Q)};if(Wt[H])return{isToken:!0,value:Q};if(H.match(us))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:Q}});n.localize.preprocessor&&(T=n.localize.preprocessor(_,T));let V={firstWeekContainsDate:s,weekStartsOn:p,locale:n};return T.map(Q=>{if(!Q.isToken)return Q.value;let H=Q.value;(!t?.useAdditionalWeekYearTokens&&Mn(H)||!t?.useAdditionalDayOfYearTokens&&In(H))&&wn(H,o,String(i));let Be=Wt[H[0]];return Be(_,H,n.localize,V)}).join("")}function fs(i){let o=i.match(ps);return o?o[1].replace(ds,"'"):i}function kn(i,o){let t=()=>fe(o?.in,NaN),e=o?.additionalDigits??2,n=vs(i),s;if(n.date){let V=Cs(n.date,e);s=bs(V.restDateString,V.year)}if(!s||isNaN(+s))return t();let p=+s,_=0,T;if(n.time&&(_=xs(n.time),isNaN(_)))return t();if(n.timezone){if(T=ys(n.timezone),isNaN(T))return t()}else{let V=new Date(p+_),Q=Z(0,o?.in);return Q.setFullYear(V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()),Q.setHours(V.getUTCHours(),V.getUTCMinutes(),V.getUTCSeconds(),V.getUTCMilliseconds()),Q}return Z(p+_+T,o?.in)}var Vt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gs=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hs=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vs(i){let o={},t=i.split(Vt.dateTimeDelimiter),e;if(t.length>2)return o;if(/:/.test(t[0])?e=t[0]:(o.date=t[0],e=t[1],Vt.timeZoneDelimiter.test(o.date)&&(o.date=i.split(Vt.timeZoneDelimiter)[0],e=i.substr(o.date.length,i.length))),e){let n=Vt.timezone.exec(e);n?(o.time=e.replace(n[1],""),o.timezone=n[1]):o.time=e}return o}function Cs(i,o){let t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),e=i.match(t);if(!e)return{year:NaN,restDateString:""};let n=e[1]?parseInt(e[1]):null,s=e[2]?parseInt(e[2]):null;return{year:s===null?n:s*100,restDateString:i.slice((e[1]||e[2]).length)}}function bs(i,o){if(o===null)return new Date(NaN);let t=i.match(gs);if(!t)return new Date(NaN);let e=!!t[4],n=mt(t[1]),s=mt(t[2])-1,p=mt(t[3]),_=mt(t[4]),T=mt(t[5])-1;if(e)return Ts(o,_,T)?Ss(o,_,T):new Date(NaN);{let V=new Date(0);return!Ms(o,s,p)||!ws(o,n)?new Date(NaN):(V.setUTCFullYear(o,s,Math.max(n,p)),V)}}function mt(i){return i?parseInt(i):1}function xs(i){let o=i.match(hs);if(!o)return NaN;let t=Yt(o[1]),e=Yt(o[2]),n=Yt(o[3]);return ks(t,e,n)?t*Ht+e*jt+n*1e3:NaN}function Yt(i){return i&&parseFloat(i.replace(",","."))||0}function ys(i){if(i==="Z")return 0;let o=i.match(_s);if(!o)return 0;let t=o[1]==="+"?-1:1,e=parseInt(o[2]),n=o[3]&&parseInt(o[3])||0;return Es(e,n)?t*(e*Ht+n*jt):NaN}function Ss(i,o,t){let e=new Date(0);e.setUTCFullYear(i,0,4);let n=e.getUTCDay()||7,s=(o-1)*7+t+1-n;return e.setUTCDate(e.getUTCDate()+s),e}var Is=[31,null,31,30,31,30,31,31,30,31,30,31];function En(i){return i%400===0||i%4===0&&i%100!==0}function Ms(i,o,t){return o>=0&&o<=11&&t>=1&&t<=(Is[o]||(En(i)?29:28))}function ws(i,o){return o>=1&&o<=(En(i)?366:365)}function Ts(i,o,t){return o>=1&&o<=53&&t>=0&&t<=6}function ks(i,o,t){return i===24?o===0&&t===0:t>=0&&t<60&&o>=0&&o<60&&i>=0&&i<25}function Es(i,o){return o>=0&&o<=59}var Fs=["confirmDelete"];function Ds(i,o){if(i&1&&(r(0,"ul",32),u(1,"li",33),a()),i&2){let t=d(2);l(),m("innerHtml",t.componentsFormValidation("Title",t.componentsForm.controls.Title.errors),F)}}function Ps(i,o){if(i&1&&(r(0,"ul",32),u(1,"li",33),a()),i&2){let t=d(2);l(),m("innerHtml",t.componentsFormValidation("Start date",t.componentsForm.controls.StartDate.errors),F)}}function Ns(i,o){if(i&1&&(r(0,"ul",32),u(1,"li",33),a()),i&2){let t=d(2);l(),m("innerHtml",t.componentsFormValidation("End date",t.componentsForm.controls.EndDate.errors),F)}}function Ls(i,o){if(i&1){let t=x();r(0,"button",34),h("click",function(){v(t);let n=d(2);return C(n.openConfirmDeleteModal(n.componentsForm.controls.MeetingComponentId.value))}),c(1," Delete "),a()}if(i&2){let t=d(2);m("disabled",t.componentsForm.invalid)}}function As(i,o){if(i&1){let t=x();r(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),a(),r(5,"button",6),h("click",function(){v(t);let n=d();return C(n.activeModal.dismiss("Cross click"))}),a()(),r(6,"div",7)(7,"div",8),u(8,"div",9),r(9,"div",10)(10,"div",11)(11,"div",12),u(12,"input",13),f(13,Ds,2,1,"ul",14),a()(),r(14,"div",11)(15,"div",15)(16,"div",12)(17,"label",16),c(18,"Start Date"),a(),r(19,"input",17),h("change",function(){v(t);let n=d();return C(n.onDateChange())}),a(),f(20,Ps,2,1,"ul",14),a()(),r(21,"div",15)(22,"div",12)(23,"label",16),c(24,"End Date"),a(),r(25,"input",18),h("change",function(){v(t);let n=d();return C(n.onDateChange())}),a(),f(26,Ns,2,1,"ul",14),a()(),r(27,"div",19)(28,"div",20),c(29),a()()(),r(30,"div",11)(31,"div",21)(32,"div",11)(33,"div",21)(34,"div",22)(35,"label",23),u(36,"input",24),c(37," Publish "),a()(),u(38,"input",25)(39,"input",26)(40,"input",27),a()()()()()()(),r(41,"div",28)(42,"button",29),h("click",function(){v(t);let n=d();return C(n.activeModal.close("Close click"))}),c(43," Cancel "),a(),f(44,Ls,2,1,"button",30),r(45,"button",31),h("click",function(){v(t);let n=d();return C(n.onCreateUpdateMeetingComponent())}),c(46," Save "),a()()()()}if(i&2){let t=d();m("formGroup",t.componentsForm),l(4),I(t.modalTitle),l(9),m("ngIf",t.componentsForm.controls.Title.invalid&&(t.componentsForm.controls.Title.dirty||t.componentsForm.controls.Title.touched)),l(7),m("ngIf",t.componentsForm.controls.StartDate.invalid&&(t.componentsForm.controls.StartDate.dirty||t.componentsForm.controls.StartDate.touched)),l(6),m("ngIf",t.componentsForm.controls.EndDate.invalid&&(t.componentsForm.controls.EndDate.dirty||t.componentsForm.controls.EndDate.touched)),l(3),I(t.dateError),l(15),m("ngIf",t.componentsForm.controls.MeetingComponentId.value>0),l(),m("disabled",t.componentsForm.invalid)}}function Vs(i,o){if(i&1){let t=x();r(0,"div",7)(1,"p",35),c(2,"Are you sure you want to delete this meeting component?"),a()(),r(3,"div",28)(4,"button",36),h("click",function(){let s=v(t).$implicit,p=d();return C(p.closeDeleteMeetingModal(s))}),c(5," No "),a(),r(6,"button",37),h("click",function(){let s=v(t).$implicit,p=d();return C(p.confirmDeleteMeeting(s))}),c(7," Yes "),a()()}}var je=(()=>{let o=class o{constructor(e,n,s,p,_,T){this.activeModal=e,this.formBuilder=n,this.profileService=s,this.meetingComponentService=p,this.deleteModal=_,this.helperService=T,this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1,Contributions:[],Questionnaire:[],Signups:[]},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){if(this.meetingComponentId===0)this.iComponent.MeetingId=this.meetingId,this.iComponent.ComponentLookupTypeId=this.componentLookupTypeId;else{let e=yield A(this.meetingComponentService.getMeetingComponent(this.meetingComponentId));this.iComponent=e[0]}this.buildComponentsForm()})}formatDate(e){if(e){let n=kn(e);return isNaN(n.getTime())?null:Tn(n,"yyyy-MM-dd")}else return null}buildComponentsForm(){this.componentsForm=this.formBuilder.group({MeetingComponentId:[this.iComponent.MeetingComponentId],MeetingId:[this.iComponent.MeetingId],ComponentLookupTypeId:[this.iComponent.ComponentLookupTypeId],Title:[this.iComponent.Title,[b.required,b.maxLength(50),b.minLength(4)]],StartDate:[this.formatDate(this.iComponent.StartDate),[b.required,this.validateDate]],EndDate:[this.formatDate(this.iComponent.EndDate),[b.required,this.validateDate]],IsPublished:[this.iComponent.IsPublished]})}componentsFormValidation(e,n){return this.helperService.validateForm(e,n)}validateDate(e){let n=e.value;return n===null||n===""||n<="1850-01-01"?{required:!0}:null}onDateChange(){let e=this.componentsForm.get("StartDate")?.value,n=this.componentsForm.get("EndDate")?.value,s=new Date().toISOString().split("T")[0];if(this.dateError="",n<e&&n!==""){this.dateError="End date cannot be less than start date.";return}if(e<s&&e!==""){this.dateError="Start date cannot be less than today date.";return}}onCreateUpdateMeetingComponent(){if(!this.componentsForm.valid)return this.componentsForm.markAllAsTouched();this.iComponent.MeetingComponentId=this.componentsForm.get("MeetingComponentId")?.value,this.iComponent.MeetingId=this.componentsForm.get("MeetingId")?.value,this.iComponent.ComponentLookupTypeId=this.componentsForm.get("ComponentLookupTypeId")?.value,this.iComponent.Title=this.componentsForm.get("Title")?.value,this.iComponent.StartDate=this.componentsForm.get("StartDate")?.value,this.iComponent.EndDate=this.componentsForm.get("EndDate")?.value,this.iComponent.IsPublished=this.componentsForm.get("IsPublished")?.value,this.iComponent.MeetingComponentId>0?this.meetingComponentService.updateMeetingComponent(this.iComponent).pipe(k(e=>(this.iComponent=e,this.closeModal(),L(this.iComponent)))).subscribe({next:e=>{console.log("Successfully updated meeting component")},error:e=>{console.log(e)},complete:()=>{console.log("Successfully updated meeting component.")}}):this.meetingComponentService.createMeetingComponent(this.iComponent).pipe(k(e=>(this.iComponent=e,this.closeModal(),L(this.iComponent)))).subscribe({next:e=>{console.log("Successfully created meeting component.")},error:e=>{console.log(e)},complete:()=>{console.log("Successfully created meeting component.")}})}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteMeetingComponent(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteMeetingComponent(e){e>0&&this.meetingComponentService.deleteMeetingComponent(e).pipe(k(n=>(this.iComponent=n,this.closeModal(),L(this.iComponent)))).subscribe({next:n=>{console.log("Successfully deleted meeting component")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted meeting component.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Me),g(R),g(xe),g(G),g(j))},o.\u0275cmp=y({type:o,selectors:[["app-meeting-components"]],viewQuery:function(n,s){if(n&1&&ke(Fs,5),n&2){let p;Ee(p=Fe())&&(s.confirmDeleteTemplate=p.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",componentLookupTypeId:"componentLookupTypeId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],["type","text","formControlName","Title","placeholder","Title your component",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","date","formControlName","StartDate","name","StartDate","maxlength","20","placeholder","Enter Start Date",1,"form-control",3,"change"],["type","date","formControlName","EndDate","name","EndDate","maxlength","20","placeholder","Enter End Date",1,"form-control",3,"change"],[1,"mb-3"],[1,"text-danger"],[1,"col-auto"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","IsPublished","name","IsPublished",1,"form-check-input"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","ComponentLookupTypeId","name","ComponentLookupTypeId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,As,47,8,"form",0)(1,Vs,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.componentsForm)},dependencies:[B,ie,K,Ie,ee,te,Ct,ne,oe,E,P,bt]});let i=o;return i})();function Rs(i,o){if(i&1&&(r(0,"div",23)(1,"p"),c(2),a()()),i&2){let t=d().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function qs(i,o){if(i&1&&(r(0,"div",23)(1,"p"),c(2),a()()),i&2){let t=d(2).$implicit;l(2),M(" ",t.Contributions[0].ItemName," ")}}function Qs(i,o){if(i&1&&(r(0,"div",23)(1,"p"),c(2),pe(3,"currency"),a()()),i&2){let t=d(2).$implicit;l(2),M(" ",oi(3,1,t.Amount,"USD","symbol-narrow","1.2-2")," ")}}function Os(i,o){if(i&1&&(r(0,"td"),f(1,qs,3,1,"div",19)(2,Qs,4,6,"div",19),a()),i&2){let t=d().$implicit;l(),m("ngIf",t.Contributions[0].Category==="Items"),l(),m("ngIf",t.Contributions[0].Category==="Monetary")}}function js(i,o){if(i&1&&(r(0,"td")(1,"div",23)(2,"p"),c(3),a()()()),i&2){let t=d().$implicit;l(3),M(" ",t.Quantity," ")}}function Hs(i,o){if(i&1){let t=x();r(0,"tr")(1,"td"),f(2,Rs,3,2,"div",19),a(),f(3,Os,3,2,"td",20)(4,js,4,1,"td",20),r(5,"td")(6,"button",21),h("click",function(){let s=v(t).$implicit,p=d(2),_;return C(p.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",p.modalTitle))}),u(7,"i",22),a()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Contributions),l(),m("ngIf",t.Contributions)}}function Us(i,o){if(i&1&&(r(0,"div",13)(1,"div",14)(2,"table",15)(3,"thead")(4,"tr")(5,"th",16),c(6,"Contributor"),a(),r(7,"th",17),c(8,"Contribution"),a(),r(9,"th",17),c(10,"Quanity"),a(),u(11,"th",17),a()(),r(12,"tbody"),f(13,Hs,8,3,"tr",18),a()()()()),i&2){let t=d();l(13),m("ngForOf",t.contributionParticipants)}}function $s(i,o){i&1&&(r(0,"div",13)(1,"p"),c(2,"No contributions are found."),a()())}function Bs(i,o){if(i&1){let t=x();r(0,"button",24),h("click",function(){v(t);let n=d();return C(n.onDownloadCSV())}),c(1," Download "),a()}if(i&2){let t=d();m("disabled",t.contributionForm.invalid)}}var Fn=(()=>{let o=class o{constructor(e,n,s,p){this.activeModal=e,this.contributionParticipantService=n,this.helperService=s,this.profileService=p,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.contributionParticipants=[],this.iContribution={MeetingContributionParticipantId:0,UserId:0,MeetingComponentId:0,MeetingContributionId:0,Amount:0,Quantity:0,Contact:[],Contributions:[]},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingComponentId>0&&(this.contributionParticipants=yield A(this.contributionParticipantService.getContributionParticipants(this.meetingContributionId,this.meetingComponentId)))})}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.contributionParticipants.map(n=>({Contributor:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Contribution:n.Amount>0?"$"+n.Amount:n?.Contributions?.[0]?.ItemName??"None",Quality:n.Quantity,Category:n.Contributions?.[0]?.Category}));try{this.helperService.downloadCSV(e,"contributions.csv")}catch(n){console.log("Could not download Contribution list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Ft),g(j),g(R))},o.\u0275cmp=y({type:o,selectors:[["app-view-contributions"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingContributionId:"meetingContributionId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:17,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","40%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-envelope","fa-lg"],[1,"justify-content-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),c(3),a(),r(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),a()(),r(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9,"Contributions"),a()(),r(10,"div",8),f(11,Us,14,1,"div",9)(12,$s,3,0,"div",9),a()()(),r(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),a(),f(16,Bs,2,1,"button",12),a()()),n&2&&(l(3),I(s.modalTitle),l(8),m("ngIf",s.contributionParticipants==null?null:s.contributionParticipants.length),l(),m("ngIf",(s.contributionParticipants==null?null:s.contributionParticipants.length)==0),l(4),m("ngIf",s.contributionParticipants.length>0))},dependencies:[E,O,P,li]});let i=o;return i})();var Dn=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getContribution(e){return this.httpClient.get(this.api+"/contributions/"+e)}getMeetingContributions(e){let n={meetingId:e};return this.httpClient.post(this.api+"/contributions/",n)}getMeetingContributionByComponent(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/contributions/component",s)}saveContribution(e){return this.httpClient.post(this.api+"/contributions/",e)}updateContribution(e){return this.httpClient.put(this.api+"/contributions/",e)}deleteContribution(e){return this.httpClient.delete(this.api+"/contributions/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ws=["confirmDelete"];function Ys(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(3);l(),m("innerHtml",t.contributionFormValidation("Contribution Item Name",t.contributionForm.controls.ItemName.errors),F)}}function Gs(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(3);l(),m("innerHtml",t.contributionFormValidation("Quantity",t.contributionForm.controls.Quantity.errors),F)}}function Zs(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(3);l(),m("innerHtml",t.contributionFormValidation("Measure",t.contributionForm.controls.Measure.errors),F)}}function Xs(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(3);l(),m("innerHtml",t.contributionFormValidation("Short Description",t.contributionForm.controls.ShortDescription.errors),F)}}function Js(i,o){if(i&1&&(r(0,"div")(1,"div",12)(2,"div",13),u(3,"input",27),f(4,Ys,2,1,"ul",28),a()(),r(5,"div",12)(6,"div",29)(7,"div",13)(8,"label",30),c(9,"Total Needed Items"),a(),u(10,"input",31),f(11,Gs,2,1,"ul",28),a()(),r(12,"div",29)(13,"div",13)(14,"label",30),c(15,"Measurement"),a(),u(16,"input",32),f(17,Zs,2,1,"ul",28),a()()(),r(18,"div",12)(19,"div",13)(20,"textarea",33),c(21," "),a(),f(22,Xs,2,1,"ul",28),a()()()),i&2){let t=d(2);l(4),m("ngIf",t.contributionForm.controls.ItemName.invalid&&(t.contributionForm.controls.ItemName.dirty||t.contributionForm.controls.ItemName.touched)),l(7),m("ngIf",t.contributionForm.controls.Quantity.invalid&&(t.contributionForm.controls.Quantity.dirty||t.contributionForm.controls.Quantity.touched)),l(6),m("ngIf",t.contributionForm.controls.Measure.invalid&&(t.contributionForm.controls.Measure.dirty||t.contributionForm.controls.Measure.touched)),l(5),m("ngIf",t.contributionForm.controls.ShortDescription.invalid&&(t.contributionForm.controls.ShortDescription.dirty||t.contributionForm.controls.ShortDescription.touched))}}function Ks(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(3);l(),m("innerHtml",t.contributionFormValidation("Long Description",t.contributionForm.controls["Long Description"].errors),F)}}function el(i,o){if(i&1&&(r(0,"div")(1,"div",12)(2,"div",13)(3,"textarea",36),c(4," "),a(),f(5,Ks,2,1,"ul",28),a()()()),i&2){let t=d(2);l(5),m("ngIf",t.contributionForm.controls.LongDescription.invalid&&(t.contributionForm.controls.LongDescription.dirty||t.contributionForm.controls.LongDescription.touched))}}function tl(i,o){if(i&1){let t=x();r(0,"button",37),h("click",function(){v(t);let n=d(2);return C(n.openConfirmDeleteModal(n.contributionForm.controls.MeetingContributionId.value))}),c(1," Delete "),a()}if(i&2){let t=d(2);m("disabled",t.contributionForm.invalid)}}function il(i,o){if(i&1){let t=x();r(0,"button",25),h("click",function(){v(t);let n=d(2);return C(n.onSaveAndListMoreContributionItems())}),c(1," Save and List More Items "),a()}if(i&2){let t=d(2);m("disabled",t.contributionForm.invalid||t.isSubmitted)}}function nl(i,o){if(i&1){let t=x();r(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),a(),r(5,"button",6),h("click",function(){v(t);let n=d();return C(n.activeModal.dismiss("Cross click"))}),a()(),r(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),a()(),r(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"label",15),u(16,"input",16),c(17," Monetary Contribution "),a()()()(),f(18,Js,23,4,"div",17)(19,el,6,1,"div",17),r(20,"div",12)(21,"div",18)(22,"div",12)(23,"div",18),u(24,"input",19)(25,"input",20)(26,"input",21),a()()()()()()(),r(27,"div",22)(28,"button",23),h("click",function(){v(t);let n=d();return C(n.activeModal.close("Close click"))}),c(29," Cancel "),a(),f(30,tl,2,1,"button",24),r(31,"button",25),h("click",function(){v(t);let n=d();return C(n.onCreateUpdateAndCloseListingContributionItems())}),c(32," Save and Close "),a(),f(33,il,2,1,"button",26),a()()()}if(i&2){let t=d(),e,n;m("formGroup",t.contributionForm),l(4),M("",t.modalTitle,"\xA0Contributions"),l(6),I(t.subTitle),l(8),m("ngIf",!((e=t.contributionForm.get("IsMonetaryContribution"))!=null&&e.value)),l(),m("ngIf",(n=t.contributionForm.get("IsMonetaryContribution"))==null?null:n.value),l(11),m("ngIf",t.contributionForm.controls.MeetingContributionId.value>0),l(),m("disabled",t.contributionForm.invalid||t.isSubmitted),l(2),m("ngIf",t.contributionForm.controls.MeetingContributionId.value===0)}}function ol(i,o){if(i&1){let t=x();r(0,"div",7)(1,"p",38),c(2,"Are you sure you want to delete this contribution item?"),a()(),r(3,"div",22)(4,"button",39),h("click",function(){let s=v(t).$implicit,p=d();return C(p.closeDeleteMeetingModal(s))}),c(5," No "),a(),r(6,"button",40),h("click",function(){let s=v(t).$implicit,p=d();return C(p.confirmDeleteMeeting(s))}),c(7," Yes "),a()()}}var Gt=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H,Be,Rt){this.activeModal=e,this.formBuilder=n,this.lookupService=s,this.meetingComponentService=p,this.meetingContributionService=_,this.helperService=T,this.meetingService=V,this.profileService=Q,this.activatedRoute=H,this.router=Be,this.deleteModal=Rt,this.isLoading=!1,this.isSubmitted=!1,this.subTitle="",this.iContribution={MeetingContributionId:0,MeetingId:0,MeetingComponentId:0,ItemName:"",Quantity:1,Measure:"",Category:"",IsMonetaryContribution:!1,ShortDescription:"",LongDescription:"",CreatedUserId:0,CreatedDate:null},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){if(this.meetingContributionId===0)this.subTitle="Create a List of Items Needed",this.iContribution.MeetingId=this.meetingId,this.iContribution.MeetingComponentId=this.meetingComponentId;else{this.subTitle="Edit";let e=yield A(this.meetingContributionService.getContribution(this.meetingContributionId));this.iContribution=e[0],this.iContribution.IsMonetaryContribution=this.iContribution.Category==="Monetary"}this.buildContributionForm(),this.contributionForm.get("IsMonetaryContribution")?.valueChanges.subscribe(e=>{this.setContributionFormValidation(e)})})}contributionFormValidation(e,n){return this.helperService.validateForm(e,n)}buildContributionForm(){this.contributionForm=this.formBuilder.group({MeetingContributionId:[this.iContribution.MeetingContributionId],MeetingComponentId:[this.iContribution.MeetingComponentId],MeetingId:[this.iContribution.MeetingId],ItemName:[this.iContribution.ItemName],Quantity:[this.iContribution.Quantity],Measure:[this.iContribution.Measure],Category:[this.iContribution.Category],ShortDescription:[this.iContribution.ShortDescription],LongDescription:[this.iContribution.LongDescription],IsMonetaryContribution:[this.iContribution.IsMonetaryContribution]})}setContributionFormValidation(e){return e?(this.contributionForm.get("ItemName")?.clearValidators(),this.contributionForm.get("Quantity")?.clearValidators(),this.contributionForm.get("Measure")?.clearValidators(),this.contributionForm.get("Category")?.clearValidators(),this.contributionForm.get("ShortDescription")?.clearValidators(),this.contributionForm.get("LongDescription")?.setValidators([b.required,b.maxLength(200),b.minLength(10)])):(this.contributionForm.get("ItemName")?.setValidators([b.required,b.maxLength(50),b.minLength(4)]),this.contributionForm.get("Quantity")?.setValidators([b.required,b.minLength(1)]),this.contributionForm.get("Measure")?.setValidators([b.minLength(2),b.maxLength(10)]),this.contributionForm.get("Category")?.setValidators([b.maxLength(20),b.minLength(4)]),this.contributionForm.get("ShortDescription")?.setValidators([b.maxLength(60),b.minLength(4)]),this.contributionForm.get("LongDescription")?.clearValidators()),this.contributionForm.updateValueAndValidity(),this.contributionForm.markAsUntouched()}getFormData(){let e=this.contributionForm.get("IsMonetaryContribution")?.value;return this.iContribution.MeetingContributionId=this.contributionForm.get("MeetingContributionId")?.value,this.iContribution.MeetingComponentId=this.contributionForm.get("MeetingComponentId")?.value,this.iContribution.MeetingId=this.contributionForm.get("MeetingId")?.value,this.iContribution.ItemName=this.contributionForm.get("ItemName")?.value,this.iContribution.Quantity=this.contributionForm.get("Quantity")?.value,this.iContribution.Measure=this.contributionForm.get("Measure")?.value,this.iContribution.Category=e?"Monetary":"Items",this.iContribution.ShortDescription=this.contributionForm.get("ShortDescription")?.value,this.iContribution.LongDescription=this.contributionForm.get("LongDescription")?.value,this.iContribution.CreatedUserId=this.iContact.UserId,this.iContribution.CreatedDate=null,this.iContribution}onCreateUpdateAndCloseListingContributionItems(){if(!this.contributionForm.valid)return this.contributionForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingContributionId>0?this.meetingContributionService.updateContribution(e).pipe(k(n=>(this.iContribution=n,this.closeModal(),L(this.iContribution)))).subscribe({next:n=>{console.log("Successfully updated contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated contribution.")}}):this.meetingContributionService.saveContribution(e).pipe(k(n=>(this.iContribution=n,this.closeModal(),L(this.iContribution)))).subscribe({next:n=>{console.log("Successfully created contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created contribution.")}}),this.isSubmitted=!1}onSaveAndListMoreContributionItems(){if(!this.contributionForm.valid)return this.contributionForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingContributionService.saveContribution(e).pipe(k(n=>(this.iContribution=n,this.contributionForm.reset(),L(this.iContribution)))).subscribe({next:n=>{console.log("Successfully created contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created contribution.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteContribution(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteContribution(e){e>0&&this.meetingContributionService.deleteContribution(e).pipe(k(n=>(this.iContribution=n,this.closeModal(),L(this.iContribution)))).subscribe({next:n=>{console.log("Successfully deleted contribution")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted contribution.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Me),g(be),g(xe),g(Dn),g(j),g(se),g(R),g(ae),g(U),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-create-contribution-list"]],viewQuery:function(n,s){if(n&1&&ke(Ws,5),n&2){let p;Ee(p=Fe())&&(s.confirmDeleteTemplate=p.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingContributionId:"meetingContributionId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","IsMonetaryContribution","name","IsMonetaryContribution",1,"form-check-input"],[4,"ngIf"],[1,"col-auto"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingContributionId","name","MeetingContributionId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","text","formControlName","ItemName","placeholder","Enter Contribution Item Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","number","formControlName","Quantity","name","Quantity","minlength","1","placeholder","Enter total of needed items",1,"form-control"],["type","text","formControlName","Measure","name","Measure","placeholder","Enter measurement",1,"form-control"],["type","text","cols","1","formControlName","ShortDescription","placeholder","Enter description",1,"form-control"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","text","cols","4","formControlName","LongDescription","placeholder","Enter Description",1,"form-control"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,nl,34,8,"form",0)(1,ol,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.contributionForm)},dependencies:[B,ie,K,Ue,Ie,ee,te,vt,ne,oe,E,P]});let i=o;return i})();function rl(i,o){if(i&1&&(r(0,"div",25)(1,"p")(2,"strong"),c(3,"Contribution\xA0Type:"),a(),c(4,"\xA0"),r(5,"span"),c(6),a()(),r(7,"p")(8,"strong"),c(9,"Story:"),a(),c(10,"\xA0"),r(11,"span"),c(12),a()()()),i&2){let t=d().$implicit;l(6),I(t.Category),l(6),I(t.LongDescription)}}function al(i,o){if(i&1&&(r(0,"div",25)(1,"p")(2,"strong"),c(3,"Item:"),a(),c(4,"\xA0"),r(5,"span"),c(6),a()(),r(7,"p")(8,"strong"),c(9,"Quantity:"),a(),c(10,"\xA0"),r(11,"span"),c(12),a()(),r(13,"p")(14,"strong"),c(15,"Measurement:"),a(),c(16,"\xA0"),r(17,"span"),c(18),a()(),r(19,"p")(20,"strong"),c(21,"Contribution\xA0Type:"),a(),c(22,"\xA0"),r(23,"span"),c(24),a()(),r(25,"p")(26,"strong"),c(27,"Description:"),a(),c(28,"\xA0"),r(29,"span"),c(30),a()()()),i&2){let t=d().$implicit;l(6),I(t.ItemName),l(6),I(t.Quantity),l(6),I(t.Measure),l(6),I(t.Category),l(6),I(t.ShortDescription)}}function sl(i,o){if(i&1){let t=x();r(0,"tr")(1,"td"),f(2,rl,13,2,"div",22)(3,al,31,5,"div",22),a(),r(4,"td")(5,"button",23),h("click",function(){let s=v(t).$implicit,p=d(2).$implicit,_=d(2);return C(_.openContributionListModal(p,s.MeetingContributionId))}),u(6,"i",24),a()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Category==="Monetary"),l(),m("ngIf",t.Category==="Items")}}function ll(i,o){if(i&1&&(r(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),a()(),r(7,"tbody"),f(8,sl,7,2,"tr",21),a()()()()),i&2){let t=d().$implicit;l(8),m("ngForOf",t.Contributions)}}function cl(i,o){i&1&&(r(0,"div",9)(1,"p"),c(2,"No Items are listed on this contribution component."),a()())}function ml(i,o){if(i&1){let t=x();r(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openContributionComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),r(6,"span"),c(7),a()()(),r(8,"div",2)(9,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openContributionListModal(s,0))}),u(10,"i",13),r(11,"span"),c(12),a()()(),r(13,"div",2)(14,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openViewContributionsModal(s))}),u(15,"i",14),r(16,"span"),c(17),a()()()()(),r(18,"div",15),f(19,ll,9,1,"div",16)(20,cl,3,0,"div",16),a()()}if(i&2){let t=o.$implicit;l(7),M("Edit\xA0",t.Title," \xA0Component"),l(5),M("Create\xA0",t.Title," \xA0Contribution List"),l(5),M("View\xA0",t.Title," \xA0Contributions"),l(2),m("ngIf",t.Contributions==null?null:t.Contributions.length),l(),m("ngIf",!t.Contributions)}}function pl(i,o){if(i&1&&(et(0),f(1,ml,21,5,"div",6),tt()),i&2){let t=d();l(),m("ngForOf",t.meetingContributionComponents)}}var Pn=(()=>{let o=class o{constructor(e,n,s,p,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.profileService=p,this.activatedRoute=_,this.meetingId=0,this.published=0,this.componentLookupTypeId=0,this.meetingContributionComponents=[],this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield A(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Contributions"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingContributionComponents=yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openContributionComponentModal(e){if(e>0){let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Contribution Component modal"});n.componentInstance.modalTitle="Edit Contribution Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Contribution Component modal"});n.componentInstance.modalTitle="Create Contribution Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openContributionListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let p=this.modalService.open(Gt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingContributionId=n,p.result.then(_=>{},_=>{})}else{let p=this.modalService.open(Gt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingContributionId=0,p.result.then(_=>{},_=>{})}}openViewContributionsModal(e){let n=e,s=this.modalService.open(Fn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Contributions modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingContributionId=0,s.result.then(p=>{},p=>{})}};o.\u0275fac=function(n){return new(n||o)(g(G),g(be),g(xe),g(R),g(ae))},o.\u0275cmp=y({type:o,selectors:[["app-contributions"]],inputs:{meeting:"meeting"},standalone:!0,features:[S],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"],[1,"justify-content-center"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openContributionComponentModal(0)}),u(4,"i",4),r(5,"span"),c(6,"Create New Contribution Component"),a()()()()(),f(7,pl,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingContributionComponents.length))},dependencies:[B,E,O,P]});let i=o;return i})();var Nn=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getMeetingSignup(e){return this.httpClient.get(this.api+"/signups/"+e)}getMeetingSignups(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/signups/",s)}savetMeetingSignup(e){return this.httpClient.post(this.api+"/signups/",e)}updateMeetingSignup(e){return this.httpClient.put(this.api+"/signups/",e)}deleteMeetingSignup(e){return this.httpClient.delete(this.api+"/signups/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var ul=["confirmDelete"];function fl(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(2);l(),m("innerHtml",t.contributionFormValidation("Title",t.signupsForm.controls.Title.errors),F)}}function gl(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(2);l(),m("innerHtml",t.contributionFormValidation("People needed",t.signupsForm.controls.PeopleNeeded.errors),F)}}function hl(i,o){if(i&1&&(r(0,"option",39),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),M(" ",t.Time," ")}}function _l(i,o){if(i&1){let t=x();r(0,"select",36),h("change",function(){v(t);let n=d(2);return C(n.onTimeChange())}),r(1,"option",37),c(2,"Select"),a(),f(3,hl,2,2,"option",38),a()}if(i&2){let t=d(2);l(3),m("ngForOf",t.iTime)}}function vl(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.contributionFormValidation("Start Time",(e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.errors),F)}}function Cl(i,o){if(i&1&&(r(0,"option",39),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),M(" ",t.Time," ")}}function bl(i,o){if(i&1){let t=x();r(0,"select",40),h("change",function(){v(t);let n=d(2);return C(n.onTimeChange())}),r(1,"option",37),c(2,"Select"),a(),f(3,Cl,2,2,"option",38),a()}if(i&2){let t=d(2);l(3),m("ngForOf",t.iTime)}}function xl(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(2),e;l(),m("innerHtml",t.contributionFormValidation("End Time",(e=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:e.errors),F)}}function yl(i,o){if(i&1&&(r(0,"ul",34),u(1,"li",35),a()),i&2){let t=d(2);l(),m("innerHtml",t.contributionFormValidation("Description",t.signupsForm.controls.Description.errors),F)}}function Sl(i,o){if(i&1){let t=x();r(0,"button",41),h("click",function(){v(t);let n=d(2);return C(n.openConfirmDeleteModal(n.signupsForm.controls.MeetingSignupId.value))}),c(1," Delete "),a()}if(i&2){let t=d(2);m("disabled",t.signupsForm.invalid)}}function Il(i,o){if(i&1){let t=x();r(0,"button",32),h("click",function(){v(t);let n=d(2);return C(n.onSaveAndListMoreSignups())}),c(1," Save and List More "),a()}if(i&2){let t=d(2);m("disabled",t.signupsForm.invalid||t.isSubmitted)}}function Ml(i,o){if(i&1){let t=x();r(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),a(),r(5,"button",6),h("click",function(){v(t);let n=d();return C(n.activeModal.dismiss("Cross click"))}),a()(),r(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),a()(),r(11,"div",11)(12,"div",12)(13,"div",13),u(14,"input",14),f(15,fl,2,1,"ul",15),a()(),r(16,"div",12)(17,"div",16)(18,"div",13)(19,"label",17),c(20,"People Needed"),a(),u(21,"input",18),f(22,gl,2,1,"ul",15),a()(),r(23,"div",19)(24,"div",20)(25,"div",19)(26,"div",13)(27,"label",17),c(28,"Start Time"),a(),f(29,_l,4,1,"select",21)(30,vl,2,1,"ul",15),a()(),r(31,"div",19)(32,"div",13)(33,"label",17),c(34,"End Time"),a(),f(35,bl,4,1,"select",22)(36,xl,2,1,"ul",15),a()(),r(37,"div",23)(38,"div",24),c(39),a()()()()(),r(40,"div",12)(41,"div",13)(42,"textarea",25),c(43,"              "),a(),f(44,yl,2,1,"ul",15),a()(),r(45,"div",12)(46,"div",16)(47,"div",12)(48,"div",16),u(49,"input",26)(50,"input",27)(51,"input",28),a()()()()()()(),r(52,"div",29)(53,"button",30),h("click",function(){v(t);let n=d();return C(n.activeModal.close("Close click"))}),c(54," Cancel "),a(),f(55,Sl,2,1,"button",31),r(56,"button",32),h("click",function(){v(t);let n=d();return C(n.onCreateUpdateAndCloseListingContributionItems())}),c(57," Save and Close "),a(),f(58,Il,2,1,"button",33),a()()()}if(i&2){let t=d(),e,n;m("formGroup",t.signupsForm),l(4),M("",t.modalTitle,"\xA0Sheet"),l(6),I(t.subTitle),l(5),m("ngIf",t.signupsForm.controls.Title.invalid&&(t.signupsForm.controls.Title.dirty||t.signupsForm.controls.Title.touched)),l(7),m("ngIf",t.signupsForm.controls.PeopleNeeded.invalid&&(t.signupsForm.controls.PeopleNeeded.dirty||t.signupsForm.controls.PeopleNeeded.touched)),l(7),m("ngIf",t.iTime.length>0),l(),m("ngIf",((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.invalid)&&(((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.dirty)||((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.touched))),l(5),m("ngIf",t.iTime.length>0),l(),m("ngIf",((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.invalid)&&(((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.dirty)||((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.touched))),l(3),I(t.signupTimeError),l(5),m("ngIf",t.signupsForm.controls.Description.invalid&&(t.signupsForm.controls.Description.dirty||t.signupsForm.controls.Description.touched)),l(11),m("ngIf",t.signupsForm.controls.MeetingSignupId.value>0),l(),m("disabled",t.signupsForm.invalid||t.isSubmitted),l(2),m("ngIf",t.signupsForm.controls.MeetingSignupId.value===0)}}function wl(i,o){if(i&1){let t=x();r(0,"div",7)(1,"p",42),c(2,"Are you sure you want to delete this signup item?"),a()(),r(3,"div",29)(4,"button",43),h("click",function(){let s=v(t).$implicit,p=d();return C(p.closeDeleteMeetingModal(s))}),c(5," No "),a(),r(6,"button",44),h("click",function(){let s=v(t).$implicit,p=d();return C(p.confirmDeleteMeeting(s))}),c(7," Yes "),a()()}}var Zt=(()=>{let o=class o{constructor(e,n,s,p,_,T,V,Q,H,Be,Rt){this.activeModal=e,this.formBuilder=n,this.lookupService=s,this.meetingComponentService=p,this.meetingSignupsService=_,this.helperService=T,this.meetingService=V,this.profileService=Q,this.activatedRoute=H,this.router=Be,this.deleteModal=Rt,this.isLoading=!1,this.isSubmitted=!1,this.subTitle="",this.iTime=[],this.iSignups={MeetingSignupId:0,MeetingId:0,MeetingComponentId:0,Title:"",TimeSlot:{StartTime:"",EndTime:""},PeopleNeeded:1,Description:"",CreatedUserId:0,CreatedDate:null},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){if(this.meetingSignupId===0)this.subTitle="Create",this.iSignups.MeetingId=this.meetingId,this.iSignups.MeetingComponentId=this.meetingComponentId;else{this.subTitle="Edit";let e=yield A(this.meetingSignupsService.getMeetingSignup(this.meetingSignupId));this.iSignups=e[0]}this.iTime=this.helperService.getTime(),this.buildSignupsForm()})}contributionFormValidation(e,n){return this.helperService.validateForm(e,n)}onTimeChange(){let e=this.signupsForm.controls.TimeSlot?.get("StartTime")?.value,n=this.signupsForm.controls.TimeSlot.get("EndTime")?.value;if(this.signupTimeError="",e===n&&n!==""){this.signupTimeError="Start time cannot be equal to end time.";return}}buildSignupsForm(){this.signupsForm=this.formBuilder.group({MeetingSignupId:[this.iSignups.MeetingSignupId],MeetingComponentId:[this.iSignups.MeetingComponentId],MeetingId:[this.iSignups.MeetingId],Title:[this.iSignups.Title,[b.required,b.maxLength(20),b.minLength(2)]],TimeSlot:this.formBuilder.group({StartTime:[this.iSignups.TimeSlot.StartTime,[b.required]],EndTime:[this.iSignups.TimeSlot.EndTime,[b.required]]}),Description:[this.iSignups.Description,[b.maxLength(50),b.minLength(4)]],PeopleNeeded:[this.iSignups.PeopleNeeded,[b.required]]})}getFormData(){return this.iSignups.MeetingSignupId=this.signupsForm.get("MeetingSignupId")?.value,this.iSignups.MeetingComponentId=this.signupsForm.get("MeetingComponentId")?.value,this.iSignups.MeetingId=this.signupsForm.get("MeetingId")?.value,this.iSignups.Title=this.signupsForm.get("Title")?.value,this.iSignups.TimeSlot={StartTime:this.signupsForm.controls.TimeSlot?.get("StartTime")?.value,EndTime:this.signupsForm.controls.TimeSlot?.get("EndTime")?.value},this.iSignups.PeopleNeeded=this.signupsForm.get("PeopleNeeded")?.value,this.iSignups.Description=this.signupsForm.get("Description")?.value,this.iSignups.CreatedUserId=this.iContact.UserId,this.iSignups.CreatedDate=null,this.iSignups}onCreateUpdateAndCloseListingContributionItems(){if(!this.signupsForm.valid)return this.signupsForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingSignupId>0?this.meetingSignupsService.updateMeetingSignup(e).pipe(k(n=>(this.iSignups=n,this.closeModal(),L(this.iSignups)))).subscribe({next:n=>{console.log("Successfully updated signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated signup.")}}):this.meetingSignupsService.savetMeetingSignup(e).pipe(k(n=>(this.iSignups=n,this.closeModal(),L(this.iSignups)))).subscribe({next:n=>{console.log("Successfully created signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created singup.")}}),this.isSubmitted=!1}onSaveAndListMoreSignups(){if(!this.signupsForm.valid)return this.signupsForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingSignupsService.savetMeetingSignup(e).pipe(k(n=>(this.iSignups=n,this.signupsForm.reset(),L(this.iSignups)))).subscribe({next:n=>{console.log("Successfully created signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created singup.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteContribution(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteContribution(e){e>0&&this.meetingSignupsService.deleteMeetingSignup(e).pipe(k(n=>(this.iSignups=n,this.closeModal(),L(this.iSignups)))).subscribe({next:n=>{console.log("Successfully deleted signups")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted signups.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Ae),g(be),g(xe),g(Nn),g(j),g(se),g(R),g(ae),g(U),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-create-signups-list"]],viewQuery:function(n,s){if(n&1&&ke(ul,5),n&2){let p;Ee(p=Fe())&&(s.confirmDeleteTemplate=p.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingSignupId:"meetingSignupId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],["type","text","formControlName","Title","name","Title","placeholder","Enter Title i.e task/role name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-auto"],[1,"fs-6"],["type","number","formControlName","PeopleNeeded","name","PeopleNeeded","minlength","1","placeholder","Enter People Needed",1,"form-control"],[1,"col"],["formGroupName","TimeSlot",1,"row"],["class","form-select","formControlName","StartTime",3,"change",4,"ngIf"],["class","form-select","formControlName","EndTime",3,"change",4,"ngIf"],[1,"mb-3"],[1,"text-danger"],["type","text","cols","1","formControlName","Description","placeholder","Enter description",1,"form-control"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingSignupId","name","MeetingSignupId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["formControlName","StartTime",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["formControlName","EndTime",1,"form-select",3,"change"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,Ml,59,14,"form",0)(1,wl,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.signupsForm)},dependencies:[B,ie,Ne,Le,K,Ue,Pe,ee,te,vt,ne,oe,gt,E,O,P]});let i=o;return i})();function Tl(i,o){if(i&1&&(r(0,"div",23)(1,"p"),c(2),a()()),i&2){let t=d().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function kl(i,o){if(i&1&&(r(0,"td")(1,"div",23)(2,"p"),c(3),a()()()),i&2){let t=d().$implicit;l(3),M(" ",t==null||t.Signups==null||t.Signups[0]==null?null:t.Signups[0].Title," ")}}function El(i,o){if(i&1&&(r(0,"td")(1,"div",23)(2,"p"),c(3),a()()()),i&2){let t=d().$implicit;l(3),M(" ",(t==null||t.Signups==null||t.Signups[0]==null||t.Signups[0].TimeSlot==null?null:t.Signups[0].TimeSlot.StartTime)+"-"+(t==null||t.Signups==null||t.Signups[0]==null||t.Signups[0].TimeSlot==null?null:t.Signups[0].TimeSlot.EndTime)," ")}}function Fl(i,o){if(i&1){let t=x();r(0,"tr")(1,"td"),f(2,Tl,3,2,"div",19),a(),f(3,kl,4,1,"td",20)(4,El,4,1,"td",20),r(5,"td")(6,"button",21),h("click",function(){let s=v(t).$implicit,p=d(2),_;return C(p.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",p.modalTitle))}),u(7,"i",22),a()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Signups),l(),m("ngIf",t.Signups)}}function Dl(i,o){if(i&1&&(r(0,"div",13)(1,"div",14)(2,"table",15)(3,"thead")(4,"tr")(5,"th",16),c(6,"participant"),a(),r(7,"th",17),c(8,"Title"),a(),r(9,"th",17),c(10,"TimeSlot"),a(),u(11,"th",17),a()(),r(12,"tbody"),f(13,Fl,8,3,"tr",18),a()()()()),i&2){let t=d();l(13),m("ngForOf",t.signupsParticipant)}}function Pl(i,o){i&1&&(r(0,"div",13)(1,"p"),c(2,"No signups are found."),a()())}function Nl(i,o){if(i&1){let t=x();r(0,"button",24),h("click",function(){v(t);let n=d();return C(n.onDownloadCSV())}),c(1," Download "),a()}if(i&2){let t=d();m("disabled",t.contributionForm.invalid)}}var Ln=(()=>{let o=class o{constructor(e,n,s,p){this.activeModal=e,this.signupsParticipantService=n,this.helperService=s,this.profileService=p,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.signupsParticipant=[],this.iSignup={MeetingSignupParticipantId:0,UserId:0,MeetingComponentId:0,MeetingSignupId:0,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null,Contact:[],Signups:[]},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingComponentId>0&&(this.signupsParticipant=yield A(this.signupsParticipantService.getSignupParticipants(this.meetingSignupId,this.meetingComponentId)))})}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.signupsParticipant.map(n=>({Participant:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Title:n.Signups?.[0]?.Title,TimeSlot:n.Signups?.[0]?.TimeSlot.StartTime+"-"+n.Signups?.[0]?.TimeSlot.EndTime}));try{this.helperService.downloadCSV(e,"signups.csv")}catch(n){console.log("Could not download Singups list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Dt),g(j),g(R))},o.\u0275cmp=y({type:o,selectors:[["app-view-signups-participants"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingSignupId:"meetingSignupId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:17,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","40%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-envelope","fa-lg"],[1,"justify-content-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),c(3),a(),r(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),a()(),r(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9,"Participants"),a()(),r(10,"div",8),f(11,Dl,14,1,"div",9)(12,Pl,3,0,"div",9),a()()(),r(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),a(),f(16,Nl,2,1,"button",12),a()()),n&2&&(l(3),I(s.modalTitle),l(8),m("ngIf",s.signupsParticipant==null?null:s.signupsParticipant.length),l(),m("ngIf",(s.signupsParticipant==null?null:s.signupsParticipant.length)==0),l(4),m("ngIf",s.signupsParticipant.length>0))},dependencies:[E,O,P]});let i=o;return i})();function Ll(i,o){if(i&1){let t=x();r(0,"tr")(1,"td")(2,"div",22)(3,"p")(4,"strong"),c(5,"Title:"),a(),c(6,"\xA0"),r(7,"span"),c(8),a()(),r(9,"p")(10,"strong"),c(11,"Time\xA0Slot:"),a(),c(12,"\xA0"),r(13,"span"),c(14),a()(),r(15,"p")(16,"strong"),c(17,"People\xA0Needed:"),a(),c(18,"\xA0"),r(19,"span"),c(20),a()(),r(21,"p")(22,"strong"),c(23,"Description:"),a(),c(24,"\xA0"),r(25,"span"),c(26),a()()()(),r(27,"td")(28,"button",23),h("click",function(){let s=v(t).$implicit,p=d(2).$implicit,_=d(2);return C(_.openSingupsListModal(p,s.MeetingSignupId))}),u(29,"i",24),a()()()}if(i&2){let t=o.$implicit;l(8),I(t.Title),l(6),X("",t.TimeSlot.StartTime,"\xA0-\xA0",t.TimeSlot.EndTime,""),l(6),I(t.PeopleNeeded),l(6),I(t.Description)}}function Al(i,o){if(i&1&&(r(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),a()(),r(7,"tbody"),f(8,Ll,30,5,"tr",21),a()()()()),i&2){let t=d().$implicit;l(8),m("ngForOf",t.Signups)}}function Vl(i,o){i&1&&(r(0,"div",9)(1,"p"),c(2,"No Tasks are listed on this Signup component."),a()())}function Rl(i,o){if(i&1){let t=x();r(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openSingupsComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),r(6,"span"),c(7),a()()(),r(8,"div",2)(9,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openSingupsListModal(s,0))}),u(10,"i",13),r(11,"span"),c(12),a()()(),r(13,"div",2)(14,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openViewSignupParticipantsModal(s))}),u(15,"i",14),r(16,"span"),c(17),a()()()()(),r(18,"div",15),f(19,Al,9,1,"div",16)(20,Vl,3,0,"div",16),a()()}if(i&2){let t=o.$implicit;l(7),M("Edit\xA0",t.Title," \xA0Component"),l(5),M("Create\xA0",t.Title," \xA0Signups"),l(5),M("View\xA0",t.Title," \xA0Participants"),l(2),m("ngIf",t.Signups),l(),m("ngIf",!t.Signups)}}function ql(i,o){if(i&1&&(et(0),f(1,Rl,21,5,"div",6),tt()),i&2){let t=d();l(),m("ngForOf",t.meetingComponents)}}var An=(()=>{let o=class o{constructor(e,n,s,p,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.profileService=p,this.activatedRoute=_,this.meetingId=0,this.componentLookupTypeId=0,this.published=0,this.meetingComponents=[],this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield A(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Signups"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingComponents=yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openSingupsComponentModal(e){if(e>0){let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Signups Component modal"});n.componentInstance.modalTitle="Edit Signups Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Signups Component modal"});n.componentInstance.modalTitle="Create Signups Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openSingupsListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let p=this.modalService.open(Zt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Signups modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingSignupId=n,p.result.then(_=>{},_=>{})}else{let p=this.modalService.open(Zt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Signups modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingSignupId=0,p.result.then(_=>{},_=>{})}}openViewSignupParticipantsModal(e){let n=e,s=this.modalService.open(Ln,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Signups modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingSignupId=0,s.result.then(p=>{},p=>{})}};o.\u0275fac=function(n){return new(n||o)(g(G),g(be),g(xe),g(R),g(ae))},o.\u0275cmp=y({type:o,selectors:[["app-signups"]],inputs:{meeting:"meeting"},standalone:!0,features:[S],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"justify-content-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openSingupsComponentModal(0)}),u(4,"i",4),r(5,"span"),c(6,"Create New Signups Component"),a()()()()(),f(7,ql,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingComponents.length>0))},dependencies:[B,E,O,P]});let i=o;return i})();var Vn=(()=>{let o=class o{constructor(){this.hello="Welcome to meeting settings!",this.meeting={}}ngOnInit(){}ngOnChanges(e){let n=this.meeting}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=y({type:o,selectors:[["app-meetingsettings"]],inputs:{meeting:"meeting"},standalone:!0,features:[Ke,S],decls:4,vars:1,consts:[[1,"row"],[1,"col"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"p"),c(3),a()()()),n&2&&(l(3),I(s.hello))}});let i=o;return i})();var Rn=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getQuestionnaire(e){return this.httpClient.get(this.api+"/questionnaire/"+e)}getQuestionnaireSequenceNumber(e){return this.httpClient.get(this.api+"/questionnaire/sequencenumber/"+e)}getQuestionnaires(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/questionnaire/",s)}saveQuestionnaire(e){return this.httpClient.post(this.api+"/questionnaire/",e)}updateQuestionnaire(e){return this.httpClient.put(this.api+"/questionnaire/",e)}deleteQuestionnaire(e){return this.httpClient.delete(this.api+"/questionnaire/"+e)}};o.\u0275fac=function(n){return new(n||o)(q(W),q(Y))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ol=["confirmDelete"];function jl(i,o){if(i&1&&(r(0,"option",37),c(1),a()),i&2){let t=o.$implicit;m("ngValue",t.QuestionTypeId),l(),M(" ",t.QuestionType," ")}}function Hl(i,o){if(i&1&&(r(0,"select",34)(1,"option",35),c(2,"Select"),a(),f(3,jl,2,2,"option",36),a()),i&2){let t=d(2);l(3),m("ngForOf",t.questionTypes)}}function Ul(i,o){if(i&1&&(r(0,"ul",38),u(1,"li",39),a()),i&2){let t=d(2);l(),m("innerHtml",t.questionnaireFormValidation("Question Type",t.questionnaireForm.controls.QuestionType.errors),F)}}function $l(i,o){if(i&1&&(r(0,"ul",38),u(1,"li",39),a()),i&2){let t=d(2);l(),m("innerHtml",t.questionnaireFormValidation("Sequence Number",t.questionnaireForm.controls.SequenceNumber.errors),F)}}function Bl(i,o){if(i&1&&(r(0,"ul",38),u(1,"li",39),a()),i&2){let t=d(2);l(),m("innerHtml",t.questionnaireFormValidation("Question",t.questionnaireForm.controls.Question.errors),F)}}function zl(i,o){if(i&1&&(r(0,"ul",38),u(1,"li",39),a()),i&2){let t=d(3);l(),m("innerHtml",t.questionnaireFormValidation("AnswerOptions",t.questionnaireForm.controls.AnswerOptions.errors),F)}}function Wl(i,o){if(i&1&&(r(0,"div",12)(1,"div",14)(2,"textarea",40),c(3,"              "),a(),f(4,zl,2,1,"ul",17),a()()),i&2){let t=d(2);l(4),m("ngIf",t.questionnaireForm.controls.AnswerOptions.invalid&&(t.questionnaireForm.controls.AnswerOptions.dirty||t.questionnaireForm.controls.AnswerOptions.touched))}}function Yl(i,o){if(i&1&&(r(0,"ul",38),u(1,"li",39),a()),i&2){let t=d(2);l(),m("innerHtml",t.questionnaireFormValidation("Description",t.questionnaireForm.controls.Description.errors),F)}}function Gl(i,o){if(i&1){let t=x();r(0,"button",41),h("click",function(){v(t);let n=d(2);return C(n.openConfirmDeleteModal(n.questionnaireForm.controls.MeetingQuestionnaireId.value))}),c(1," Delete "),a()}if(i&2){let t=d(2);m("disabled",t.questionnaireForm.invalid)}}function Zl(i,o){if(i&1){let t=x();r(0,"button",32),h("click",function(){v(t);let n=d(2);return C(n.onSaveAndListMoreContributionItems())}),c(1," Save and List More Questions "),a()}if(i&2){let t=d(2);m("disabled",t.questionnaireForm.invalid||t.isSubmitted)}}function Xl(i,o){if(i&1){let t=x();r(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),a(),r(5,"button",6),h("click",function(){v(t);let n=d();return C(n.activeModal.dismiss("Cross click"))}),a()(),r(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),a()(),r(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"label",15),c(16,"Question Type"),a(),f(17,Hl,4,1,"select",16)(18,Ul,2,1,"ul",17),a()(),r(19,"div",13)(20,"div",14)(21,"label",15),c(22,"Question Number"),a(),u(23,"input",18),f(24,$l,2,1,"ul",17),a()(),r(25,"div",13)(26,"div",14),u(27,"label",15),r(28,"div",19)(29,"label",20),u(30,"input",21),c(31," Required "),a()()()()(),r(32,"div",12)(33,"div",14)(34,"textarea",22),c(35,"              "),a(),f(36,Bl,2,1,"ul",17),a()(),f(37,Wl,5,1,"div",23),r(38,"div",12)(39,"div",14)(40,"textarea",24),c(41,"              "),a(),f(42,Yl,2,1,"ul",17),a()(),r(43,"div",12)(44,"div",25)(45,"div",12)(46,"div",25),u(47,"input",26)(48,"input",27)(49,"input",28),a()()()()()()(),r(50,"div",29)(51,"button",30),h("click",function(){v(t);let n=d();return C(n.activeModal.close("Close click"))}),c(52," Cancel "),a(),f(53,Gl,2,1,"button",31),r(54,"button",32),h("click",function(){v(t);let n=d();return C(n.onCreateUpdateAndCloseListingContributionItems())}),c(55," Save and Close "),a(),f(56,Zl,2,1,"button",33),a()()()}if(i&2){let t=d();m("formGroup",t.questionnaireForm),l(4),M("",t.modalTitle,"\xA0Questionnaire"),l(6),I(t.subTitle),l(7),m("ngIf",t.questionTypes.length>0),l(),m("ngIf",(t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.invalid)&&((t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.dirty)||(t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.touched))),l(6),m("ngIf",t.questionnaireForm.controls.SequenceNumber.invalid&&(t.questionnaireForm.controls.SequenceNumber.dirty||t.questionnaireForm.controls.SequenceNumber.touched)),l(12),m("ngIf",t.questionnaireForm.controls.Question.invalid&&(t.questionnaireForm.controls.Question.dirty||t.questionnaireForm.controls.Question.touched)),l(),m("ngIf",!t.questionTypeSelectedValue),l(5),m("ngIf",t.questionnaireForm.controls.Description.invalid&&(t.questionnaireForm.controls.Description.dirty||t.questionnaireForm.controls.Description.touched)),l(11),m("ngIf",t.questionnaireForm.controls.MeetingQuestionnaireId.value>0),l(),m("disabled",t.questionnaireForm.invalid||t.isSubmitted),l(2),m("ngIf",t.questionnaireForm.controls.MeetingQuestionnaireId.value===0)}}function Jl(i,o){if(i&1){let t=x();r(0,"div",7)(1,"p",42),c(2,"Are you sure you want to delete this contribution item?"),a()(),r(3,"div",29)(4,"button",43),h("click",function(){let s=v(t).$implicit,p=d();return C(p.closeDeleteMeetingModal(s))}),c(5," No "),a(),r(6,"button",44),h("click",function(){let s=v(t).$implicit,p=d();return C(p.confirmDeleteMeeting(s))}),c(7," Yes "),a()()}}var Xt=(()=>{let o=class o{constructor(e,n,s,p,_,T){this.activeModal=e,this.formBuilder=n,this.meetingQuestionnaireService=s,this.helperService=p,this.profileService=_,this.deleteModal=T,this.isLoading=!1,this.hideShowAnswerOptionsControl=!1,this.isSubmitted=!1,this.isNewQuestion=!1,this.subTitle="",this.questionTypes=[],this.iQuestionnaire={MeetingQuestionnaireId:0,MeetingId:0,MeetingComponentId:0,Question:"",Description:"",AnswerOptions:"",QuestionType:"",SequenceNumber:1,Required:!1,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){if(this.questionTypes=this.helperService.getQuestionTypes(),this.meetingQuestionnaireId===0)this.subTitle="List Question",this.iQuestionnaire.MeetingId=this.meetingId,this.iQuestionnaire.MeetingComponentId=this.meetingComponentId,this.isNewQuestion=!0;else{this.isNewQuestion=!1,this.subTitle="Edit Question";let e=yield A(this.meetingQuestionnaireService.getQuestionnaire(this.meetingQuestionnaireId));this.iQuestionnaire=e[0]}this.buildQuestionnaireForm(),this.isNewQuestion&&(yield this.setSequenceNumberControlValue()),this.questionnaireForm.get("QuestionType")?.valueChanges.subscribe(e=>{this.toggleAnswerOptionsControl(e)})})}setSequenceNumberControlValue(){return w(this,null,function*(){let e=yield A(this.meetingQuestionnaireService.getQuestionnaireSequenceNumber(this.meetingComponentId));this.questionnaireForm.get("SequenceNumber")?.patchValue(e[0]?.SequenceNumber+1)})}get questionTypeSelectedValue(){let e=this.questionnaireForm.get("QuestionType")?.value;return e.toLowerCase()==="truefalse"||e.toLowerCase()==="shortanswer"||e.toLowerCase()==="longanswer"?this.hideShowAnswerOptionsControl=!0:this.hideShowAnswerOptionsControl=!1,this.hideShowAnswerOptionsControl}toggleAnswerOptionsControl(e){let n=this.questionnaireForm.get("AnswerOptions");e.toLowerCase()==="truefalse"||e.toLowerCase()==="shortanswer"||e.toLowerCase()==="longanswer"?(n?.clearValidators(),n?.reset()):n?.setValidators([b.required,b.maxLength(80),b.minLength(4),b.pattern("^([a-zA-Z0-9]+)(,[a-zA-Z0-9]+)*$")]),n?.updateValueAndValidity()}questionnaireFormValidation(e,n){return this.helperService.validateForm(e,n)}buildQuestionnaireForm(){this.questionnaireForm=this.formBuilder.group({MeetingQuestionnaireId:[this.iQuestionnaire.MeetingQuestionnaireId],MeetingComponentId:[this.iQuestionnaire.MeetingComponentId],MeetingId:[this.iQuestionnaire.MeetingId],Question:[this.iQuestionnaire.Question,[b.required,b.maxLength(80),b.minLength(4)]],AnswerOptions:[this.iQuestionnaire.AnswerOptions],QuestionType:[this.iQuestionnaire.QuestionType,[b.required]],SequenceNumber:[this.iQuestionnaire.SequenceNumber,[b.required]],Description:[this.iQuestionnaire.Description,[b.maxLength(50),b.minLength(4)]],Required:[this.iQuestionnaire.Required]})}getFormData(){return this.iQuestionnaire.MeetingQuestionnaireId=this.questionnaireForm.get("MeetingQuestionnaireId")?.value,this.iQuestionnaire.MeetingComponentId=this.questionnaireForm.get("MeetingComponentId")?.value,this.iQuestionnaire.MeetingId=this.questionnaireForm.get("MeetingId")?.value,this.iQuestionnaire.Question=this.questionnaireForm.get("Question")?.value,this.iQuestionnaire.Description=this.questionnaireForm.get("Description")?.value,this.iQuestionnaire.AnswerOptions=this.questionnaireForm.get("QuestionType")?.value==="TrueFalse"?"Yes,No":this.questionnaireForm.get("AnswerOptions")?.value,this.iQuestionnaire.QuestionType=this.questionnaireForm.get("QuestionType")?.value,this.iQuestionnaire.SequenceNumber=this.questionnaireForm.get("SequenceNumber")?.value,this.iQuestionnaire.Required=this.questionnaireForm.get("Required")?.value,this.iQuestionnaire.CreatedUserId=this.iContact.UserId,this.iQuestionnaire.ModifiedUserId=this.iContact.UserId,this.iQuestionnaire.CreatedDate=null,this.iQuestionnaire.ModifiedDate=null,this.iQuestionnaire}onCreateUpdateAndCloseListingContributionItems(){if(!this.questionnaireForm.valid)return this.questionnaireForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingQuestionnaireId>0?this.meetingQuestionnaireService.updateQuestionnaire(e).pipe(k(n=>(this.iQuestionnaire=n,this.closeModal(),L(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully updated questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated questionnaire.")}}):this.meetingQuestionnaireService.saveQuestionnaire(e).pipe(k(n=>(this.iQuestionnaire=n,this.closeModal(),L(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully created questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created questionnaire.")}}),this.isSubmitted=!1}onSaveAndListMoreContributionItems(){if(!this.questionnaireForm.valid)return this.questionnaireForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingQuestionnaireService.saveQuestionnaire(e).pipe(k(n=>(this.iQuestionnaire=n,this.questionnaireForm.reset(),this.setSequenceNumberControlValue(),L(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully created questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created questionnaire.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteQuestionnaire(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteQuestionnaire(e){e>0&&this.meetingQuestionnaireService.deleteQuestionnaire(e).pipe(k(n=>(this.iQuestionnaire=n,this.closeModal(),L(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully deleted questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted questionnaire.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(de),g(Me),g(Rn),g(j),g(R),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-create-questionnaire"]],viewQuery:function(n,s){if(n&1&&ke(Ol,5),n&2){let p;Ee(p=Fe())&&(s.confirmDeleteTemplate=p.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingQuestionnaireId:"meetingQuestionnaireId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"col"],[1,"form-group","mb-3"],[1,"fs-6"],["class","form-select","formControlName","QuestionType",4,"ngIf"],["class","text-danger list-unstyled",4,"ngIf"],["type","number","formControlName","SequenceNumber","name","SequenceNumber","min","1","step","1","max","10","placeholder","Enter Sequence number ",1,"form-control"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","Required","name","Required",1,"form-check-input"],["col","2","type","text","formControlName","Question","placeholder","Write Question",1,"form-control"],["class","row",4,"ngIf"],["type","text","cols","2","formControlName","Description","placeholder","Write question's instructions",1,"form-control"],[1,"col-auto"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingQuestionnaireId","name","MeetingQuestionnaireId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["formControlName","QuestionType",1,"form-select"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","text","col","2","formControlName","AnswerOptions","name","AnswerOptions","placeholder","Write question's answers: Separate multiple answers with comma(,)",1,"form-control"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,Xl,57,12,"form",0)(1,Jl,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.questionnaireForm)},dependencies:[B,ie,Ne,Le,K,Ue,Ie,Pe,ee,te,_t,ht,ne,oe,E,O,P]});let i=o;return i})();function Kl(i,o){if(i&1&&(r(0,"td")(1,"div",12)(2,"div",17)(3,"div",18),c(4),a(),r(5,"div",19),c(6),a()()()()),i&2){let t=d().$implicit;l(4),M(" ",t==null||t.Questionnaire==null||t.Questionnaire[0]==null?null:t.Questionnaire[0].Question," "),l(2),M(" Answer:\xA0",t==null?null:t.QuestionAnswer," ")}}function ec(i,o){if(i&1&&(r(0,"tr"),f(1,Kl,7,2,"td",16),a()),i&2){let t=o.$implicit;l(),m("ngIf",t.Questionnaire)}}function tc(i,o){if(i&1&&(r(0,"div",12)(1,"div",13)(2,"table",14)(3,"tbody"),f(4,ec,2,1,"tr",15),a()()()()),i&2){let t=d();l(4),m("ngForOf",t.questionnaireParticipants)}}function ic(i,o){i&1&&(r(0,"div",12)(1,"p"),c(2,"No Questionnaire Participant are found."),a()())}var qn=(()=>{let o=class o{constructor(e,n){this.activeModal=e,this.questionnaireParticipantService=n,this.questionnaireParticipants=[]}ngOnInit(){return w(this,null,function*(){this.contact=this.participant.Contact[0].FirstName+" "+this.participant.Contact[0].LastName,this.questionnaireParticipants=yield A(this.questionnaireParticipantService.getQuestionnaireParticipantByContact(this.participant.Contact[0].UserId,this.participant.MeetingComponentId))})}};o.\u0275fac=function(n){return new(n||o)(g(de),g(rt))},o.\u0275cmp=y({type:o,selectors:[["app-view-questionnaire-participant"]],inputs:{modalTitle:"modalTitle",participant:"participant"},standalone:!0,features:[S],decls:16,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["clas","col-12"],[1,"fw-bolder"],[1,"text-muted","fst-italic"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),c(3),a(),r(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),a()(),r(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9),a()(),r(10,"div",8),f(11,tc,5,1,"div",9)(12,ic,3,0,"div",9),a()()(),r(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),a()()()),n&2&&(l(3),I(s.contact),l(6),M("",s.modalTitle," Questionnaire"),l(2),m("ngIf",s.questionnaireParticipants==null?null:s.questionnaireParticipants.length),l(),m("ngIf",(s.questionnaireParticipants==null?null:s.questionnaireParticipants.length)==0))},dependencies:[E,O,P]});let i=o;return i})();function nc(i,o){if(i&1&&(r(0,"div",26)(1,"p"),c(2),a()()),i&2){let t=d().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function oc(i,o){if(i&1&&(r(0,"td")(1,"div",18)(2,"div",27)(3,"div",28),c(4),a(),r(5,"div",29),c(6),a()()()()),i&2){let t=d().$implicit;l(4),M(" ",t==null||t.Questionnaire==null||t.Questionnaire[0]==null?null:t.Questionnaire[0].Question," "),l(2),M(" Answer:\xA0",t==null?null:t.QuestionAnswer," ")}}function rc(i,o){if(i&1&&(r(0,"tr")(1,"td"),f(2,nc,3,2,"div",24),a(),f(3,oc,7,2,"td",25),a()),i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Questionnaire)}}function ac(i,o){if(i&1&&(r(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th",21),c(6,"participant"),a(),r(7,"th",22),c(8,"Question/Answer"),a()()(),r(9,"tbody"),f(10,rc,4,2,"tr",23),a()()()()),i&2){let t=d();l(10),m("ngForOf",t.questionnaireParticipants)}}function sc(i,o){i&1&&(r(0,"div",18)(1,"p"),c(2,"No Questionnaire Participants are found."),a()())}function lc(i,o){if(i&1){let t=x();r(0,"div",26)(1,"a",32),h("click",function(){v(t);let n=d(2).$implicit,s=d(2);return C(s.openQuestionnaireParticipantModal(n))}),c(2),a()()}if(i&2){let t=d(2).$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function cc(i,o){if(i&1&&(r(0,"td"),f(1,lc,3,2,"div",24),a()),i&2){let t=d().$implicit;l(),m("ngIf",t.Contact)}}function mc(i,o){if(i&1){let t=x();r(0,"tr"),f(1,cc,2,1,"td",25),r(2,"td")(3,"button",30),h("click",function(){let s=v(t).$implicit,p=d(2),_;return C(p.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",p.modalTitle))}),u(4,"i",31),a()()()}if(i&2){let t=o.$implicit;l(),m("ngIf",t.MeetingComponentId)}}function pc(i,o){if(i&1&&(r(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th",22),c(6,"participant"),a(),u(7,"th",21),a()(),r(8,"tbody"),f(9,mc,5,1,"tr",23),a()()()()),i&2){let t=d();l(9),m("ngForOf",t.questionnaireParticipantNames)}}function dc(i,o){i&1&&(r(0,"div",18)(1,"p"),c(2,"No Questionnaire Participants are found."),a()())}function uc(i,o){if(i&1){let t=x();r(0,"button",33),h("click",function(){v(t);let n=d();return C(n.onDownloadCSV())}),c(1," Download "),a()}if(i&2){let t=d();m("disabled",t.questionnaireParticipants.length==0)}}var Qn=(()=>{let o=class o{constructor(e,n,s,p,_){this.activeModal=e,this.questionnaireParticipantService=n,this.helperService=s,this.profileService=p,this.modalService=_,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.questionnaireParticipants=[],this.questionnaireParticipantNames=[],this.iQuestionnaire={MeetingQuestionnaireParticipantId:0,UserId:0,MeetingComponentId:0,MeetingQuestionnaireId:0,QuestionAnswer:"",CreatedUserId:0,Contact:[],Questionnaire:[]},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingComponentId>0&&dt([this.questionnaireParticipants=yield A(this.questionnaireParticipantService.getQuestionnaireParticipants(this.meetingQuestionnaireId,this.meetingComponentId)),this.questionnaireParticipantNames=yield A(this.questionnaireParticipantService.getQuestionnaireParticipantByContact(0,this.meetingComponentId))])})}openQuestionnaireParticipantModal(e){if(e){let n=this.modalService.open(qn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Questionnaire Participant modal"});n.componentInstance.participant=e,n.componentInstance.modalTitle=this.modalTitle,n.result.then(s=>{},s=>{})}}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.questionnaireParticipants.map(n=>({Participant:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Question:n.Questionnaire?.[0]?.Question,Answers:n.QuestionAnswer,QuestionType:n.Questionnaire?.[0]?.QuestionType}));try{this.helperService.downloadCSV(e,"questionnaire.csv")}catch(n){console.log("Could not download Singups list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(de),g(rt),g(j),g(R),g(G))},o.\u0275cmp=y({type:o,selectors:[["app-view-questionnaire-participants"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingQuestionnaireId:"meetingQuestionnaireId",modalTitle:"modalTitle"},standalone:!0,features:[S],decls:29,vars:6,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","meetnpray-tab-panel","card"],["role","tablist",1,"nav","nav-tabs","nav-justified"],["data-bs-toggle","tab","data-bs-target","#allParticipants","type","button","role","tab","aria-selected","true",1,"nav-link","active"],["data-bs-toggle","tab","data-bs-target","#participants","type","button","role","tab","aria-selected","false",1,"nav-link"],[1,"tab-content","pt-3"],["id","allParticipants","role","tabpanel","aria-labelledby","all-participants-tab",1,"tab-pane","fade","show","active"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],["class","row",4,"ngIf"],["id","participants","role","tabpanel","aria-labelledby","participants-tab",1,"tab-pane"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","30%"],["scope","col",2,"width","70%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"justify-content-center"],["clas","col-12"],[1,"fw-bolder"],[1,"text-muted","fst-italic"],[1,"btn","btn-sm","btn-outline-primary","justify-content-center",3,"click"],[1,"fas","fa-envelope","fa-lg"],["href","javascript:0;",1,"text-decoration-none",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),c(3),a(),r(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),a()(),r(5,"div",4)(6,"nav")(7,"div",5)(8,"a",6),c(9,"Questionnaire"),a(),r(10,"a",7),c(11,"Participants "),a()()(),r(12,"div",8)(13,"div",9)(14,"div",10),u(15,"div",11),r(16,"div",12),f(17,ac,11,1,"div",13)(18,sc,3,0,"div",13),a()()(),r(19,"div",14)(20,"div",10),u(21,"div",11),r(22,"div",12),f(23,pc,10,1,"div",13)(24,dc,3,0,"div",13),a()()()()(),r(25,"div",15)(26,"button",16),h("click",function(){return s.activeModal.close("Close click")}),c(27," Cancel "),a(),f(28,uc,2,1,"button",17),a()()),n&2&&(l(3),M("",s.modalTitle," Questionnaire Participants"),l(14),m("ngIf",s.questionnaireParticipants==null?null:s.questionnaireParticipants.length),l(),m("ngIf",(s.questionnaireParticipants==null?null:s.questionnaireParticipants.length)==0),l(5),m("ngIf",s.questionnaireParticipantNames==null?null:s.questionnaireParticipantNames.length),l(),m("ngIf",(s.questionnaireParticipantNames==null?null:s.questionnaireParticipantNames.length)==0),l(4),m("ngIf",s.questionnaireParticipants.length>0))},dependencies:[E,O,P]});let i=o;return i})();function fc(i,o){if(i&1&&(r(0,"p")(1,"strong"),c(2,"Answer\xA0Options:"),a(),c(3,"\xA0"),r(4,"span"),c(5),a()()),i&2){let t=d().$implicit;l(5),I(t.AnswerOptions)}}function gc(i,o){if(i&1&&(r(0,"p")(1,"strong"),c(2,"Description:"),a(),c(3,"\xA0"),r(4,"span"),c(5),a()()),i&2){let t=d().$implicit;l(5),I(t.Description)}}function hc(i,o){if(i&1){let t=x();r(0,"tr")(1,"td")(2,"div",22)(3,"p")(4,"strong"),c(5,"Question:"),a(),c(6,"\xA0"),r(7,"span"),c(8),a()(),f(9,fc,6,1,"p",5)(10,gc,6,1,"p",5),a()(),r(11,"td")(12,"button",23),h("click",function(){let s=v(t).$implicit,p=d(2).$implicit,_=d(2);return C(_.openQuestionnaireListModal(p,s.MeetingQuestionnaireId))}),u(13,"i",24),a()()()}if(i&2){let t=o.$implicit;l(8),I(t.Question),l(),m("ngIf",t.AnswerOptions),l(),m("ngIf",t.Description)}}function _c(i,o){if(i&1&&(r(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),a()(),r(7,"tbody"),f(8,hc,14,3,"tr",21),a()()()()),i&2){let t=d().$implicit;l(8),m("ngForOf",t.Questionnaire)}}function vc(i,o){i&1&&(r(0,"div",9)(1,"p"),c(2,"No questions are listed on this Questionnaire component."),a()())}function Cc(i,o){if(i&1){let t=x();r(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openQuestionnaireComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),r(6,"span"),c(7),a()()(),r(8,"div",2)(9,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openQuestionnaireListModal(s,0))}),u(10,"i",13),r(11,"span"),c(12),a()()(),r(13,"div",2)(14,"button",12),h("click",function(){let s=v(t).$implicit,p=d(2);return C(p.openViewQuestionnaireModal(s))}),u(15,"i",14),r(16,"span"),c(17),a()()()()(),r(18,"div",15),f(19,_c,9,1,"div",16)(20,vc,3,0,"div",16),a()()}if(i&2){let t=o.$implicit;l(7),M("Edit\xA0",t.Title," \xA0Component"),l(5),M("Create\xA0",t.Title,"\xA0Questionnaire"),l(5),M("View\xA0",t.Title,"\xA0Participants"),l(2),m("ngIf",t.Questionnaire),l(),m("ngIf",!t.Questionnaire)}}function bc(i,o){if(i&1&&(et(0),f(1,Cc,21,5,"div",6),tt()),i&2){let t=d();l(),m("ngForOf",t.meetingQuestionnaireComponents)}}var On=(()=>{let o=class o{constructor(e,n,s,p,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.profileService=p,this.activatedRoute=_,this.meetingId=0,this.componentLookupTypeId=0,this.meetingQuestionnaireComponents=[],this.published=0,this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.profileService.getProfile()}ngOnInit(){return w(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield A(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Questionnaire"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingQuestionnaireComponents=yield A(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openQuestionnaireComponentModal(e){if(e>0){let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Questionnaire Component modal"});n.componentInstance.modalTitle="Edit Questionnaire Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(je,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Questionnaire Component modal"});n.componentInstance.modalTitle="Create Questionnaire Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openQuestionnaireListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let p=this.modalService.open(Xt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingQuestionnaireId=n,p.result.then(_=>{},_=>{})}else{let p=this.modalService.open(Xt,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});p.componentInstance.modalTitle=s.Title,p.componentInstance.meetingId=this.meetingId,p.componentInstance.meetingComponentId=s?.MeetingComponentId,p.componentInstance.meetingQuestionnaireId=0,p.result.then(_=>{},_=>{})}}openViewQuestionnaireModal(e){let n=e,s=this.modalService.open(Qn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Contributions modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingQuestionnaireId=0,s.result.then(p=>{},p=>{})}};o.\u0275fac=function(n){return new(n||o)(g(G),g(be),g(xe),g(R),g(ae))},o.\u0275cmp=y({type:o,selectors:[["app-questionnaire"]],inputs:{meeting:"meeting"},standalone:!0,features:[S],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"justify-content-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openQuestionnaireComponentModal(0)}),u(4,"i",4),r(5,"span"),c(6,"Create New Questionnaire Component"),a()()()()(),f(7,bc,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingQuestionnaireComponents.length>0))},dependencies:[B,E,O,P]});let i=o;return i})();function xc(i,o){if(i&1&&(r(0,"div",20),u(1,"app-editmeeting",21),a()),i&2){let t=d();l(),m("meeting",t.iMeeting)}}function yc(i,o){if(i&1&&(r(0,"div",22),u(1,"app-contributions",21),a()),i&2){let t=d();l(),m("meeting",t.iMeeting)}}function Sc(i,o){if(i&1&&(r(0,"div",23),u(1,"app-signups",21),a()),i&2){let t=d();l(),m("meeting",t.iMeeting)}}function Ic(i,o){if(i&1&&(r(0,"div",24),u(1,"app-questionnaire",21),a()),i&2){let t=d();l(),m("meeting",t.iMeeting)}}function Mc(i,o){if(i&1&&(r(0,"div",25),u(1,"app-meetingsettings",21),a()),i&2){let t=d();l(),m("meeting",t.iMeeting)}}var wc=()=>({exact:!0}),Tc=()=>["/community/mymeetings"],pt=i=>({active:i}),jn=(()=>{let o=class o{constructor(e,n,s,p,_,T){this.router=e,this.activateRoute=n,this.meetingService=s,this.participantService=p,this.profileService=_,this.helperService=T,this.activeTab="editmeeting",this.meetingId=0,this.iContact=this.profileService.getProfile()}ngOnInit(){this.activateRoute.queryParams.subscribe(e=>{this.meetingId=e.id}),this.loadMeeting()}setActiveTab(e){this.activeTab=e,this.loadMeeting()}loadMeeting(){this.meetingService.getMeeting(this.meetingId).pipe(k(e=>(this.iMeeting=e,this.iMeeting))).subscribe({next:e=>{console.log("Loaded Meeting")},error:e=>{console.log(e)},complete:()=>{}})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(ae),g(se),g(Re),g(R),g(j))},o.\u0275cmp=y({type:o,selectors:[["app-managemeeting"]],standalone:!0,features:[S],decls:27,vars:24,consts:[[1,"container-fluid","mt-5"],[1,"row","mb-3"],[1,"col","d-flex","justify-content-center"],["href","javascript:;","routerLinkActive","active",1,"btn","btn-sm","btn-outline-primary",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-angle-left","px-2"],[1,"row"],[1,"col-12"],[1,"meet-n-pray-tab-panel","card","p-3","border-white"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","nav-justified"],["id","navEditMeetingTab","data-bs-toggle","tab","data-bs-target","#navEditMeeting","type","button","role","tab","aria-controls","navEditMeeting","aria-selected","false",1,"nav-link","active",3,"ngClass","click"],["id","navContributionsTab","data-bs-toggle","tab","data-bs-target","#navContributions","type","button","role","tab","aria-controls","navContributions","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navSignupsTab","data-bs-toggle","tab","data-bs-target","#navSignups","type","button","role","tab","aria-controls","navSignups","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navQuestionsTab","data-bs-toggle","tab","data-bs-target","#navQuestions","type","button","role","tab","aria-controls","navQuestions","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navSettingsTab","data-bs-toggle","tab","data-bs-target","#navSettings","type","button","role","tab","aria-controls","navSettings","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade show active","id","navEditMeeting","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navContributions","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navSignups","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navQuestions","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navSettings","role","tabpanel",4,"ngIf"],["id","navEditMeeting","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"meeting"],["id","navContributions","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navSignups","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navQuestions","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navSettings","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(n,s){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),u(4,"i",4),c(5," My\xA0Meetings "),a()()(),r(6,"div",5)(7,"div",6)(8,"div",7)(9,"nav")(10,"div",8)(11,"a",9),h("click",function(){return s.setActiveTab("editmeeting")}),c(12," Edit\xA0Meeting "),a(),r(13,"a",10),h("click",function(){return s.setActiveTab("contributions")}),c(14," Contributions "),a(),r(15,"a",11),h("click",function(){return s.setActiveTab("signups")}),c(16," Signups "),a(),r(17,"a",12),h("click",function(){return s.setActiveTab("questions")}),c(18," Questionnaire "),a(),r(19,"a",13),h("click",function(){return s.setActiveTab("settings")}),c(20," Settings "),a()()(),r(21,"div",14),f(22,xc,2,1,"div",15)(23,yc,2,1,"div",16)(24,Sc,2,1,"div",17)(25,Ic,2,1,"div",18)(26,Mc,2,1,"div",19),a()()()()()),n&2&&(l(3),m("routerLinkActiveOptions",N(12,wc))("routerLink",N(13,Tc)),l(8),m("ngClass",ye(14,pt,s.activeTab==="editmeeting")),l(2),m("ngClass",ye(16,pt,s.activeTab==="contributions")),l(2),m("ngClass",ye(18,pt,s.activeTab==="signups")),l(2),m("ngClass",ye(20,pt,s.activeTab==="questions")),l(2),m("ngClass",ye(22,pt,s.activeTab==="settings")),l(3),m("ngIf",s.activeTab==="editmeeting"),l(),m("ngIf",s.activeTab==="contributions"),l(),m("ngIf",s.activeTab==="signups"),l(),m("ngIf",s.activeTab==="questions"),l(),m("ngIf",s.activeTab==="settings"))},dependencies:[E,He,P,ve,Ce,Ki,Pn,An,On,Vn]});let i=o;return i})();var Hn=[{path:"",component:Hi,children:[{path:"howtopray",title:"How to Pray",loadComponent:()=>import("./chunk-JJP7F2ZC.js").then(i=>i.HowtoprayComponent)},{path:"about",title:"About",component:Mi},{path:"roles",title:"Roles",component:Ti},{path:"meeting",title:"meeting",component:Ot},{path:"",redirectTo:"/howtopray",pathMatch:"full"}]},{path:"",component:Ai,canActivate:[Ge],children:[{path:"prayers",component:Fi,children:[{path:"letuspray/:category",title:"Let us Pray",loadComponent:()=>import("./chunk-FLU44EQ3.js").then(i=>i.LetusprayComponent),canActivate:[Ge]},{path:"prayersettings",title:"Settings",component:Ui,canActivate:[Ge]},{path:"",redirectTo:"/letuspray/:category",pathMatch:"full"}]},{path:"requests",component:Ri,children:[{path:":requesttype",title:"Prayer Requests",component:Bi,canActivate:[Ge]}]},{path:"community",component:Qi,children:[{path:"meetings",title:"Browse Meetings",component:zi,canActivate:[Ge]},{path:"meeting",title:"Meeting Participation",component:Ot,canActivate:[Ge]},{path:"mymeetings",title:"My Meetings",component:Ji}]},{path:"managemeeting",title:"Manage Meeting",component:jn}]},{path:"**",component:ki}];var Un={providers:[_i(Hn),hi(),di(fi(),ui([yi]))]};var $n=(()=>{let o=class o{constructor(e){this.roleService=e,this.currentYear=new Date().getFullYear(),this.title="MAP.Web"}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)(g(wt))},o.\u0275cmp=y({type:o,selectors:[["app-root"]],standalone:!0,features:[S],decls:2,vars:0,template:function(n,s){n&1&&(r(0,"main"),u(1,"router-outlet"),a())},dependencies:[E,Se]});let i=o;return i})();gi($n,Un).catch(i=>console.error(i));
