import{$ as P,$a as le,A as tt,Aa as ie,B as it,Ba as ne,C as x,Ca as $e,D as h,Da as vt,E as p,Ea as oe,F as me,Fa as Ct,G as Bt,Ga as re,H as ze,Ha as ke,I as Ie,Ia as Ee,J as Me,Ja as Fe,K as we,Ka as bt,L as he,La as xt,M as c,Ma as yi,N as M,Na as yt,O as y,Oa as St,P as X,Pa as Ve,Q as nt,Qa as De,R as I,Ra as B,S as L,Sa as Z,T as Se,Ta as xe,U as de,Ua as H,V as ai,Va as D,W as _e,Wa as It,X as si,Xa as pe,Y as J,Ya as W,Z as He,Za as Mt,_ as j,a as ft,aa as li,ab as wt,b as gt,ba as ci,bb as Tt,c as k,ca as Ae,cb as Si,d as V,da as mi,db as kt,e as ht,ea as di,eb as Ii,f as R,fa as E,g as _t,ga as pi,h as Ke,ha as ui,i as T,ia as fi,j as Ht,ja as G,k as z,ka as gi,l as Q,la as hi,m as $t,ma as _i,n as S,na as vi,o as et,oa as Ci,p as C,pa as bi,q as b,qa as se,r as F,ra as Te,s as l,sa as U,t as g,ta as ve,u as ri,ua as Ce,v as f,va as xi,w as m,wa as be,x as a,xa as ee,y as r,ya as v,z as u,za as te}from"./chunk-JFT6L2PT.js";var Et=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}getUsers(e,n,s,d,_,w,A){let q={affiliationLookupId:e,userTypeLookupId:n,pageNumber:s,pageSize:d,searchValue:_,active:w,blocked:A};return this.httpClient.post(this.api+"/users/all",q)}saveUser(e){return this.httpClient.post(this.api+"/users",e)}updateUser(e){return this.httpClient.put(this.api+"/users",e)}flagUser(e){return this.httpClient.post(this.api+"/users/flag",e)}deleteUser(e){return this.httpClient.delete(this.api+"/users/"+e)}getUser(e){let n={userId:e};return this.httpClient.post(this.api+"/users/user",n)}getusersByCategory(e,n,s){let d={userTypeLookupId:e,pageNumber:n,pageSize:s};return this.httpClient.post(this.api+"/users/category",d)}getUserByAffiliation(e,n,s){let d={affiliationLookupId:e,pageNumber:n,pageSize:s};return this.httpClient.post(this.api+"/users/affiliation",d)}getUsersByRole(e,n,s,d,_){let w={affiliationLookupId:e,pageNumber:s,pageSize:d,searchValue:_};return this.httpClient.post(this.api+"/users/role",w)}getActiveUsers(e,n,s,d){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,active:d};return this.httpClient.post(this.api+"/users/active",_)}loginUser(e){let n={userName:e.Email,password:e.Password};return this.httpClient.post(this.api+"/users/login",n)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Ft=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}getCountries(){let e={country:"all"};return this.httpClient.post(this.api+"/countries/all",e)}getCountryDialCodes(){return this.httpClient.get(this.api+"/countries/dialcodes")}getCountryById(e){let n={countryId:e};return this.httpClient.post(this.api+"/countries/country",n)}getCountryByCode(e){let n={code:e};return this.httpClient.post(this.api+"/countries/code",n)}SaveCountry(e){let n={Name:e.Name,TwoCode:e.TwoCode,ThreeCode:e.ThreeCode,NumberCode:e.NumberCode,CreatedDate:new Date};return this.httpClient.post(this.api+"/countries",n)}updateCountry(e){let n={CountryId:e.CountryId,Name:e.Name,TwoCode:e.TwoCode,ThreeCode:e.ThreeCode,NumberCode:e.NumberCode};return this.httpClient.put(this.api+"/countries",n)}deleteLookup(e){return this.httpClient.delete(this.api+"/countries/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function Gn(i,o){if(i&1&&(a(0,"ul",29),u(1,"li",30),r()),i&2){let t=p(2);l(),m("innerHtml",t.userFormErrorMessage("First name",t.userForm.controls.FirstName.errors),F)}}function Zn(i,o){if(i&1&&(a(0,"ul",29),u(1,"li",30),r()),i&2){let t=p(2);l(),m("innerHtml",t.userFormErrorMessage("Last name",t.userForm.controls.LastName.errors),F)}}function Xn(i,o){if(i&1&&(a(0,"ul",29),u(1,"li",30),r()),i&2){let t=p(2);l(),m("innerHtml",t.userFormErrorMessage("Email",t.userForm.controls.Email.errors),F)}}function Jn(i,o){if(i&1&&(a(0,"ul",29),u(1,"li",30),r()),i&2){let t=p(2);l(),m("innerHtml",t.userFormErrorMessage("Phone",t.userForm.controls.Phone.errors),F)}}function Kn(i,o){if(i&1&&(a(0,"ul",29),u(1,"li",30),r()),i&2){let t=p(2);l(),m("innerHtml",t.userFormErrorMessage("Password",t.userForm.controls.Password.errors),F)}}function eo(i,o){i&1&&(a(0,"span",31),c(1," Password and Confirm Password must match. "),r())}function to(i,o){if(i&1&&(a(0,"option",32),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.CountryId),l(),M(t.Name)}}function io(i,o){i&1&&(a(0,"div",31)(1,"sup"),c(2,"*"),r(),c(3,"Select your country "),r())}function no(i,o){if(i&1&&(a(0,"div")(1,"div",34),u(2,"input",35),a(3,"label",25),c(4),r()()()),i&2){let t=p().$implicit;l(2),m("value",t.LookupId)("checked",!0),l(2),M(t.LookupName)}}function oo(i,o){if(i&1&&(a(0,"div"),f(1,no,5,3,"div",33),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===3)}}function ro(i,o){if(i&1&&(a(0,"div")(1,"div",34),u(2,"input",36),a(3,"label",25),c(4),r()()()),i&2){let t=p().$implicit;l(2),m("value",t.LookupId),l(2),M(t.LookupName)}}function ao(i,o){if(i&1&&(a(0,"div"),f(1,ro,5,2,"div",33),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===4)}}function so(i,o){if(i&1&&(a(0,"div")(1,"div",34),u(2,"input",36),a(3,"label",25),c(4),r()()()),i&2){let t=p().$implicit;l(2),m("value",t.LookupId),l(2),M(t.LookupName)}}function lo(i,o){if(i&1&&(a(0,"div"),f(1,so,5,2,"div",33),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===5)}}function co(i,o){if(i&1&&(a(0,"div")(1,"div",34),u(2,"input",37),a(3,"label",25),c(4),r()()()),i&2){let t=p().$implicit;l(2),m("value",t.LookupId)("checked",!0),l(2),M(t.LookupName)}}function mo(i,o){if(i&1&&(a(0,"div"),f(1,co,5,3,"div",33),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===1)}}function po(i,o){if(i&1&&(a(0,"div")(1,"div",34),u(2,"input",38),a(3,"label",25),c(4),r()()()),i&2){let t=p().$implicit;l(2),m("value",t.LookupId),l(2),M(t.LookupName)}}function uo(i,o){if(i&1&&(a(0,"div"),f(1,po,5,2,"div",33),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.LookupId===2)}}function fo(i,o){if(i&1){let t=x();a(0,"form",6),h("ngSubmit",function(){C(t);let n=p();return b(n.saveUser())}),a(1,"div",1)(2,"div",7)(3,"div",8),u(4,"input",9),f(5,Gn,2,1,"ul",10),r()(),a(6,"div",7)(7,"div",8),u(8,"input",11),f(9,Zn,2,1,"ul",10),r()()(),a(10,"div",1)(11,"div",8),u(12,"input",12),f(13,Xn,2,1,"ul",10),r(),a(14,"div",8),u(15,"input",13),f(16,Jn,2,1,"ul",10),r(),a(17,"div",8),u(18,"input",14),f(19,Kn,2,1,"ul",10),r(),a(20,"div",8),u(21,"input",15),f(22,eo,2,0,"span",16),r(),a(23,"div",8)(24,"select",17),h("change",function(n){C(t);let s=p();return b(s.changeCountry(n))}),a(25,"option",18),c(26,"Choose Your Country"),r(),f(27,to,2,2,"option",19),r(),f(28,io,4,0,"div",16),r()(),a(29,"div",1)(30,"p",20),c(31,"Affiliation"),r(),a(32,"div",21),f(33,oo,2,1,"div",22),r(),a(34,"div",21),f(35,ao,2,1,"div",22),r(),a(36,"div",21),f(37,lo,2,1,"div",22),r()(),a(38,"div",1)(39,"p",20),c(40,"I am a"),r(),a(41,"div",21),f(42,mo,2,1,"div",22),r(),a(43,"div",21),f(44,uo,2,1,"div",22),r()(),a(45,"div",1)(46,"div",21)(47,"div",23),u(48,"input",24),a(49,"label",25),c(50,"Agree to terms and conditions"),r()()()(),a(51,"div",1)(52,"div",26)(53,"button",27),c(54,"Submit"),r(),a(55,"div",28)(56,"small"),c(57),r()()()()()}if(i&2){let t=p(),e;m("formGroup",t.userForm),l(5),m("ngIf",t.userForm.controls.FirstName.invalid&&(t.userForm.controls.FirstName.dirty||t.userForm.controls.FirstName.touched)),l(4),m("ngIf",t.userForm.controls.LastName.invalid&&(t.userForm.controls.LastName.dirty||t.userForm.controls.LastName.touched)),l(4),m("ngIf",t.userForm.controls.Email.invalid&&(t.userForm.controls.Email.dirty||t.userForm.controls.Email.touched)),l(3),m("ngIf",t.userForm.controls.Phone.invalid&&(t.userForm.controls.Phone.dirty||t.userForm.controls.Phone.touched)),l(3),m("ngIf",t.userForm.controls.Password.invalid&&(t.userForm.controls.Password.dirty||t.userForm.controls.Password.touched)),l(3),m("ngIf",(t.userForm==null||(e=t.userForm.get("Password"))==null?null:e.valid)&&(t.userForm==null||(e=t.userForm.get("ConfirmPassword"))==null?null:e.dirty)&&(t.userForm==null||(e=t.userForm.get("Password"))==null?null:e.value)!==(t.userForm==null||(e=t.userForm.get("ConfirmPassword"))==null?null:e.value)),l(5),m("ngForOf",t.Countries),l(),m("ngIf",t.userForm.controls.Country.hasError("required")),l(5),m("ngForOf",t.UserAffiliation),l(2),m("ngForOf",t.UserAffiliation),l(2),m("ngForOf",t.UserAffiliation),l(5),m("ngForOf",t.UserCategory),l(2),m("ngForOf",t.UserCategory),l(13),M(t.errors)}}var Ti=(()=>{let o=class o{constructor(e,n,s,d,_,w,A){this.router=e,this.userService=n,this.countryService=s,this.lookupService=d,this.helperService=_,this.formBuilder=w,this.authService=A,this.errors="",this.iContact="",this.iUser={UserId:0,AffiliationLookupId:0,UserTypeLookupId:0,ClientId:1,FirstName:"",LastName:"",Email:"",Phone:"",Profile:"",Country:"",Password:"",ConfirmPassword:"",LoginToken:"",LastLoggedIn:new Date,LockedOn:new Date,RenewPassword:"",ResetPassword:new Date,Active:!1,IsBlocked:!1,CreatedDate:new Date,ModifiedDate:new Date,UserRoles:[],countryDialCode:[]},this.iUserTypeLookup={LookupId:1,LookupName:"",Category:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date},this.iUserAffiliation={LookupId:3,LookupName:"",Category:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date},this.iUserRole={ClientId:0,UserId:0,RoleId:0,CreatedDate:null,ModifiedDate:null},this.Countries=[],this.UserCategory=[],this.UserAffiliation=[]}ngOnInit(){return k(this,null,function*(){yield this.getCountries(),yield this.getLookupByCategory("Users"),yield this.getLookupByCategory("Affiliation"),this.buildUserForm()})}buildUserForm(){let e="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$",n="^[A-Za-z][A-Za-z'-]+([ A-Za-z][A-Za-z'-]+)*";this.userForm=this.formBuilder.group({UserId:[this.iUser.UserId],AffiliationLookupId:[this.iUserAffiliation.LookupId,[v.required]],UserTypeLookupId:[this.iUserTypeLookup.LookupId,[v.required]],FirstName:[this.iUser.FirstName,[v.required,v.maxLength(50),v.minLength(2),v.pattern(n)]],LastName:[this.iUser.LastName,[v.required,v.maxLength(50),v.minLength(2)]],Email:[this.iUser.Email,[v.required,v.maxLength(100),v.email,v.pattern(e)]],Phone:[this.iUser.Phone,[v.required,v.maxLength(20),v.minLength(8)]],Country:[1,[v.required]],Password:[this.iUser.Password,[v.required,v.maxLength(30),v.minLength(8)]],ConfirmPassword:[this.iUser.Password,[v.required,v.maxLength(30),v.minLength(8)]],AcceptTermsOfUse:[!1,[v.required]]})}userFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}getLookupByCategory(e){return k(this,null,function*(){this.lookupService.getLookupByCategory(e).pipe(T(n=>e==="Users"?(this.UserCategory=n,this.UserCategory):(this.UserAffiliation=n,this.UserAffiliation))).subscribe({next:n=>{console.log("Retrieving Affiliation and UserType Lookups")},error:n=>console.log("Error Retrieving Affiliation and UserType Lookups "),complete:()=>console.log("Completed Retrieving Affiliation and UserType Lookups")})})}getCountries(){return k(this,null,function*(){this.countryService.getCountries().pipe(T(e=>(this.Countries=e,this.Countries))).subscribe({next:e=>{console.log("Retreiving Countries")},error:e=>console.log("Error Retrieving Countries "),complete:()=>console.log("Completed Retrieving Countries")})})}get Country(){return this.userForm.get("Country")}changeCountry(e){let n=this.Country?.setValue(e.target.value,{onlySelf:!0})}saveUser(){if(this.errors="",!this.userForm.valid){this.errors="One or more form fields are invalid.",this.userForm.markAllAsTouched();return}let e=this.userForm.value;e.UserRoles=[{ClientId:1,RoleId:1}],e.ClientId=1;let n={userName:e.Email,password:e.Password,phone:""};this.userService.saveUser(e).pipe(Ht(s=>{this.iContact=s,console.log("User saved successfully")}),T(()=>this.authService.login(n)),Ht(()=>{console.log("Successfully logged in")}),Ke(s=>(this.errors=s?.error?.Message||"An unexpected error occurred",ht(()=>s)))).subscribe({complete:()=>{this.router.navigate(["prayers/letuspray","god"])}})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(Et),g(Ft),g(xe),g(H),g(Ve),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-about"]],standalone:!0,features:[I],decls:11,vars:1,consts:[[1,"container"],[1,"row"],[1,"text-center"],[1,"mt-4","text-primary"],[1,"col-lg-4","col-md-4","col-sm-6","col-xs-6"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-6"],[1,"mb-3"],["type","text","formControlName","FirstName","placeholder","Enter First Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],["type","text","formControlName","LastName","placeholder","Enter Last Name",1,"form-control"],["type","email","formControlName","Email","placeholder","Enter email",1,"form-control"],["type","text","formControlName","Phone","placeholder","Enter phone",1,"form-control"],["type","password","formControlName","Password","placeholder","Password",1,"form-control"],["type","password","formControlName","ConfirmPassword","placeholder","Confirm Password",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","Country",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"fw-normal","fs-5"],[1,"col-auto"],[4,"ngFor","ngForOf"],[1,"form-check","mb-3"],["type","checkbox","formControlName","AcceptTermsOfUse",1,"form-check-input"],[1,"form-check-label"],[1,"mb-3","d-grid","gap-2","col-12","mx-auto"],["type","submit",1,"btn","btn-primary"],[1,"mb-3","text-danger"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],[1,"text-danger"],[3,"ngValue"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","radio","formControlName","AffiliationLookupId","name","AffiliationLookupId",1,"form-check-input",3,"value","checked"],["type","radio","formControlName","AffiliationLookupId","name","AffiliationLookupId",1,"form-check-input",3,"value"],["type","radio","FormControlName","UserTypeLookupId","name","UserTypeLookupId",1,"form-check-input",3,"value","checked"],["type","radio","formControlName","UserTypeLookupId","name","UserTypeLookupId",1,"form-check-input",3,"value"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"About"),r(),a(5,"p"),c(6,"Welcome to Meet-N-Pray. This app was founded on God's calling to create peer-to-peer pray service for all."),r()(),a(7,"div",4)(8,"h4"),c(9," Sign Up"),r(),f(10,fo,58,15,"form",5),r()()()),n&2&&(l(10),m("ngIf",s.userForm))},dependencies:[E,j,P,B,ne,Ee,Fe,ee,be,ke,vt,te,ie,oe,re]});let i=o;return i})();var Dt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=n.appConfig.MAP_API_ENDPOINT}createAuthorizationHeader(e){return e=e.set("Authorization","Basic pwangota:ABCD123")}getRoles(){return this.httpClient.get(this.api+"/roles")}createRole(e){let n={Name:e.Name,Description:e.Description,CreatedDate:new Date,ModifiedDate:e.ModifiedDate};return this.httpClient.post(this.api+"/roles",n)}updateRole(e){let n={RoleId:e.RoleId,Name:e.Name,Description:e.Description,CreatedDate:e.CreatedDate,ModifiedDate:new Date};return this.httpClient.put(this.api+"/roles",n)}deleteRole(e){let n=new pi;n=n.set("X-Pr-Data","ABC123"),n=this.createAuthorizationHeader(n);let s={headers:n};return this.httpClient.delete(this.api+"/roles/"+e,s)}getRole(e){let n={roleId:e};return this.httpClient.post(this.api+"/roles/role",n)}handleError(e="operation",n){return s=>(console.error(s),this.log(`${e} failed: ${s.message}`),V(n))}handleHttpStatusError(e){if(e instanceof ui){let n="";try{e.status==fi.BadRequest&&(n=e.statusText)}catch{n=e.statusText}return Error(n)}return Error(e)}log(e){console.log(`Error: ${e}`)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function go(i,o){if(i&1){let t=x();a(0,"tr")(1,"td"),c(2),r(),a(3,"td"),c(4),r(),a(5,"td")(6,"button",11),h("click",function(){let s=C(t).$implicit,d=p(),_=he(23);return b(d.addEditRole(s.RoleId,_))}),c(7,"Edit"),r()(),a(8,"td")(9,"button",12),h("click",function(){let s=C(t).$implicit,d=p(),_=he(25);return b(d.yesDeleteRole(s.RoleId,s.Name,_))}),c(10,"Delete"),r()()()}if(i&2){let t=o.$implicit;l(2),M(t.Name),l(2),M(t.Description)}}function ho(i,o){i&1&&(a(0,"tr")(1,"td"),c(2,"\xA0"),r(),a(3,"td",13),c(4,"No Records Found"),r()())}function _o(i,o){if(i&1&&(a(0,"ul",27),u(1,"li",28),r()),i&2){let t=p(3);l(),m("innerHtml",t.roleFormErrorMessage("Role name",t.roleForm.controls.Name.errors),F)}}function vo(i,o){if(i&1&&(a(0,"ul",27),u(1,"li",28),r()),i&2){let t=p(3);l(),m("innerHtml",t.roleFormErrorMessage("Description",t.roleForm.controls.Description.errors),F)}}function Co(i,o){if(i&1){let t=x();a(0,"form",18),h("ngSubmit",function(){C(t);let n=p(2);return b(n.saveRole())}),a(1,"div",19)(2,"div",1)(3,"div",20),u(4,"input",21),f(5,_o,2,1,"ul",22),r(),a(6,"div",20),u(7,"textarea",23),f(8,vo,2,1,"ul",22),r(),u(9,"input",24),r()(),a(10,"div",25)(11,"button",26),c(12,"Submit"),r()()()}if(i&2){let t=p(2);m("formGroup",t.roleForm),l(5),m("ngIf",t.roleForm.controls.Name.invalid&&(t.roleForm.controls.Name.dirty||t.roleForm.controls.Name.touched)),l(3),m("ngIf",t.roleForm.controls.Description.invalid&&(t.roleForm.controls.Description.dirty||t.roleForm.controls.Description.touched))}}function bo(i,o){if(i&1){let t=x();a(0,"div",14)(1,"h4",15),c(2,"Role"),r(),a(3,"button",16),h("click",function(){let s=C(t).$implicit;return b(s.dismiss())}),r()(),f(4,Co,13,3,"form",17)}if(i&2){let t=p();l(4),m("ngIf",t.roleForm)}}function xo(i,o){if(i&1){let t=x();a(0,"div",14)(1,"h4",29),c(2,"Role"),r(),a(3,"button",16),h("click",function(){let s=C(t).$implicit;return b(s.dismiss())}),r()(),a(4,"div",19)(5,"div",1),u(6,"input",30),a(7,"p"),c(8,"Are you sure you want to remove "),a(9,"strong"),c(10),r(),c(11," role?"),r()()(),a(12,"div",25)(13,"button",31),h("click",function(){C(t);let n=p();return b(n.deleteRole())}),c(14," Yes "),r()()}if(i&2){let t=p();l(6),me("value",t.deleteRoleId),l(4),y('"',t.deleteRoleName,'" ')}}var Ei=(()=>{let o=class o{constructor(e,n,s,d){this.roleService=e,this.helperService=n,this.formBuilder=s,this.modal=d,this.roles=[],this.role={RoleId:0,Name:"",Description:"",CreatedDate:new Date,ModifiedDate:new Date}}ngOnInit(){this.getRoles(),this.buildRoleForm()}getRoles(){this.roleService.getRoles().pipe(T(e=>this.roles=e),Ke(e=>(console.error("getRoles() Error1: "+e),V([])))).subscribe({next:e=>{console.log("getRoles(): Retrived All Roles: "+e)},error:e=>{console.log(e)},complete:()=>{console.log("getRoles() Completed: Successfully retrieved roles")}})}buildRoleForm(){this.roleForm=this.formBuilder.group({RoleId:[this.role.RoleId],Description:[this.role.Description,[v.required,v.maxLength(200),v.minLength(4)]],Name:[this.role.Name,[v.required,v.maxLength(20),v.minLength(4)]]})}roleFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}saveRole(){return k(this,null,function*(){if(!this.roleForm.valid)return this.roleForm.markAllAsTouched();let e=this.roleForm.value;e?.RoleId===0?this.roleService.createRole(e).pipe(T(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("CreateRole(): Saving Role.")},error:n=>{console.log(n)},complete:()=>console.log("CreateRole(): Successfully created role.")}):this.roleService.updateRole(e).pipe(T(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("CreateRole(): Saving Role.")},error:n=>console.log(n),complete:()=>console.log("UpdateRole(): Successfully modified role.")})})}addEditRole(e,n){return k(this,null,function*(){let s={size:"lg",backdrop:"static",keyboard:!0,centered:!0};if(e==="0")this.role,this.buildRoleForm(),this.roleForm.reset(),this.modal.open(n,s);else{let d=yield R(this.roleService.getRole(e));this.role=d[0],this.buildRoleForm(),this.modal.open(n,s).result.then(_=>k(this,null,function*(){return d}))}})}yesDeleteRole(e,n,s){let d={size:"md",backdrop:"static",keyboard:!0,centered:!0};this.deleteRoleId=e,this.deleteRoleName=n,this.modal.open(s,d)}deleteRole(){let e=document.getElementById("roleId").value;this.roleService.deleteRole(e).pipe(T(n=>(this.modal.dismissAll(),this.roles=n))).subscribe({next:n=>{console.log("Delete role")},error:n=>console.log(n),complete:()=>console.log("DeleteRole(): Successfully delete role.")})}};o.\u0275fac=function(n){return new(n||o)(g(Dt),g(H),g(Ve),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-role"]],standalone:!0,features:[I],decls:26,vars:2,consts:[[1,"container"],[1,"row"],[1,"mt-4","text-center","text-primary"],[1,"table-responsive"],[1,"col-md-4"],["type","button",1,"btn","btn-primary",3,"click"],[1,"table","table-stripe","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["roleModal",""],["deleteRoleModal",""],[1,"btn","btn-info","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],["colspan","6"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Name","placeholder","Enter Role Name","autocomplete","false",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],["rows","4","formControlName","Description","placeholder","Tell people what this role is for","autocomplete","false",1,"form-control"],["type","hidden","formControlName","RoleId","placeholder","RoleId"],[1,"modal-footer"],[1,"btn","btn-success"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["id","delete-role-modal",1,"modal-title"],["type","hidden","id","roleId","placeholder","RoleId",3,"value"],[1,"btn","btn-success",3,"click"]],template:function(n,s){if(n&1){let d=x();a(0,"div",0)(1,"div",1)(2,"h2",2),c(3,"Roles"),r(),a(4,"p"),c(5,"Manage roles"),r(),a(6,"div",3)(7,"div",4)(8,"button",5),h("click",function(){C(d);let w=he(23);return b(s.addEditRole("0",w))}),c(9,"New Role"),r()(),a(10,"table",6)(11,"thead")(12,"tr")(13,"th"),c(14,"Name"),r(),a(15,"th"),c(16,"Description"),r(),u(17,"th"),r()(),a(18,"tbody"),f(19,go,11,2,"tr",7)(20,ho,5,0,"tr",8),r()()()(),a(21,"div",1),f(22,bo,5,1,"ng-template",null,9,J)(24,xo,15,2,"ng-template",null,10,J),r()()}n&2&&(l(19),m("ngForOf",s.roles),l(),m("ngIf",!(s.roles!=null&&s.roles.length)))},dependencies:[E,j,P,B,ne,ee,te,ie,oe,re]});let i=o;return i})();var Fi=(()=>{let o=class o{};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-pagenotfound"]],standalone:!0,features:[I],decls:11,vars:0,consts:[[1,"container"],[1,"row"],[1,"text-center"],[1,"mt-4","text-primary"],["routerLinkActive","active","routerLink","/prayers","href","#howtopray"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),c(4,"Oops!"),r(),a(5,"p")(6,"strong"),c(7,"Oh, no!"),r(),c(8,". The resource you are looking for cant be found."),r(),a(9,"a",4),c(10,"How to Pray"),r()()()())},dependencies:[ve,Ce]});let i=o;return i})();var We=()=>({exact:!0}),yo=()=>["prayersettings"],Di=(()=>{let o=class o{constructor(e,n){this.router=e,this.authService=n,this.categoryEmmiter=new ri,this.scrollcategoryId=7}ngOnInit(){}navigateToHome(e){e==="requests"?this.router.navigate(["requests/prayers"]):e==="meetings"?this.router.navigate(["/community/meetings"]):this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray",e]))}};o.\u0275fac=function(n){return new(n||o)(g(U),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-prayers-siderbar"]],outputs:{categoryEmmiter:"categoryEmmiter"},standalone:!0,features:[I],decls:38,vars:16,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["routerLinkActive","active","routerLink","/prayers/letuspray/god","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["routerLinkActive","active","routerLink","/prayers/letuspray/jesus","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"],["routerLinkActive","active","routerLink","/prayers/letuspray/devotions","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-list","px-2"],["routerLinkActive","active","routerLink","/prayers/letuspray/praises","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-quote-left","px-2"],["routerLinkActive","active","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-comment","me-2"],[1,"fa-solid","fa-lg","fa-users","me-2"],["routerLinkActive","active","href","javascript:;",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-gears","px-2"]],template:function(n,s){n&1&&(a(0,"ul",0)(1,"li",1)(2,"a",2),h("click",function(){return s.navigateToHome("god")}),u(3,"i",3),a(4,"span",4),c(5,"Home"),r()()(),a(6,"li",1)(7,"a",5),h("click",function(){return s.navigateToHome("jesus")}),u(8,"i",6),a(9,"span",4),c(10,"Prayers"),r()()(),a(11,"li",1)(12,"a",7),h("click",function(){return s.navigateToHome("devotions")}),u(13,"i",8),a(14,"span",4),c(15,"Devotions"),r()()(),a(16,"li",1)(17,"a",9),h("click",function(){return s.navigateToHome("praises")}),u(18,"i",10),a(19,"span",4),c(20,"Praises"),r()()(),a(21,"li",1)(22,"a",11),h("click",function(){return s.navigateToHome("requests")}),u(23,"i",12),a(24,"span",4),c(25,"Requests"),r()()(),a(26,"li",1)(27,"a",11),h("click",function(){return s.navigateToHome("meetings")}),u(28,"i",13),a(29,"span",4),c(30,"Meetings"),r()()(),a(31,"li"),u(32,"hr"),r(),a(33,"li",1)(34,"a",14),u(35,"i",15),a(36,"span",4),c(37,"Settings"),r()()()()),n&2&&(l(2),m("routerLinkActiveOptions",L(8,We)),l(5),m("routerLinkActiveOptions",L(9,We)),l(5),m("routerLinkActiveOptions",L(10,We)),l(5),m("routerLinkActiveOptions",L(11,We)),l(5),m("routerLinkActiveOptions",L(12,We)),l(5),m("routerLinkActiveOptions",L(13,We)),l(7),m("routerLinkActiveOptions",L(14,We))("routerLink",L(15,yo)))},dependencies:[ve,Ce,E]});let i=o;return i})();var Ni=(()=>{let o=class o{ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-prayers"]],standalone:!0,features:[I],decls:12,vars:0,consts:[[1,"container","mt-5"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-2","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4,"Dedicate, host, and request prayer. Browse prayers."),r()()()(),a(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-prayers-siderbar"),r()(),a(10,"div",8),u(11,"router-outlet"),r()()())},dependencies:[E,Te,Di]});let i=o;return i})();var Li=(()=>{let o=class o{constructor(){this.currentYear=new Date().getFullYear()}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-layout-footer"]],standalone:!0,features:[I],decls:5,vars:1,consts:[[1,"bg-light","text-center","text-lg-start"],[1,"text-center","p-3"],["href","",1,"text-dark"]],template:function(n,s){n&1&&(a(0,"footer",0)(1,"div",1),c(2),a(3,"a",2),c(4,"Meet-N-Pray"),r()()()),n&2&&(l(2),y(" \xA9 ",s.currentYear," Copyright: "))}});let i=o;return i})();var rt=()=>({exact:!0}),So=()=>["/community/mymeetings"],Pi=()=>["requests/prayers"],Ai=()=>["/community/meetings"],Vi=(()=>{let o=class o{constructor(e){this.router=e}ngOnInit(){}navigateToHome(e){e==="requests"?this.router.navigate(["requests/prayers"]):e==="meetings"?this.router.navigate(["/community/meetings"]):this.router.navigateByUrl("/requests",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray",e]))}ngOnDestroy(){}logout(){sessionStorage.removeItem("CurrentUser"),sessionStorage.clear()}};o.\u0275fac=function(n){return new(n||o)(g(U))},o.\u0275cmp=S({type:o,selectors:[["app-layout-header"]],standalone:!0,features:[I],decls:89,vars:22,consts:[[1,"py-3","mb-4"],["aria-label","Thirteenth navbar example",1,"navbar","navbar-expand-lg","bg-info","rounded","fixed-top"],[1,"container","d-flex","justify-content-center"],["routerLinkActive","active","routerLink","/prayers/letuspray/god","href","#letuspray",1,"navbar-brand",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-person-praying","fa-lg","text-dark","px-2"],[1,"d-none","d-sm-inline"],[1,"d-flex","flex-grow-1"],[1,"input-group","input-group-sm"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-dark","dropdown-toggle"],[1,"fa-solid","fa-lg","fa-bars","px-2"],[1,"dropdown-menu","justify-content-center","shadow",2,"position","absolute"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["type","text","placeholder","search","aria-label","Text input with dropdown button",1,"form-control"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsPrayers","aria-controls","navbarsPrayers","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsPrayers",1,"collapse","navbar-collapse","justify-content-between","flex-column"],[1,"navbar-nav"],[1,"nav-item","dropdown"],["href","javascript:0;","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-decoration-none"],["src","https://via.placeholder.com/28?text=!","alt","user","width","25","height","25",1,"rounded-circle","me-2"],[1,"dropdown-menu","dropdown-menu-end","shadow"],["href","javascript:;",1,"dropdown-item"],["href","javascript:;",1,"dropdown-item",3,"routerLink"],["href","#",1,"nav-link",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket","fa-lg"],[1,"nav-item"],["routerLinkActive","active","href","#requests",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-comment","me-2"],["routerLinkActive","active","href","#meetings",1,"nav-link",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-users","me-2"],["href","#Resources","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-decoration-none"],[1,"fa-solid","fa-lg","fa-face-smile","me-2"],[1,"dropdown-menu"],["routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"]],template:function(n,s){n&1&&(a(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3),u(4,"i",4),a(5,"span",5),c(6,"Meet-N-Pray"),r()(),a(7,"form",6)(8,"div",7)(9,"button",8),u(10,"i",9),r(),a(11,"ul",10)(12,"li")(13,"a",11),h("click",function(){return s.navigateToHome("jesus")}),c(14,"Prayers"),r()(),a(15,"li")(16,"a",11),h("click",function(){return s.navigateToHome("devotions")}),c(17,"Devotions"),r()(),a(18,"li")(19,"a",11),h("click",function(){return s.navigateToHome("praises")}),c(20,"Praises"),r()(),a(21,"li"),u(22,"hr",12),r(),a(23,"li")(24,"a",11),h("click",function(){return s.navigateToHome("requests")}),c(25,"Requests"),r()(),a(26,"li"),u(27,"hr",12),r(),a(28,"li")(29,"a",11),h("click",function(){return s.navigateToHome("meetings")}),c(30,"Meetings"),r()()(),u(31,"input",13),r()(),a(32,"button",14),u(33,"span",15),r(),a(34,"div",16)(35,"ul",17)(36,"li",18)(37,"a",19),u(38,"img",20),a(39,"span"),c(40,"My\xA0Self"),r()(),a(41,"ul",21)(42,"li")(43,"a",22),c(44,"Profile"),r()(),a(45,"li")(46,"a",22),c(47,"Prayers"),r()(),a(48,"li")(49,"a",22),c(50,"Requests"),r()(),a(51,"li")(52,"a",23),c(53,"Meetings"),r()(),a(54,"li")(55,"a",24),h("click",function(){return s.logout()}),u(56,"i",25),c(57," Logout "),r()()()(),a(58,"li",26)(59,"a",27),u(60,"i",28),a(61,"span"),c(62,"Requests"),r()()(),a(63,"li",26)(64,"a",29),u(65,"i",30),a(66,"span"),c(67,"Meetings"),r()()(),a(68,"li",18)(69,"a",31),u(70,"i",32),a(71,"span"),c(72,"Resources"),r()(),a(73,"ul",33)(74,"li")(75,"a",34),h("click",function(){return s.navigateToHome("god")}),u(76,"i",35),a(77,"span"),c(78,"Prayers"),r()()(),a(79,"li")(80,"a",27),u(81,"i",28),a(82,"span"),c(83,"Requests"),r()()(),a(84,"li")(85,"a",29),u(86,"i",30),a(87,"span"),c(88,"Meetings"),r()()()()()()()()()()),n&2&&(l(3),m("routerLinkActiveOptions",L(11,rt)),l(49),m("routerLink",L(12,So)),l(7),m("routerLinkActiveOptions",L(13,rt))("routerLink",L(14,Pi)),l(5),m("routerLinkActiveOptions",L(15,rt))("routerLink",L(16,Ai)),l(11),m("routerLinkActiveOptions",L(17,rt)),l(5),m("routerLinkActiveOptions",L(18,rt))("routerLink",L(19,Pi)),l(5),m("routerLinkActiveOptions",L(20,rt))("routerLink",L(21,Ai)))},dependencies:[ve,Ce]});let i=o;return i})();var Ri=(()=>{let o=class o{ngOnInit(){this.currentUser=sessionStorage?.getItem("CurrentUser")}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-layout"]],standalone:!0,features:[I],decls:4,vars:0,template:function(n,s){n&1&&(u(0,"app-layout-header"),a(1,"main"),u(2,"router-outlet"),r(),u(3,"app-layout-footer"))},dependencies:[Te,Li,Vi]});let i=o;return i})();var Ye=()=>({exact:!0});function Io(i,o){if(i&1){let t=x();a(0,"li",1)(1,"a",16),h("click",function(){C(t);let n=p();return b(n.navigateToRequests("confidential"))}),u(2,"i",17),a(3,"span",7),c(4,"Confidential"),r()()()}i&2&&(l(),m("routerLinkActiveOptions",L(1,Ye)))}var Mo=()=>[2,3,24],wo=()=>["prayed"],To=()=>["settings"],qi=(()=>{let o=class o{constructor(e,n){this.router=e,this.authService=n,this.iContact=this.authService.getCurrentUser()}ngOnInit(){}navigateToRequests(e){this.router.navigate(["prayers/letuspray","god"]),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>this.router.navigate(["/requests",e]))}};o.\u0275fac=function(n){return new(n||o)(g(U),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-requests-siderbar"]],standalone:!0,features:[I],decls:34,vars:18,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["href","javascript:;","routerLinkActive","active","routerLink","/prayers/letuspray/god",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/prayers",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-hand","px-2"],[1,"d-none","d-sm-inline","me-2"],["class","nav-item",4,"ngIf"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink","click"],[1,"fa-solid","fa-check-circle","fa-lg","px-2"],[1,"fa-solid","fa-lg","fa-file-lines","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/community/meetings",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-users","px-2"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-gears","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/confidential",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","click"],[1,"fa-solid","fa-lg","fa-lock","px-2"]],template:function(n,s){n&1&&(a(0,"ul",0)(1,"li",1)(2,"a",2),u(3,"i",3),a(4,"span",4),c(5,"Home"),r()()(),a(6,"li",1)(7,"a",5),h("click",function(){return s.navigateToRequests("prayers")}),u(8,"i",6),a(9,"span",7),c(10,"Requests"),r()()(),f(11,Io,5,2,"li",8),a(12,"li",1)(13,"a",9),h("click",function(){return s.navigateToRequests("prayed")}),u(14,"i",10),a(15,"span",7),c(16,"Prayed"),r()()(),a(17,"li",1)(18,"a",2),u(19,"i",11),a(20,"span",4),c(21,"Request"),r()()(),a(22,"li",1)(23,"a",12),u(24,"i",13),a(25,"span",4),c(26,"Meetings"),r()()(),a(27,"li"),u(28,"hr"),r(),a(29,"li",1)(30,"a",14),u(31,"i",15),a(32,"span",4),c(33,"Settings"),r()()()()),n&2&&(l(2),m("routerLinkActiveOptions",L(9,Ye)),l(5),m("routerLinkActiveOptions",L(10,Ye)),l(4),m("ngIf",s.authService.hasAnyRoleByIds(L(11,Mo))),l(2),m("routerLinkActiveOptions",L(12,Ye))("routerLink",L(13,wo)),l(5),m("routerLinkActiveOptions",L(14,Ye)),l(5),m("routerLinkActiveOptions",L(15,Ye)),l(7),m("routerLinkActiveOptions",L(16,Ye))("routerLink",L(17,To)))},dependencies:[ve,Ce,E,P]});let i=o;return i})();var Qi=(()=>{let o=class o{constructor(){this.hello="Welcome to Prayer Request Pages",this.showHideRequestSidebarMenu=!0}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-requests"]],inputs:{showHideRequestSidebarMenu:"showHideRequestSidebarMenu"},standalone:!0,features:[I],decls:12,vars:0,consts:[[1,"container","mt-6"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-2","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4,"Let us pray for each other."),r()()()(),a(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-requests-siderbar"),r()(),a(10,"div",8),u(11,"router-outlet"),r()()())},dependencies:[E,Te,qi]});let i=o;return i})();var Nt=()=>({exact:!0}),ko=()=>["mymeetings"],Oi=(()=>{let o=class o{constructor(e,n){this.router=e,this.authService=n,this.iContact=this.authService.getCurrentUser()}ngOnInit(){}navigateToHome(){this.router.navigateByUrl("/requests",{skipLocationChange:!0}).then(()=>this.router.navigate(["/prayers/letuspray","god"]))}goToMyMeetings(){this.router.navigate(["/community/mymeetings"],{queryParams:{tab:"meetings"}})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-meetings-siderbar"]],inputs:{sidebarMenuItems:"sidebarMenuItems"},standalone:!0,features:[I],decls:23,vars:10,consts:[[1,"nav","nav-pills","flex-sm-column","flex-row","mb-auto","justify-content-between","text-truncate"],[1,"nav-item"],["href","javascript:;","routerLinkActive","active","routerLink","/prayers/letuspray/god",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-house-chimney","px-2"],[1,"d-none","d-sm-inline"],["href","javascript:;","routerLinkActive","active","routerLink","/community/meetings",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-users","px-2"],["href","javascript:;","routerLinkActive","active","routerLink","/requests/prayers",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-lg","fa-comment","me-2"],["href","javascript:;","routerLinkActive","active",1,"nav-link","px-2","text-truncate",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-user-gear","px-2"]],template:function(n,s){n&1&&(a(0,"ul",0)(1,"li",1)(2,"a",2),u(3,"i",3),a(4,"span",4),c(5,"Home"),r()()(),a(6,"li",1)(7,"a",5),u(8,"i",6),a(9,"span",4),c(10,"Meetings"),r()()(),a(11,"li",1)(12,"a",7),u(13,"i",8),a(14,"span",4),c(15,"Requests"),r()()(),a(16,"li"),u(17,"hr"),r(),a(18,"li",1)(19,"a",9),u(20,"i",10),a(21,"span",4),c(22,"My\xA0Meetings"),r()()()()),n&2&&(l(2),m("routerLinkActiveOptions",L(5,Nt)),l(5),m("routerLinkActiveOptions",L(6,Nt)),l(5),m("routerLinkActiveOptions",L(7,Nt)),l(7),m("routerLinkActiveOptions",L(8,Nt))("routerLink",L(9,ko)))},dependencies:[E,ve,Ce]});let i=o;return i})();var ji=(()=>{let o=class o{constructor(e,n){this.router=e,this.meetingService=n}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)(g(U),g(le))},o.\u0275cmp=S({type:o,selectors:[["app-meetings"]],standalone:!0,features:[I],decls:12,vars:0,consts:[[1,"container","mt-5"],[1,"row","mt-3"],[1,"col","text-center"],[1,"fs-5"],[1,"container","pb-3","mt-3","flex-grow-1","d-flex","flex-column","flex-sm-row","overflow-auto"],[1,"row","flex-grow-sm-1","flex-grow-0"],[1,"col-sm-3","text-dark","flex-grow-sm-1","flex-shrink-1","flex-grow-0","pb-sm-0","pb-3"],[1,"border","rounded-3","p-1"],[1,"col","overflow-auto","h-100"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),c(4," Browse meet-n-pray"),r()()()(),a(5,"div",4)(6,"div",5)(7,"aside",6)(8,"div",7),u(9,"app-meetings-siderbar"),r()(),a(10,"div",8),u(11,"router-outlet"),r()()())},dependencies:[E,Te,Oi]});let i=o;return i})();var Ge=(i,o)=>{let t=$t(D),e=$t(U);return t.isAuthenticated?!0:e.createUrlTree(["/home"])};var Ui=(()=>{let o=class o{constructor(){this.currentYear=new Date().getFullYear()}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-main-footer"]],standalone:!0,features:[I],decls:5,vars:1,consts:[[1,"bg-light","text-center","text-lg-start"],[1,"text-center","p-3"],["href","",1,"text-dark"]],template:function(n,s){n&1&&(a(0,"footer",0)(1,"div",1),c(2),a(3,"a",2),c(4,"Meet-N-Pray"),r()()()),n&2&&(l(2),y(" \xA9 ",s.currentYear," Copyright: "))}});let i=o;return i})();var Eo=["loginModal"];function Fo(i,o){if(i&1&&(a(0,"ul",35),u(1,"li",36),r()),i&2){let t=p(2);l(),m("innerHtml",t.loginFormErrorMessage("Email",t.loginForm.controls.Email.errors),F)}}function Do(i,o){if(i&1&&(a(0,"div"),u(1,"input",34),f(2,Fo,2,1,"ul",25),r()),i&2){let t=p();l(2),m("ngIf",(t.loginForm.controls.Email==null?null:t.loginForm.controls.Email.invalid)&&((t.loginForm.controls.Email==null?null:t.loginForm.controls.Email.dirty)||(t.loginForm.controls.Email==null?null:t.loginForm.controls.Email.touched)))}}function No(i,o){if(i&1&&(a(0,"option",45),c(1),r()),i&2){let t=o.$implicit;m("value",t.dialCode),l(),y("",t.country," ")}}function Lo(i,o){if(i&1&&(a(0,"select",42)(1,"option",43),c(2,"Select Country Code"),r(),f(3,No,2,2,"option",44),r()),i&2){let t=p(2);l(3),m("ngForOf",t.countryDialCodes)}}function Po(i,o){if(i&1&&(a(0,"ul",35),u(1,"li",36),r()),i&2){let t=p(2);l(),m("innerHtml",t.loginFormErrorMessage("Phone",t.loginForm.controls.Phone.errors),F)}}function Ao(i,o){if(i&1&&(a(0,"div")(1,"div",37)(2,"div",38),f(3,Lo,4,1,"select",39),r(),a(4,"div",40),u(5,"input",41),f(6,Po,2,1,"ul",25),r()()()),i&2){let t=p();l(3),m("ngIf",t.countryDialCodes==null?null:t.countryDialCodes.length),l(3),m("ngIf",(t.loginForm.controls.Phone==null?null:t.loginForm.controls.Phone.invalid)&&((t.loginForm.controls.Phone==null?null:t.loginForm.controls.Phone.dirty)||(t.loginForm.controls.Phone==null?null:t.loginForm.controls.Phone.touched)))}}function Vo(i,o){if(i&1&&(a(0,"ul",35),u(1,"li",36),r()),i&2){let t=p();l(),m("innerHtml",t.loginFormErrorMessage("Password",t.loginForm.controls.Password.errors),F)}}var Lt=()=>({exact:!0}),Hi=(()=>{let o=class o{constructor(e,n,s,d,_,w){this.userService=e,this.countryService=n,this.helperService=s,this.authService=d,this.router=_,this.formBuilder=w,this.usePhone=!1,this.iContact="",this.iUser={UserId:0,AffiliationLookupId:0,UserTypeLookupId:0,ClientId:1,FirstName:"",LastName:"",Email:"",Phone:"",Profile:"",Country:"",Password:"",ConfirmPassword:"",LoginToken:"",LastLoggedIn:new Date,LockedOn:new Date,RenewPassword:"",ResetPassword:new Date,Active:!1,IsBlocked:!1,CreatedDate:new Date,ModifiedDate:new Date,countryDialCode:[]},this.countryDialCodes=[]}ngOnInit(){return k(this,null,function*(){this.buildLoginForm(),yield this.loadCountryDialCodes()})}loadCountryDialCodes(){return k(this,null,function*(){yield this.countryService.getCountryDialCodes().pipe(T(e=>(this.countryDialCodes=e,V(this.countryDialCodes)))).subscribe({next:e=>{console.log("Retrieved Countries dial code"),this.countryDialCodes=e},error:e=>{console.error("Error retrieving countries dial codes")},complete:()=>{console.log("Complete retrieving countries dial codes.")}})})}buildLoginForm(){let e="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$";this.loginForm=this.formBuilder.group({Email:[this.iUser.Email,[v.maxLength(100),v.minLength(5),v.email,v.pattern(e)]],Password:[this.iUser.Password,[v.required,v.maxLength(30),v.minLength(8)]],Phone:[this.iUser.Phone,[v.maxLength(30),v.minLength(8)]],countryDialCode:[""],StaySignedIn:[null]})}loginFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}toggleLoginMethod(){this.usePhone=!this.usePhone;let e=this.loginForm.get("Email"),n=this.loginForm.get("Phone");this.usePhone?(n?.setValidators([v.required,v.minLength(8)]),e?.clearValidators()):(e?.setValidators([v.required,v.email]),n?.clearValidators()),e?.updateValueAndValidity(),n?.updateValueAndValidity()}submitLogin(){return k(this,null,function*(){if(this.message="",!this.loginForm.valid)return this.loginForm.markAllAsTouched();let e=this.loginForm.value,n=this.usePhone?{phone:`${e.countryDialCode}${e.Phone}`,password:`${e.Password}`,userName:""}:{userName:`${e.Email}`,password:`${e.Password}`,phone:""};this.authService.login(n).subscribe({next:s=>{console.log("Successfully logged in"),this.closeModal()},error:s=>{this.message=s.error.Message},complete:()=>{this.router.navigate(["prayers/letuspray","god"])}})})}closeModal(){let e=document.getElementById("loginModal");(bootstrap.Modal.getInstance(e)||new bootstrap.Modal(e)).hide()}};o.\u0275fac=function(n){return new(n||o)(g(Et),g(Ft),g(H),g(D),g(U),g(Ve))},o.\u0275cmp=S({type:o,selectors:[["app-main-header"]],viewQuery:function(n,s){if(n&1&&Ie(Eo,5),n&2){let d;Me(d=we())&&(s.loginModal=d.first)}},standalone:!0,features:[I],decls:50,vars:14,consts:[["aria-label","Thirteenth navbar example",1,"navbar","navbar-expand-lg","bg-info","rounded"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExample11","aria-controls","navbarsExample11","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExample11",1,"collapse","navbar-collapse","d-lg-flex"],["routerLinkActive","active","routerLink","/howtopray","href","#howtopray",1,"navbar-brand","col-lg-3","me-0",3,"routerLinkActiveOptions"],[1,"navbar-nav","col-lg-5","col-md-5","justify-content-lg-center"],[1,"nav-item"],["routerLinkActive","active","routerLink","/howtopray","href","#howtopray","aria-current","page",1,"nav-link","active",3,"routerLinkActiveOptions"],["routerLinkActive","active","routerLink","/about","href","#about",1,"nav-link",3,"routerLinkActiveOptions"],["routerLinkActive","active","routerLink","/roles","href","#role",1,"nav-link",3,"routerLinkActiveOptions"],["type","button","data-bs-toggle","modal","data-bs-target","#loginModal",1,"btn","btn-primary"],["id","loginModal","tabindex","-1","aria-labelledby","loginModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["loginModal",""],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[3,"formGroup","ngSubmit"],[1,"modal-header"],["id","loginModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3","text-end"],["type","button",1,"btn","btn-link","btn-sm",3,"click"],[4,"ngIf"],["type","password","placeholder","Password","formControlName","Password","required","",1,"form-control","my-3"],["class","text-danger list-unstyled",4,"ngIf"],[1,"form-check","mb-3"],["type","checkbox","formControlName","StaySignedIn",1,"form-check-input"],[1,"form-check-label"],[1,"mb-2"],["href","javascript:void(0);"],[1,"text-danger"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","email","placeholder","Enter email","formControlName","Email","required","",1,"form-control","mb-2"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],[1,"row","g-2"],[1,"col-4"],["class","form-select","formControlName","countryDialCode",4,"ngIf"],[1,"col-8"],["type","tel","placeholder","Phone number","formControlName","Phone","required","",1,"form-control"],["formControlName","countryDialCode",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,s){n&1&&(a(0,"header")(1,"nav",0)(2,"div",1)(3,"button",2),u(4,"span",3),r(),a(5,"div",4)(6,"a",5),c(7,"Meet-N-Pray"),r(),a(8,"ul",6)(9,"li",7)(10,"a",8),c(11,"How to Pray"),r()(),a(12,"li",7)(13,"a",9),c(14,"About"),r()(),a(15,"li",7)(16,"a",10),c(17,"Roles"),r()()()(),a(18,"button",11),c(19," Login"),r()()()(),a(20,"div",12,13)(22,"div",14)(23,"div",15)(24,"form",16),h("ngSubmit",function(){return s.submitLogin()}),a(25,"div",17)(26,"h5",18),c(27,"Login"),r(),u(28,"button",19),r(),a(29,"div",20)(30,"div",21)(31,"button",22),h("click",function(){return s.toggleLoginMethod()}),c(32),r()(),f(33,Do,3,1,"div",23)(34,Ao,7,2,"div",23),u(35,"input",24),f(36,Vo,2,1,"ul",25),a(37,"div",26),u(38,"input",27),a(39,"label",28),c(40,"Stay Signed In"),r()(),a(41,"div",29)(42,"a",30),c(43,"Forgot Password?"),r()(),a(44,"div",31)(45,"small"),c(46),r()()(),a(47,"div",32)(48,"button",33),c(49,"Login"),r()()()()()()),n&2&&(l(6),m("routerLinkActiveOptions",L(10,Lt)),l(4),m("routerLinkActiveOptions",L(11,Lt)),l(3),m("routerLinkActiveOptions",L(12,Lt)),l(3),m("routerLinkActiveOptions",L(13,Lt)),l(8),m("formGroup",s.loginForm),l(8),y(" Login with ",s.usePhone?"Email":"Phone"," "),l(),m("ngIf",!s.usePhone),l(),m("ngIf",s.usePhone),l(2),m("ngIf",(s.loginForm.controls.Password==null?null:s.loginForm.controls.Password.invalid)&&((s.loginForm.controls.Password==null?null:s.loginForm.controls.Password.dirty)||(s.loginForm.controls.Password==null?null:s.loginForm.controls.Password.touched))),l(10),M(s.message))},dependencies:[ve,Ce,B,ne,Ee,Fe,ee,be,ke,te,ie,yi,oe,re,E,j,P]});let i=o;return i})();var $i=(()=>{let o=class o{ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-main-layout"]],standalone:!0,features:[I],decls:4,vars:0,template:function(n,s){n&1&&(u(0,"app-main-header"),a(1,"main"),u(2,"router-outlet"),r(),u(3,"app-main-footer"))},dependencies:[Te,Ui,Hi]});let i=o;return i})();var Bi=(()=>{let o=class o{constructor(){this.hello="Welcome to Prayers Settings Page!"}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-prayer-settings"]],standalone:!0,features:[I],decls:2,vars:1,template:function(n,s){n&1&&(a(0,"h1"),c(1),r()),n&2&&(l(),M(s.hello))}});let i=o;return i})();var Pt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getNote(e){return this.httpClient.get(this.api+"/notes/"+e)}getNotes(e,n,s,d){let _={affiliationLookupId:e,pageNumber:n,pageSize:s,ascDesc:d};return this.httpClient.post(this.api+"/notes/all",_)}getRequestNotes(e,n){let s={affiliationLookupId:n,requestId:e};return this.httpClient.post(this.api+"/notes/request",s)}getMeetingNotes(e,n){let s={affiliationLookupId:n,meetingId:e};return this.httpClient.post(this.api+"/notes/meeting",s)}savetNote(e){return this.httpClient.post(this.api+"/notes",e)}updateNote(e){return this.httpClient.put(this.api+"/notes",e)}deleteNote(e){return this.httpClient.delete(this.api+"/notes/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function Qo(i,o){if(i&1){let t=x();a(0,"div",12)(1,"span",13),h("click",function(){C(t);let n=p();return b(n.filterRequest(1))}),c(2,"Ascending"),r()(),a(3,"div",12)(4,"span",13),h("click",function(){C(t);let n=p();return b(n.filterRequest(0))}),c(5," Descending"),r()()}}function Oo(i,o){if(i&1&&(a(0,"div")(1,"strong"),c(2),r(),c(3,"\xA0\xA0"),a(4,"strong"),c(5),r()()),i&2){let t=o.$implicit;l(2),M(t.FirstName),l(3),M(t.LastName)}}function jo(i,o){i&1&&(a(0,"div")(1,"span",34),c(2,"Prayed"),r()())}function Uo(i,o){if(i&1&&(a(0,"span",34),c(1),r()),i&2){let t=o.$implicit;l(),y("",t.Prayed,"\xA0Prayed")}}function Ho(i,o){if(i&1&&(a(0,"div"),f(1,Uo,2,1,"span",35),r()),i&2){let t=p().$implicit;l(),m("ngForOf",t.RequestStatus)}}function $o(i,o){i&1&&(a(0,"span"),u(1,"i",36),r())}function Bo(i,o){if(i&1){let t=x();a(0,"tbody")(1,"tr")(2,"div",17)(3,"div",18)(4,"div",19),u(5,"img",20),r()(),a(6,"div",21)(7,"div",0)(8,"div",17),f(9,Oo,6,2,"div",16),a(10,"div",22),c(11),r(),a(12,"div",23),c(13),r()(),a(14,"div",17)(15,"div",2)(16,"div",12)(17,"small",24),c(18),de(19,"date"),r()()(),a(20,"div",2),u(21,"hr",25),a(22,"div",17)(23,"div",26),f(24,jo,3,0,"div",9)(25,Ho,2,1,"div",9),r(),a(26,"div",21)(27,"div",12)(28,"div",27)(29,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.requestStatus(s.RequestId,"prayed"))}),a(30,"span"),u(31,"i",29),r()(),a(32,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2),_=he(14);return b(d.composeNote(s,_))}),a(33,"span"),u(34,"i",30),r()(),a(35,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.requestStatus(s,"prayed"))}),a(36,"span"),u(37,"i",31),r()(),a(38,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.requestReactions(s.RequestId,"info"))}),a(39,"span"),u(40,"i",32),r()(),a(41,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.requestReactions(s.RequestId,"shared"))}),f(42,$o,2,0,"span",9),r(),a(43,"a",28),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.requestReactions(s.RequestId,"inappropriate"))}),a(44,"span"),u(45,"i",33),r()()()()()()()()()()()()()}if(i&2){let t=o.$implicit;l(9),m("ngForOf",t.Contact),l(2),M(t.Purpose),l(2),y(" ",t.Request," "),l(5),X(" #",t.Tags.split("|").join("\xA0,#"),"\xA0|\xA0Posted:\xA0",_e(19,8,t.CreatedDate,"MMM d, y"),""),l(6),m("ngIf",!t.RequestStatus),l(),m("ngIf",t.RequestStatus),l(17),m("ngIf",t.AcceptSharing)}}function zo(i,o){if(i&1&&(a(0,"div",14)(1,"table",15),f(2,Bo,46,11,"tbody",16),r()()),i&2){let t=p();l(2),m("ngForOf",t.prayerRequests)}}function Wo(i,o){i&1&&(a(0,"div"),c(1,"Loading..."),r())}function Yo(i,o){i&1&&(a(0,"div",17)(1,"div",37)(2,"p"),c(3,"There is no data shared."),r()()())}var Go=i=>({"is-invalid":i});function Zo(i,o){if(i&1){let t=x();a(0,"form",42)(1,"div",43)(2,"div",17)(3,"div",44)(4,"textarea",45),c(5," "),r()(),u(6,"input",46)(7,"input",47)(8,"input",48),r()(),a(9,"div",49)(10,"button",50),h("click",function(){C(t);let n=p(2);return b(n.onSendNoteForm())}),c(11,"Send"),r()()()}if(i&2){let t=p(2);m("formGroup",t.noteForm),l(4),m("ngClass",Se(2,Go,t.submitted&&t.noteForm.controls.Note.errors))}}function Xo(i,o){if(i&1){let t=x();a(0,"div",38)(1,"h4",39),c(2,"Note"),r(),a(3,"button",40),h("click",function(){C(t);let n=p();return b(n.onCloseNoteModal())}),r()(),f(4,Zo,12,4,"form",41)}if(i&2){let t=p();l(4),m("ngIf",t.noteForm)}}var Wi=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O){this.router=e,this.requestService=n,this.authService=s,this.formBuilder=d,this.modal=_,this.noteService=w,this.activatedRoute=A,this.helperService=q,this.reactionService=O,this.submitted=!1,this.prayerRequests=[],this.requestType="",this.isLoading=!1,this.prayerOnCall=!1,this.sortScrollByAscDesc=0,this.serviceTypeLookupId=0,this.pageNumber=1,this.pageSize=100,this.confidential=1,this.iRequestStatus={RequestStatusId:0,UserId:0,RequestId:0,TakeRelease:0,Prayed:0,InProgress:0},this.iReaction={ReactionId:0,AffiliationLookupId:0,MeetingId:0,UserId:0,RequestId:0,ScrollId:0,Loves:0,Likes:0,Downloads:0,Listened:0,Shared:0,Star:0,Inappropriate:0,Prayed:0},this.iNote={Note:"",RequestId:0,MeetingId:0,UserId:0,RespondUserId:0,Visible:!1},this.togggleOnCallRequest=()=>this.prayerOnCall=!this.prayerOnCall,this.toggleLoading=()=>this.isLoading=!this.isLoading,this.iContact=s.getCurrentUser()}ngOnInit(){this.requestType=this.activatedRoute.snapshot.params.requesttype,this.getRequestData()}getRequestData(){return k(this,null,function*(){this.toggleLoading(),this.affiliationLookupId=0,this.serviceTypeLookupId=0,this.searchValue="All",this.requestType?.toLowerCase()==="confidential"?(this.confidential=2,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}})):this.requestType?.toLowerCase()==="prayed"?(this.confidential=0,this.requestService.getAnsweredPrayerRequests(this.iContact.UserId??0,this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Non Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}})):(this.confidential=1,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=e,this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve Non Confidential Requests")},error:e=>{console.log(e.error.Message)},complete:()=>{this.toggleLoading()}}))})}onScroll(){this.loadRequests()}loadRequests(){return k(this,null,function*(){this.toggleLoading(),this.sortScrollByAscDesc=0,this.affiliationLookupId=0,this.pageNumber++,this.searchValue="All",this.requestType?.toLowerCase()==="confidential"?(this.confidential=2,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId??0,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve prayer requests")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})):this.requestType?.toLowerCase()==="prayed"?(this.confidential=0,this.requestService.getAnsweredPrayerRequests(this.iContact.UserId??0,this.affiliationLookupId,this.serviceTypeLookupId,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieved Answer Prayers")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})):(this.confidential=1,this.requestService.getRequests(this.affiliationLookupId,this.serviceTypeLookupId??0,this.pageNumber,this.pageSize,this.confidential,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.prayerRequests=[...this.prayerRequests,...e],this.prayerRequests))).subscribe({next:e=>{console.log("Retrieve non confidental prayer requests ")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}}))})}filterRequest(e){this.sortScrollByAscDesc=e,this.getRequestData()}requestReactions(e,n){return k(this,null,function*(){if(typeof this.iContact?.UserId<"u"||Number.isNaN(this.iContact?.UserId)){let s={AffiliationLookupId:this.iContact.AffiliationLookupId,UserId:this.iContact.UserId??0,RequestId:e,ScrollId:0,ReactionId:0,MeetingId:0,Likes:n=="liked"?1:0,Loves:n=="loved"?1:0,Shared:n=="shared"?1:0,Downloads:n=="downloaded"?1:0,Inappropriate:n=="inappropriate"?1:0,Listened:n=="listened"?1:0,Star:n=="favorite"?1:0,Prayed:n=="prayed"?1:0};this.reactionService.SaveReaction(s).pipe(T(d=>(this.iReaction=d,V(this.iReaction)))).subscribe({next:d=>{console.log("Save request reactions")},error:d=>{this.errors=d.error.Message,console.log(this.errors)},complete:()=>{this.loadRequests()}})}})}requestStatus(e,n){return k(this,null,function*(){if(typeof this.iContact?.UserId<"u"||Number.isNaN(this.iContact?.UserId)){let s=this.iRequestStatus;s.RequestId=e,s.UserId=this.iContact.UserId??0,s.Prayed=n=="prayed"?1:0,s.InProgress=n=="progress"?1:0,s.TakeRelease=1,this.requestService.saveRequestStatus(s).pipe(T(d=>(this.iRequestStatus=d,V(this.iRequestStatus)))).subscribe({next:d=>{console.log("Save request status")},error:d=>{this.errors=d.error.Message},complete:()=>{this.loadRequests()}})}})}composeNote(e,n){return k(this,null,function*(){if(this.submitted=!1,e){let s={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,s),this.iNote.RequestId=e.RequestId,this.iNote.UserId=e.UserId,this.buildNoteForm()}})}buildNoteForm(){this.noteForm=this.formBuilder.group({Note:[this.iNote.Note,[v.required,v.maxLength(300),v.minLength(2)]],RequestId:[this.iNote.RequestId],UserId:[this.iNote.UserId],NoteId:[this.iNote.NoteId]})}noteFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}onSendNoteForm(){return k(this,null,function*(){if(this.submitted=!1,this.noteForm.invalid)return this.submitted=!0,this.noteForm.markAsUntouched();let e={NoteId:this.noteForm.get("NoteId")?.value,Note:this.noteForm.get("Note")?.value,RequestId:this.noteForm.get("RequestId")?.value,MeetingId:0,UserId:this.noteForm.get("UserId")?.value,RespondUserId:this.iContact.UserId,Visible:!0};Number(e.NoteId)===0&&e.Note&&this.noteService.savetNote(e).pipe(T(n=>(this.iNote=n,V(this.iNote)))).subscribe({next:n=>{console.log("Sending request note")},error:n=>{this.errors=n.error.Message},complete:()=>{console.log("Message: Note is send")}}),e.NoteId&&this.noteService.updateNote(e).pipe(T(n=>(this.iNote=n,V(this.iNote)))).subscribe({next:n=>{console.log("Updating request note")},error:n=>{this.errors=n.error.Message},complete:()=>{console.log("Message: Note is updated")}}),this.modal.dismissAll()})}onCloseNoteModal(){this.modal.dismissAll()}};o.\u0275fac=function(n){return new(n||o)(g(U),g(Si),g(D),g(De),g(W),g(Pt),g(se),g(H),g(kt))},o.\u0275cmp=S({type:o,selectors:[["app-prayer-requests"]],standalone:!0,features:[I],decls:15,vars:6,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-12"],[1,"me-3"],["href","javascript:0;","placement","bottom",1,"text-decoration-none","float-end",3,"ngbPopover"],[1,"fa-solid","fa-filter","fa-lg"],["popFilterContent",""],["infiniteScroll","",1,"row","search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],["noteModal",""],[1,"mb-2"],[3,"click"],[1,"table-responsive"],[1,"table","border","border-1","table-bordered","overflow-hidden"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-2","align-self-center"],[1,"text-center"],["src","...","alt","...",1,"img-fluid","rounded-start"],[1,"col"],[1,"fs-5","fst-italic","fw-light"],[1,"card-text"],[1,"float-end","fs-7","fst-italic"],[1,"mt-1","mb-1"],[1,"col-2"],[1,"d-grid","gap-2","d-flex","d-md-flex","d-sm-flex","justify-content-md-end","justify-content-sm-end","justify-content-end"],["href","javascript:0;",1,"text-decoration-none",3,"click"],[1,"fa-solid","fa-person-praying","fa-lg"],[1,"fa-solid","fa-note-sticky","fa-lg"],[1,"fa-solid","fa-phone-flip","fa-lg"],[1,"fa-solid","fa-circle-info","fa-lg"],[1,"fa-solid","fa-ban","fa-lg"],[1,"fs-6","fw-light","fst-italic"],["class","fs-6 fw-light fst-italic",4,"ngFor","ngForOf"],[1,"fa-solid","fa-share","fa-lg"],[1,"mb-3"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Note","rows","8","placeholder","Enter Note",1,"form-control",3,"ngClass"],["type","hidden","name","RequestId","formControlName","RequestId"],["type","hidden","name","UserId","formControlName","UserId"],["type","hidden","name","NoteId","formControlName","NoteId"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"]],template:function(n,s){if(n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),c(6,"Filter"),r(),f(7,Qo,6,0,"ng-template",null,6,J),r()()(),a(9,"div",7),h("scrolled",function(){return s.onScroll()}),f(10,zo,3,1,"div",8),r(),f(11,Wo,2,0,"div",9)(12,Yo,4,0,"div",10)(13,Xo,5,1,"ng-template",null,11,J),r()),n&2){let d=he(8);l(4),m("ngbPopover",d),l(5),m("infiniteScrollDistance",1)("infiniteScrollThrottle",500),l(),m("ngIf",s.prayerRequests.length),l(),m("ngIf",s.isLoading),l(),m("ngIf",!s.prayerRequests.length)}},dependencies:[E,He,j,P,Ae,Mt,Tt,wt,B,ne,ee,te,ie,oe,re]});let i=o;return i})();var qe=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getParticipant(e){return this.httpClient.get(this.api+"/participants/"+e)}SaveParticipant(e){let n={AffiliationLookupId:e.AffiliationLookupId,UserId:e.UserId,MeetingId:e.MeetingId,RequestId:e.RequestId,RoomId:e.RoomId,Invited:e.Invited,Accepted:e.Accepted,Declined:e.Declined,Attended:e.Attended,Revoked:e.Revoked,Login:e.Login,Passcode:e.Passcode,CreatedDate:e.CreatedDate,ModifiedDate:e.ModifiedDate};return this.httpClient.post(this.api+"/participants",n)}updateParticipant(e){return this.httpClient.put(this.api+"/participants",e)}deleteParticipant(e){return this.httpClient.delete(this.api+"/participants/"+e)}getMeetingParticipants(e,n,s,d,_){let w={meetingId:e,affiliationLookupId:n,pageNumber:s,pageSize:d,date:_??"All"};return this.httpClient.post(this.api+"/participants/meeting",w)}getRequestParticipants(e,n,s,d,_){let w={requestId:e,affiliationLookupId:n,pageNumber:s,pageSize:d,date:_??"All"};return this.httpClient.post(this.api+"/participants/request",w)}getRoomParticipants(e,n,s,d,_){let w={roomId:e,affiliationLookupId:n,pageNumber:s,pageSize:d,date:_??"All"};return this.httpClient.post(this.api+"/participants/room",w)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function Jo(i,o){if(i&1){let t=x();a(0,"div",13)(1,"span",14),h("click",function(){C(t);let n=p();return b(n.filterRequest(1))}),c(2,"Ascending"),r()(),a(3,"div",13)(4,"span",14),h("click",function(){C(t);let n=p();return b(n.filterRequest(0))}),c(5," Descending"),r()()}}function Ko(i,o){if(i&1&&(a(0,"div",27)(1,"strong"),c(2),r(),c(3,"\xA0\xA0"),a(4,"strong"),c(5),r()()),i&2){let t=o.$implicit;l(2),M(t.FirstName),l(3),M(t.LastName)}}function er(i,o){i&1&&(a(0,"div"),u(1,"span",40),r())}function tr(i,o){if(i&1&&(a(0,"span",40),c(1),r()),i&2){let t=o.$implicit;l(),y("",t.Prayed,"\xA0Participants")}}function ir(i,o){if(i&1&&(a(0,"div"),f(1,tr,2,1,"span",41),r()),i&2){let t=p().$implicit;l(),m("ngForOf",t.RequestStatus)}}function nr(i,o){i&1&&(a(0,"span"),u(1,"i",42),r())}function or(i,o){if(i&1){let t=x();a(0,"tbody")(1,"tr")(2,"div",18)(3,"div",19)(4,"div",20),u(5,"img",21),r()(),a(6,"div",22)(7,"div",0)(8,"div",18)(9,"div",23)(10,"strong"),c(11),r()(),f(12,Ko,6,2,"div",24),a(13,"div",25),c(14),r(),a(15,"dl",26)(16,"dt")(17,"div",27),u(18,"i",28),c(19),de(20,"date"),de(21,"date"),r()(),a(22,"dt")(23,"div",27),u(24,"i",29),c(25),r()(),a(26,"dt")(27,"div",27),u(28,"i",30),c(29),r()()()(),a(30,"div",18)(31,"div",2)(32,"div",13)(33,"small",31),c(34),r()()(),a(35,"div",2),u(36,"hr",32),a(37,"div",18)(38,"div",33),f(39,er,2,0,"div",9)(40,ir,2,1,"div",9),r(),a(41,"div",22)(42,"div",13)(43,"div",34)(44,"a",35),h("click",function(){let s=C(t).$implicit,d=p(2),_=he(16);return b(d.openConfirmParticipantModal(s,_))}),a(45,"span"),u(46,"i",36),r()(),a(47,"a",35),h("click",function(){let s=C(t).$implicit,d=p(2),_=he(14);return b(d.composeNote(s,_))}),a(48,"span"),u(49,"i",37),r()(),a(50,"a",35),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.moreInformation(s))}),a(51,"span"),u(52,"i",38),r()(),a(53,"a",35),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.reactions(s,"shared"))}),f(54,nr,2,0,"span",9),r(),a(55,"a",35),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.reactions(s,"inappropriate"))}),a(56,"span"),u(57,"i",39),r()()()()()()()()()()()()()}if(i&2){let t=o.$implicit;l(11),M(t.Title),l(),m("ngForOf",t.Contact),l(2),y(" ",t.Story," "),l(5),X("\xA0",_e(20,15,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(21,18,t.EndDate,"MMM d, y"),""),l(6),nt("\xA0",t.StartTime,"\xA0-\xA0",t.EndTime,"\xA0\xA0",t.TimeZone," "),l(4),nt("\xA0",t.Street1,",\xA0",t.City,",\xA0",t.Country," "),l(5),y(" ",t.Tags.split("|").join("\xA0,"),""),l(5),m("ngIf",!t.RequestStatus),l(),m("ngIf",t.RequestStatus),l(14),m("ngIf",t.AcceptSharing)}}function rr(i,o){if(i&1&&(a(0,"div",15)(1,"table",16),f(2,or,58,21,"tbody",17),r()()),i&2){let t=p();l(2),m("ngForOf",t.meetnPray)}}function ar(i,o){i&1&&(a(0,"div"),c(1,"Loading..."),r())}function sr(i,o){i&1&&(a(0,"div",18)(1,"div",43)(2,"p"),c(3,"There is no data shared."),r()()())}var lr=i=>({"is-invalid":i});function cr(i,o){if(i&1){let t=x();a(0,"form",48)(1,"div",49)(2,"div",18)(3,"div",50)(4,"textarea",51),c(5," "),r()(),u(6,"input",52)(7,"input",53)(8,"input",54),r()(),a(9,"div",55)(10,"button",56),h("click",function(){C(t);let n=p().$implicit,s=p();return b(s.onSaveNote(n))}),c(11,"Send"),r()()()}if(i&2){let t=p(2);m("formGroup",t.noteForm),l(4),m("ngClass",Se(2,lr,t.submitted&&t.noteForm.controls.Note.errors))}}function mr(i,o){if(i&1){let t=x();a(0,"div",44)(1,"h4",45),c(2,"Note"),r(),a(3,"button",46),h("click",function(){let s=C(t).$implicit,d=p();return b(d.onCloseNoteModal(s))}),r()(),f(4,cr,12,4,"form",47)}if(i&2){let t=p();l(4),m("ngIf",t.noteForm)}}function dr(i,o){if(i&1){let t=x();a(0,"form",57)(1,"div",49)(2,"div",18)(3,"div",50)(4,"div",23),c(5,"Are you sure you want to join the "),a(6,"strong"),c(7),r(),c(8," Meet-N-Pray?"),r()()()(),a(9,"div",55)(10,"button",58),h("click",function(){let s=C(t).$implicit,d=p();return b(d.onCloseParticipantConfirm(s))}),c(11,"No"),r(),a(12,"button",56),h("click",function(){let s=C(t).$implicit,d=p();return b(d.onParticipantConfirm(s))}),c(13,"Yes"),r()()()}if(i&2){let t=p();l(7),y(" ",t.confirmParticipant,"")}}var Yi=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O){this.router=e,this.meetingService=n,this.reactionService=s,this.modal=d,this.noteService=_,this.participantService=w,this.authService=A,this.helperService=q,this.formBuilder=O,this.submitted=!1,this.meetnPray=[],this.iReaction={ReactionId:0,AffiliationLookupId:0,MeetingId:0,UserId:0,RequestId:0,ScrollId:0,Loves:0,Likes:0,Downloads:0,Listened:0,Shared:0,Star:0,Inappropriate:0,Prayed:0},this.iMeeting={MeetingId:0,AffiliationLookupId:0,UserId:0,Title:"",Story:"",Location:{Street1:"",Street2:"",City:"",StateProvince:"",Country:"",Zipcode:""},Tags:"",StartTime:"",EndTime:"",StartDate:"",EndDate:"",Banner:"",Confidential:{IsPublic:!0,IsOnline:!1,Hybrid:!1,InPerson:!1},Recurrence:{Recurring:"",RecurringEndDate:""},Reminders:{Days:"",Hours:""},Restriction:"",TimeZone:"",Inappropriate:!1,CreatedDate:"",ModifiedDate:""},this.isLoading=!1,this.prayerOnCall=!1,this.sortScrollByAscDesc=0,this.serviceTypeLookupId=0,this.confidential=2,this.confirmParticipant="",this.toggleLoading=()=>this.isLoading=!this.isLoading,this.iParticipant={ParticipantId:0,AffiliationLookupId:0,UserId:0,MeetingId:0,RequestId:0,RoomId:0,Invited:!1,Accepted:!1,Declined:!1,Attended:!1,Revoked:!1,Login:"",Passcode:"",CreatedDate:null,ModifiedDate:null},this.iNote={Note:"",RequestId:0,MeetingId:0,UserId:0,RespondUserId:0,Visible:!1},this.iContact=this.authService.getCurrentUser()}ngOnInit(){this.getMeetnPray()}getMeetnPray(){return k(this,null,function*(){this.toggleLoading(),this.affiliationLookupId=0,this.pageNumber=1,this.pageSize=2,this.searchValue="All",yield this.getMeetnPrayData(this.affiliationLookupId,this.pageNumber,this.pageSize,this.sortScrollByAscDesc,this.searchValue)})}getMeetnPrayData(e,n,s,d,_){this.meetingService.getMeetings(e,n,s,d,_).pipe(T(w=>(this.meetnPray=w,this.meetnPray))).subscribe({next:w=>{console.log("Retrieved meeting")},error:w=>{console.log(w)},complete:()=>{this.toggleLoading()}})}onScroll(){this.loadMeetnPray()}loadMeetnPray(){this.toggleLoading(),this.affiliationLookupId=0,this.pageNumber++,this.pageSize=2,this.searchValue="All",this.meetingService.getMeetings(this.affiliationLookupId,this.pageNumber,this.pageSize,this.sortScrollByAscDesc,this.searchValue).pipe(T(e=>(this.meetnPray=[...this.meetnPray,...e],this.meetnPray))).subscribe({next:e=>{console.log("Successfully retrieved meetings")},error:e=>{console.log(e)},complete:()=>{this.toggleLoading()}})}filterRequest(e){this.sortScrollByAscDesc=e,this.getMeetnPray()}requestStatus(e,n){}moreInformation(e){let n={queryParams:{id:e.MeetingId}};if(this.iContact.UserId)this.router.navigate(["/community/meeting"],n);else{let s="/community/meeting",d=new URLSearchParams(n.queryParams).toString(),_=`${s}?${d}`;window.open(_,"_blank")}}reactions(e,n){let s={AffiliationLookupId:this.iContact.AffiliationLookupId,UserId:this.iContact.UserId??0,RequestId:0,ScrollId:0,ReactionId:0,MeetingId:e.MeetingId,Likes:n=="liked"?1:0,Loves:n=="loved"?1:0,Shared:n=="shared"?1:0,Downloads:n=="downloaded"?1:0,Inappropriate:n=="inappropriate"?1:0,Listened:n=="listened"?1:0,Star:n=="favorite"?1:0,Prayed:n=="prayed"?1:0};this.reactionService.SaveReaction(s).pipe(T(d=>(this.iReaction=d,V(this.iReaction)))).subscribe({next:d=>{console.log("Saved Reaction")},error:d=>{this.errors=d.error.Message},complete:()=>{this.flagMeeting(e)}})}flagMeeting(e){return k(this,null,function*(){if(e){if(this.iMeeting.MeetingId=e.MeetingId,this.iMeeting.Inappropriate=!0,this.iMeeting.UserId=this.iContact.UserId??0,this.iMeeting.AffiliationLookupId=this.iContact.AffiliationLookupId,this.iMeeting.Tags=e.Tags.length>0?e.Tags.split("|"):[],this.iMeeting.Title=e.Title,this.iMeeting.Story=e.Story,this.iMeeting.StartDate=e.StartDate,this.iMeeting.EndDate=e.EndDate,this.iMeeting.StartTime=e.StartTime,this.iMeeting.EndTime=e.EndTime,this.iMeeting.Restriction=e.Restriction,this.iMeeting.TimeZone=e.TimeZone,this.iMeeting.Banner=e.Banner,this.iMeeting.Location={Street1:e.Street1,Street2:e.Street2,City:e.City,StateProvince:e.StateProvince,Country:e.Country,Zipcode:e.Zipcode},e?.Recurrence){let s=JSON.parse(e?.Recurrence);this.iMeeting.Recurrence={RecurringEndDate:s.RecurringEndDate,Recurring:s.Recurring}}if(e?.Reminders){let s=JSON.parse(e?.Reminders);this.iMeeting.Reminders={Days:s.Days,Hours:s.Hours}}if(e?.Confidential){let s=JSON.parse(e?.Confidential);this.iMeeting.Confidential={InPerson:s.InPerson,IsOnline:s.IsOnline,IsPublic:s.IsPublic,Hybrid:s.Hybrid}}}let n=yield R(this.meetingService.flagMeeting(this.iMeeting))})}composeNote(e,n){if(this.submitted=!1,e){let s={size:"lg",keyboard:!0,backdrop:"static",centered:!0};this.modal.open(n,s),this.iNote.MeetingId=e?.MeetingId,this.iNote.RequestId=e?.RequestId,this.iNote.UserId=e?.UserId,this.buildNoteForm()}}buildNoteForm(){this.noteForm=this.formBuilder.group({Note:[this.iNote?.Note,[v.required,v.maxLength(300),v.minLength(2)]],RequestId:[this.iNote?.RequestId],MeetingId:[this.iNote?.MeetingId],UserId:[this.iNote?.UserId],NoteId:[this.iNote?.NoteId]})}noteFormErrorMessage(e,n){return this.helperService.validateForm(e,n)}onSaveNote(e){return k(this,null,function*(){if(this.submitted=!1,!this.noteForm.valid)return this.submitted=!0,this.noteForm.markAsUntouched();let n={Note:this.noteForm.get("Note")?.value,MeetingId:this.noteForm.get("MeetingId")?.value,RequestId:0,UserId:this.noteForm.get("UserId")?.value,RespondUserId:this.iContact.UserId,Visible:!0};this.noteService.savetNote(n).pipe(T(s=>(this.iNote=s,V(this.iNote)))).subscribe({next:s=>{console.log("Saved Note")},error:s=>{this.errors=s.error.Message},complete:()=>{this.loadMeetnPray()}}),this.onCloseNoteModal(e)})}onCloseNoteModal(e){e.close()}openConfirmParticipantModal(e,n){if(e){let s={size:"lg",backdrop:"static",keyboard:!0,centered:!0};this.modal.open(n,s).result.then(d=>{d==="confirmed"&&this.saveParticipant(e)}),this.confirmParticipant=e.Title}}saveParticipant(e){return k(this,null,function*(){let n={AffiliationLookupId:this.iContact?.AffiliationLookupId,UserId:this.iContact?.UserId??0,MeetingId:e.MeetingId,RequestId:0,RoomId:0,Invited:!0,Accepted:!0,Declined:!1,Attended:!0,Revoked:!1,Login:"",Passcode:"",CreatedDate:null,ModifiedDate:null};this.participantService.SaveParticipant(n).pipe(T(s=>(this.iParticipant=s,V(this.iParticipant)))).subscribe({next:s=>{console.log("Successfully saved Participant")},error:s=>{this.errors=s.error.Message},complete:()=>{this.moreInformation(e)}})})}onParticipantConfirm(e){return k(this,null,function*(){e.close("confirmed")})}onCloseParticipantConfirm(e){e.close()}};o.\u0275fac=function(n){return new(n||o)(g(U),g(le),g(kt),g(W),g(Pt),g(qe),g(D),g(H),g(De))},o.\u0275cmp=S({type:o,selectors:[["app-meetnpray"]],standalone:!0,features:[I],decls:17,vars:6,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-12"],[1,"me-3"],["href","javascript:0;","placement","bottom",1,"text-decoration-none","float-end",3,"ngbPopover"],[1,"fa-solid","fa-filter","fa-lg"],["popFilterContent",""],["infiniteScroll","",1,"row","search-results",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","row",4,"ngIf"],["noteModal",""],["participantModal",""],[1,"mb-2"],[3,"click"],[1,"table-responsive"],[1,"table","border","border-1","table-bordered","overflow-hidden"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-3","align-self-center"],[1,"text-center"],["src","...","alt","...",1,"img-fluid","rounded-start"],[1,"col"],[1,"fs-5"],["class","fst-italic fw-light",4,"ngFor","ngForOf"],[1,"card-text"],[1,"small"],[1,"fst-italic","fw-light"],[1,"fa-solid","fa-calendar-days"],[1,"fa-solid","fa-clock"],[1,"fa-solid","fa-location-dot"],[1,"float-end","fs-7","fst-italic"],[1,"mt-1","mb-1"],[1,"col-2"],[1,"d-grid","gap-2","d-flex","d-md-flex","d-sm-flex","justify-content-md-end","justify-content-sm-end","justify-content-end"],["href","javascript:0;",1,"text-decoration-none",3,"click"],["tooltip","join",1,"fa-solid","fa-right-to-bracket","fa-lg"],[1,"fa-solid","fa-envelope","fa-lg"],[1,"fa-solid","fa-circle-info","fa-lg"],[1,"fa-solid","fa-ban","fa-lg"],[1,"fs-6","fw-light","fst-italic"],["class","fs-6 fw-light fst-italic",4,"ngFor","ngForOf"],[1,"fa-solid","fa-share","fa-lg"],[1,"mb-3"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group","mb-3"],["type","text","formControlName","Note","rows","8","placeholder","Enter Note",1,"form-control",3,"ngClass"],["type","hidden","name","RequestId","formControlName","RequestId"],["type","hidden","name","UserId","formControlName","UserId"],["type","hidden","name","NoteId","formControlName","NoteId"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],["novalidate",""],[1,"btn","btn-info",3,"click"]],template:function(n,s){if(n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u(5,"i",5),c(6,"Filter"),r(),f(7,Jo,6,0,"ng-template",null,6,J),r()()(),a(9,"div",7),h("scrolled",function(){return s.onScroll()}),f(10,rr,3,1,"div",8),r(),f(11,ar,2,0,"div",9)(12,sr,4,0,"div",10)(13,mr,5,1,"ng-template",null,11,J)(15,dr,14,1,"ng-template",null,12,J),r()),n&2){let d=he(8);l(4),m("ngbPopover",d),l(5),m("infiniteScrollDistance",1)("infiniteScrollThrottle",500),l(),m("ngIf",s.meetnPray.length),l(),m("ngIf",s.isLoading),l(),m("ngIf",!s.meetnPray.length)}},dependencies:[E,He,j,P,Ae,Mt,Tt,wt,B,ne,ee,te,ie,oe,re]});let i=o;return i})();var ye=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getMeetingComponent(e){return this.httpClient.get(this.api+"/components/"+e)}getMeetingComponentsByLookup(e,n,s){let d={meetingId:e,componentLookupTypeId:n,published:s};return this.httpClient.post(this.api+"/components/all",d)}getMeetingComponents(e){let n={meetingId:e};return this.httpClient.post(this.api+"/components/meeting",n)}createMeetingComponent(e){return this.httpClient.post(this.api+"/components",e)}updateMeetingComponent(e){return this.httpClient.put(this.api+"/components",e)}deleteMeetingComponent(e){return this.httpClient.delete(this.api+"/components/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var at=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getQuestionnaireParticipant(e){return this.httpClient.get(this.api+"/questionnaire/participant/"+e)}getQuestionnaireParticipants(e,n){let s={questionnaireId:e,componentId:n};return this.httpClient.post(this.api+"/Questionnaire/participants/",s)}getQuestionnaireParticipantByContact(e,n){let s={contactId:e,componentId:n};return this.httpClient.post(this.api+"/questionnaire/getparticipant/",s)}saveQuestionnaireParticipant(e){return this.httpClient.post(this.api+"/questionnaire/participant/",e)}updateQuestionnaireParticipant(e){return this.httpClient.put(this.api+"/questionnaire/participant/",e)}deleteQuestionnaireParticipant(e){return this.httpClient.delete(this.api+"/questionnaire/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var At=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getContributionParticipant(e){return this.httpClient.get(this.api+"/contributions/participant/"+e)}getContributionParticipants(e,n){let s={contributionId:e,componentId:n};return this.httpClient.post(this.api+"/contributions/participants/",s)}getContributionParticipantByContact(e,n){let s={conctactId:e,contributionId:n};return this.httpClient.post(this.api+"/contributions/participant/",s)}saveContributionParticipant(e){return this.httpClient.post(this.api+"/contributions/participant/",e)}updateContributionParticipant(e){return this.httpClient.put(this.api+"/contributions/participant/",e)}deleteContributionParticipant(e){return this.httpClient.delete(this.api+"/contributions/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Vt=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getSignupParticipant(e){return this.httpClient.get(this.api+"/signups/participant/"+e)}getSignupParticipants(e,n){let s={signupId:e,componentId:n};return this.httpClient.post(this.api+"/signups/participants/",s)}getSignupParticipantByContact(e,n){let s={conctactId:e,signupId:n};return this.httpClient.post(this.api+"/signups/participant/",s)}saveSignupParticipant(e){debugger;return this.httpClient.post(this.api+"/signups/participant/",e)}updateSignupParticipant(e){return this.httpClient.put(this.api+"/signups/participant/",e)}deleteSignupParticipant(e){return this.httpClient.delete(this.api+"/signups/participant/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function pr(i,o){if(i&1&&(a(0,"span"),u(1,"i",39),r()),i&2){let t=p().$implicit;l(),me("title",t.Description)}}function ur(i,o){if(i&1&&(a(0,"div",35)(1,"small"),c(2,"Time\xA0Slot:\xA0"),r(),a(3,"span"),c(4),r()()),i&2){let t=p().$implicit;l(4),X(" ",t==null||t.TimeSlot==null?null:t.TimeSlot.StartTime,"\xA0-\xA0",t==null||t.TimeSlot==null?null:t.TimeSlot.EndTime," ")}}function fr(i,o){if(i&1){let t=x();a(0,"tbody")(1,"tr")(2,"td")(3,"div")(4,"a",33),h("click",function(){let s=C(t).$implicit;p(6);let d=he(26),_=p();return b(_.openSignupModal(s,d))}),c(5),f(6,pr,2,1,"span",1),r()(),f(7,ur,5,2,"div",34),a(8,"div",35)(9,"small"),c(10,"People\xA0Needed:\xA0"),r(),a(11,"span"),c(12),r()()(),a(13,"td")(14,"div",36)(15,"label",37),u(16,"input",38),r()()()()()}if(i&2){let t=o.$implicit;l(5),y(" ",t.Title," "),l(),m("ngIf",t.Description),l(),m("ngIf",t.TimeSlot),l(5),y(" ",t==null?null:t.PeopleNeeded," "),l(3),Bt("for","checkbox-",t.MeetingSignupId.toString(),""),l(),Bt("id","checkbox-",t.MeetingSignupId,"")("formControlName","checkbox-",t.MeetingSignupId.toString(),"")("name","checkbox-",t.MeetingSignupId.toString(),""),m("value",t.MeetingSignupId)}}function gr(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"table",29)(3,"thead")(4,"tr"),u(5,"th",30)(6,"th",31),r()(),f(7,fr,17,9,"tbody",32),r()()()),i&2){let t=p(6);l(7),m("ngForOf",t.meetingSignupsComponents==null||t.meetingSignupsComponents[0]==null?null:t.meetingSignupsComponents[0].Signups)}}function hr(i,o){if(i&1&&(a(0,"form",26),f(1,gr,8,1,"div",2),r()),i&2){let t=p(5);m("formGroup",t.participantSignupsForm),l(),m("ngIf",t.meetingSignupsComponents.length)}}function _r(i,o){if(i&1){let t=x();a(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",23),c(4),r(),a(5,"input",24),h("change",function(n){C(t);let s=p(4);return b(s.onSelectComponent(n))}),r()()(),f(6,hr,2,2,"form",25),r()}if(i&2){let t=p().$implicit,e=p(3);l(4),y(" ",t.Title," "),l(),m("checked",e.selectedComponent==="signups"),l(),m("ngIf",e.participantSignupsForm)}}function vr(i,o){if(i&1&&(a(0,"span"),u(1,"i",39),r()),i&2){let t=p(2).$implicit;l(),me("title",t.ShortDescription)}}function Cr(i,o){i&1&&(a(0,"small",45),c(1,"Numbers only"),r())}function br(i,o){if(i&1&&(a(0,"div"),c(1),de(2,"json"),f(3,Cr,2,0,"small",44),r()),i&2){let t=p(2).$implicit,e=p(7),n,s;l(),y(" ",ai(2,2,(n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.errors)," "),l(2),m("ngIf",(s=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:s.errors)}}function xr(i,o){if(i&1){let t=x();a(0,"tr")(1,"td")(2,"div")(3,"a",33),h("click",function(){C(t);let n=p().$implicit;p(6);let s=he(24),d=p();return b(d.openContributorModal(n,s))}),c(4),f(5,vr,2,1,"span",1),r()(),a(6,"div",35)(7,"small"),c(8,"Needed:\xA0"),r(),a(9,"span"),c(10),r()()(),a(11,"td")(12,"div",42),u(13,"input",43),r(),f(14,br,4,4,"div",1),r()()}if(i&2){let t=p().$implicit,e=p(7),n;l(4),y(" ",t.ItemName," "),l(),m("ngIf",t.ShortDescription),l(5),X(" ",t.Quantity,"\xA0",t.Measure," "),l(3),me("formControlName",t.MeetingContributionId),me("name",t.MeetingContributionId),me("max",t.Quantity),l(),m("ngIf",((n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.invalid)&&((n=e.participantContributionForm.get(t.MeetingContributionId.toString()))==null?null:n.touched))}}function yr(i,o){if(i&1&&(a(0,"tbody"),f(1,xr,15,8,"tr",1),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.Category==="Items")}}function Sr(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"table",29)(3,"thead")(4,"tr"),u(5,"th",30)(6,"th",31),r()(),f(7,yr,2,1,"tbody",32),r()()()),i&2){let t=p(6);l(7),m("ngForOf",t.meetingContributionComponents[0]==null?null:t.meetingContributionComponents[0].Contributions)}}function Ir(i,o){if(i&1&&(a(0,"form",26),f(1,Sr,8,1,"div",2),r()),i&2){let t=p(5);m("formGroup",t.participantContributionForm),l(),m("ngIf",t.meetingContributionComponents.length)}}function Mr(i,o){if(i&1){let t=x();a(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",40),c(4),r(),a(5,"input",41),h("change",function(n){C(t);let s=p(4);return b(s.onSelectComponent(n))}),r()()(),f(6,Ir,2,2,"form",25),r()}if(i&2){let t=p().$implicit,e=p(3);l(4),y(" ",t.Title," "),l(),m("checked",e.selectedComponent==="contribution"),l(),m("ngIf",e.participantContributionForm)}}function wr(i,o){if(i&1&&(a(0,"div",36)(1,"label",37),u(2,"input",54),c(3),r()()),i&2){let t=o.$implicit,e=p(2).$implicit;l(),ze("for","radio-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","radio-",e.MeetingQuestionnaireId,"-",t,""),me("formControlName",e.MeetingQuestionnaireId),me("name",e.MeetingQuestionnaireId),m("value",t),l(),y(" ",t," ")}}function Tr(i,o){i&1&&(a(0,"div")(1,"small",45),c(2,"Please select an option"),r()())}function kr(i,o){if(i&1&&(a(0,"div"),f(1,wr,4,8,"div",53)(2,Tr,3,0,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Er(i,o){if(i&1){let t=x();a(0,"div",36)(1,"label",37)(2,"input",55),h("change",function(n){C(t);let s=p(2).$implicit,d=p(6);return b(d.onCheckboxChange(n,s.MeetingQuestionnaireId))}),r(),c(3),r()()}if(i&2){let t=o.$implicit,e=p(2).$implicit,n=p(6),s;l(),ze("for","checkbox-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","checkbox-",e.MeetingQuestionnaireId,"-",t,""),m("value",t)("checked",(s=n.participantQuestionnaireForm.get(e.MeetingQuestionnaireId.toString()))==null?null:s.value.includes(t)),l(),y(" ",t," ")}}function Fr(i,o){i&1&&(a(0,"div")(1,"small",45),c(2,"Please select at least one option"),r()())}function Dr(i,o){if(i&1&&(a(0,"div"),f(1,Er,4,7,"div",53)(2,Fr,3,0,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Nr(i,o){if(i&1&&(a(0,"div",36)(1,"label",37),u(2,"input",56),c(3),r()()),i&2){let t=o.$implicit,e=p(2).$implicit;l(),ze("for","radio-",e.MeetingQuestionnaireId,"-",t,""),l(),ze("id","radio-",e.MeetingQuestionnaireId,"-",t,""),me("formControlName",e.MeetingQuestionnaireId),me("name",e.MeetingQuestionnaireId),m("value",t),l(),y(" ",t," ")}}function Lr(i,o){i&1&&(a(0,"div")(1,"small",45),c(2,"Please select an option"),r()())}function Pr(i,o){if(i&1&&(a(0,"div"),f(1,Nr,4,8,"div",53)(2,Lr,3,0,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Ar(i,o){if(i&1&&(a(0,"option",61),c(1),r()),i&2){let t=o.$implicit;m("value",t),l(),M(t)}}function Vr(i,o){i&1&&(a(0,"div")(1,"small",45),c(2,"Please select an option"),r()())}function Rr(i,o){if(i&1&&(a(0,"div")(1,"div",57)(2,"select",58)(3,"option",59),c(4,"Choose Answer"),r(),f(5,Ar,2,2,"option",60),r()(),f(6,Vr,3,0,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(2),me("formControlName",t.MeetingQuestionnaireId),me("name",t.MeetingQuestionnaireId),l(3),m("ngForOf",e.splitOptions(t.AnswerOptions)),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function qr(i,o){i&1&&(a(0,"small",45),c(1,"This question is required"),r())}function Qr(i,o){i&1&&(a(0,"small",45),c(1,"Maximum 60 characters are required"),r())}function Or(i,o){if(i&1&&(a(0,"div"),f(1,qr,2,0,"small",44)(2,Qr,2,0,"small",44),r()),i&2){let t=p(2).$implicit,e=p(6),n,s;l(),m("ngIf",(n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.hasError("required")),l(),m("ngIf",(s=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:s.hasError("maxlength"))}}function jr(i,o){if(i&1&&(a(0,"div")(1,"div",42),u(2,"input",62),r(),f(3,Or,3,2,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(2),me("formControlName",t.MeetingQuestionnaireId),me("name",t.MeetingQuestionnaireId),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function Ur(i,o){i&1&&(a(0,"small",45),c(1,"This question is required"),r())}function Hr(i,o){i&1&&(a(0,"small",45),c(1,"maximum 150 characters are required"),r())}function $r(i,o){if(i&1&&(a(0,"div"),f(1,Ur,2,0,"small",44)(2,Hr,2,0,"small",44),r()),i&2){let t=p(2).$implicit,e=p(6),n,s;l(),m("ngIf",(n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.hasError("required")),l(),m("ngIf",(s=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:s.hasError("maxlength"))}}function Br(i,o){if(i&1&&(a(0,"div")(1,"div",42),u(2,"textarea",63),r(),f(3,$r,3,2,"div",1),r()),i&2){let t=p().$implicit,e=p(6),n;l(2),me("formControlName",t.MeetingQuestionnaireId),me("name",t.MeetingQuestionnaireId),l(),m("ngIf",((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.invalid)&&((n=e.participantQuestionnaireForm.get(t.MeetingQuestionnaireId.toString()))==null?null:n.touched))}}function zr(i,o){if(i&1&&(a(0,"div",49)(1,"label",50),c(2),r(),a(3,"div",51),f(4,kr,3,2,"div",52)(5,Dr,3,2,"div",52)(6,Pr,3,2,"div",52)(7,Rr,7,4,"div",52)(8,jr,4,3,"div",52)(9,Br,4,3,"div",52),r()()),i&2){let t=o.$implicit;l(2),M(t.Question),l(),m("ngSwitch",t.QuestionType),l(),m("ngSwitchCase","SingleChoice"),l(),m("ngSwitchCase","MultipleChoices"),l(),m("ngSwitchCase","TrueFalse"),l(),m("ngSwitchCase","Dropdownlist"),l(),m("ngSwitchCase","ShortAnswer"),l(),m("ngSwitchCase","LongAnswer")}}function Wr(i,o){if(i&1&&(a(0,"form",26),f(1,zr,10,8,"div",48),r()),i&2){let t=p(5);m("formGroup",t.participantQuestionnaireForm),l(),m("ngForOf",t.meetingQuestionnaireComponents[0]==null?null:t.meetingQuestionnaireComponents[0].Questionnaire)}}function Yr(i,o){if(i&1){let t=x();a(0,"fieldset",20)(1,"legend",21)(2,"div",22)(3,"label",46),c(4),r(),a(5,"input",47),h("change",function(n){C(t);let s=p(4);return b(s.onSelectComponent(n))}),r()()(),f(6,Wr,2,2,"form",25),r()}if(i&2){let t=p().$implicit,e=p(3);l(4),y(" ",t.Title," "),l(),m("checked",e.selectedComponent==="questionnaire"),l(),m("ngIf",e.participantQuestionnaireForm)}}function Gr(i,o){if(i&1&&(a(0,"div",4),f(1,_r,7,3,"fieldset",19)(2,Mr,7,3,"fieldset",19)(3,Yr,7,3,"fieldset",19),r()),i&2){let t=o.$implicit;l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Signups"),l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Contributions"),l(),m("ngIf",(t==null?null:t.IsPublished)&&(t==null||t.ComponentLookup[0]==null?null:t.ComponentLookup[0].LookupName)==="Questionnaire")}}function Zr(i,o){if(i&1){let t=x();a(0,"div",15),f(1,Gr,4,3,"div",16),a(2,"div",17)(3,"button",18),h("click",function(){C(t);let n=p(2);return b(n.onSubmit())}),c(4),r()()()}if(i&2){let t=p(2);l(),m("ngForOf",t.meetingComponents),l(3),M(t.submitButtonName)}}function Xr(i,o){if(i&1){let t=x();a(0,"tbody")(1,"tr")(2,"td"),c(3),r(),a(4,"td"),c(5),r(),a(6,"td")(7,"button",74),h("click",function(){let s=C(t).$implicit,d=p(4);return b(d.cancelContribution(s))}),u(8,"i",75),r()()()()}if(i&2){let t=o.$implicit;l(3),X("",t==null||t.Contact[0]==null?null:t.Contact[0].FirstName,"\xA0 ",t==null||t.Contact[0]==null?null:t.Contact[0].LastName,""),l(2),M(t.Quantity)}}function Jr(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"div",70)(3,"div",71)(4,"span"),c(5),r()(),a(6,"div",4)(7,"table",29)(8,"thead")(9,"tr")(10,"th",72),c(11,"Contributor"),r(),a(12,"th",73),c(13,"Quantity"),r(),u(14,"th",31),r()(),f(15,Xr,9,3,"tbody",32),r()()()()()),i&2){let t=p(3);l(5),y("",t.totalContributionQuantity," contributed"),l(10),m("ngForOf",t.meetingContributionContribitors)}}function Kr(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"p"),c(3),r()()()),i&2){let t=p(3);l(3),M(t.norecordfound)}}function ea(i,o){if(i&1){let t=x();a(0,"div",64)(1,"h4",65),c(2),r(),a(3,"button",66),h("click",function(){C(t);let n=p(2);return b(n.onCloseModal())}),r()(),a(4,"div",67),f(5,Jr,16,2,"div",2)(6,Kr,4,1,"div",2),r(),a(7,"div",68)(8,"button",69),h("click",function(){C(t);let n=p(2);return b(n.onCloseModal())}),c(9,"Close"),r()()}if(i&2){let t=p(2);l(2),y("",t.contributionTitle," Contributions"),l(3),m("ngIf",t.meetingContributionContribitors.length),l(),m("ngIf",!t.meetingContributionContribitors.length)}}function ta(i,o){if(i&1){let t=x();a(0,"tbody")(1,"tr")(2,"td"),c(3),r(),a(4,"td")(5,"button",79),h("click",function(){let s=C(t).$implicit,d=p(4);return b(d.cancelSignup(s))}),u(6,"i",75),r()()()()}if(i&2){let t=o.$implicit;l(3),X("",t==null||t.Contact[0]==null?null:t.Contact[0].FirstName,"\xA0 ",t==null||t.Contact[0]==null?null:t.Contact[0].LastName,"")}}function ia(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"div",27)(3,"div",28)(4,"div",70)(5,"div",71)(6,"div")(7,"strong"),c(8,"Time\xA0Slot:\xA0"),r(),u(9,"span",76),r(),a(10,"span"),c(11),r()(),a(12,"div",4)(13,"table",29)(14,"thead")(15,"tr")(16,"th",77),c(17,"Name"),r(),u(18,"th",78),r()(),f(19,ta,7,2,"tbody",32),r()()()()()()()),i&2){let t=p(3);l(9),m("innerHTML",t.signupTimeSlot,F),l(2),y(" ",t.totalSignups," signedup "),l(8),m("ngForOf",t.meetingSignupParticipants==null||t.meetingSignupParticipants[0]==null?null:t.meetingSignupParticipants[0].signupParticipants)}}function na(i,o){if(i&1&&(a(0,"div",27)(1,"div",28)(2,"p"),c(3),r()()()),i&2){let t=p(3);l(3),M(t.norecordfound)}}function oa(i,o){if(i&1){let t=x();a(0,"div",64)(1,"h4",65),c(2),r(),a(3,"button",66),h("click",function(){C(t);let n=p(2);return b(n.onCloseModal())}),r()(),a(4,"div",67),f(5,ia,20,3,"div",2)(6,na,4,1,"div",2),r(),a(7,"div",68)(8,"button",69),h("click",function(){C(t);let n=p(2);return b(n.onCloseModal())}),c(9,"Close"),r()()}if(i&2){let t=p(2);l(2),y("",t.signupTitle," Signup"),l(3),m("ngIf",t.meetingSignupParticipants.length),l(),m("ngIf",!t.meetingSignupParticipants.length)}}function ra(i,o){if(i&1&&(a(0,"div")(1,"div",3)(2,"div",4)(3,"h2",5),c(4),r(),a(5,"p",6),c(6),r(),a(7,"dl",7)(8,"dt")(9,"div",8),u(10,"i",9),c(11),de(12,"date"),de(13,"date"),r()(),a(14,"dt")(15,"div",8),u(16,"i",10),c(17),r()(),a(18,"dt")(19,"div",8),u(20,"i",11),c(21),r()()()()(),f(22,Zr,5,2,"div",12)(23,ea,10,3,"ng-template",null,13,J)(25,oa,10,3,"ng-template",null,14,J),r()),i&2){let t=p();l(4),M(t.meeting[0].Title),l(2),M(t.meeting[0].Story),l(5),X("\xA0",_e(12,11,t.meeting[0].StartDate,"MMM d, y"),"\xA0-\xA0",_e(13,14,t.meeting[0].EndDate,"MMM d, y"),""),l(6),nt("\xA0",t.meeting[0].StartTime,"\xA0-\xA0",t.meeting[0].EndTime,"\xA0\xA0",t.meeting[0].TimeZone," "),l(4),nt("\xA0",t.meeting[0].Street1,",\xA0",t.meeting[0].City,",\xA0",t.meeting[0].Country," "),l(),m("ngIf",t.meetingComponents.length)}}function aa(i,o){i&1&&(a(0,"div",27)(1,"p"),c(2," Meeting not found"),r()())}var Wt=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O){this.activateRoute=e,this.meetingService=n,this.meetingComponentService=s,this.formBuilder=d,this.authService=_,this.questionnaireParticipantService=w,this.contributionParticipantService=A,this.signupsParticipantService=q,this.modal=O,this.selectedComponent="",this.isSelectedComponent=!1,this.buttonName="Sign up",this.signupTimeSlot="",this.totalContributionQuantity="",this.totalSignups="",this.norecordfound="No record found.",this.meetingComponents=[],this.meetingContributionComponents=[],this.meetingQuestionnaireComponents=[],this.meetingSignupsComponents=[],this.isLoading=!1,this.isSubmitted=!1,this.meetingContributionContribitors=[],this.meetingSignupParticipants=[],this.signupTitle="",this.contributionTitle="",this.submitButtonName="Submit",this.published=1,this.iQuestionnaireParticipant={MeetingQuestionnaireParticipantId:0,UserId:0,MeetingComponentId:0,MeetingQuestionnaireId:0,QuestionAnswer:"",CreatedDate:null},this.iContributionParticipant={MeetingContributionParticipantId:0,UserId:0,MeetingComponentId:0,MeetingContributionId:0,Amount:0,Quantity:0},this.iSignupsParticipant={MeetingSignupParticipantId:0,UserId:0,MeetingComponentId:0,MeetingSignupId:0,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){if(this.activateRoute.queryParams.subscribe(e=>{this.meetingId=e.id}),this.meetingId>0&&(this.meeting=yield R(this.meetingService.getMeeting(this.meetingId))),this.meeting){let e=yield R(this.meetingComponentService.getMeetingComponents(this.meeting[0].MeetingId)),n=s=>{let d=new Map;for(let _ of s)d.has(_.ComponentLookupTypeId)||d.set(_.ComponentLookupTypeId,_);return Array.from(d.values())};this.meetingComponents=n(e),this.meetingComponents&&this.meetingComponents.map(s=>{let d=s.ComponentLookup;d[0]?.LookupName.startsWith("Contributions")&&(this.contributionComponentLookupTypeId=d[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="contribution")),d[0]?.LookupName.startsWith("Questionnaire")&&(this.questionnaireComponentLookupTypeId=d[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="questionnaire")),d[0]?.LookupName.startsWith("Signups")&&(this.signupComponentLookupTypeId=d[0]?.LookupId,this.isSelectedComponent?this.isSelectedComponent=!1:(this.isSelectedComponent=!0,this.selectedComponent="signups"))}),this.isLoading=!0,_t([this.meetingContributionComponents=this.contributionComponentLookupTypeId>0?yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.contributionComponentLookupTypeId,this.published)):[],this.meetingQuestionnaireComponents=this.questionnaireComponentLookupTypeId>0?yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.questionnaireComponentLookupTypeId,this.published)):[],this.meetingSignupsComponents=this.signupComponentLookupTypeId>0?yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.signupComponentLookupTypeId,this.published)):[]]).subscribe({next:s=>{console.log("Succeeded in retrieving meeting components"),this.isLoading=!1},error:s=>{console.error("Error retrieving meeting components: "+s),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}this.buildParticipantQuestionnaireForm(),this.buildParticipantContributionForm(),this.buildParticipantSignupForm(),this.enableComponentForms()})}onSelectComponent(e){this.selectedComponent=e.target.value,this.enableComponentForms()}enableComponentForms(){switch(this.selectedComponent){case"contribution":{this.submitButtonName="Contribute",Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].enable()}),Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].disable()}),Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].disable()});break}case"questionnaire":{this.submitButtonName="Submit",Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].enable()}),Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].disable()}),Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].disable()});break}case"signups":{this.submitButtonName="Signup",Object.keys(this.participantSignupsForm.controls).forEach(e=>{this.participantSignupsForm.controls[e].enable()}),Object.keys(this.participantContributionForm.controls).forEach(e=>{this.participantContributionForm.controls[e].disable()}),Object.keys(this.participantQuestionnaireForm.controls).forEach(e=>{this.participantQuestionnaireForm.controls[e].disable()});break}}}buildParticipantSignupForm(){this.participantSignupsForm=this.formBuilder.group({}),this.meetingSignupsComponents[0]?.Signups?.flatMap(e=>{this.participantSignupsForm.addControl("checkbox-"+e.MeetingSignupId.toString(),this.formBuilder.control(""))})}buildParticipantContributionForm(){this.participantContributionForm=this.formBuilder.group({}),this.meetingContributionComponents[0]?.Contributions?.flatMap(e=>{this.participantContributionForm.addControl(e.MeetingContributionId.toString(),this.formBuilder.control(this.iContributionParticipant.MeetingContributionId,[v.pattern("^[0-9]*$"),v.maxLength(3)]))})}buildParticipantQuestionnaireForm(){this.participantQuestionnaireForm=this.formBuilder.group({}),this.meetingQuestionnaireComponents[0]?.Questionnaire?.forEach(e=>{this.participantQuestionnaireForm.addControl(e?.MeetingQuestionnaireId.toString(),this.createQuestionControl(e))})}createQuestionControl(e){let n;return e.QuestionType==="MultipleChoices"?(n=e.Required?[this.checkboxValidator()]:[],this.formBuilder.control([],n)):e.QuestionType==="SingleChoice"||e.QuestionType==="Dropdownlist"||e.QuestionType==="TrueFalse"?(n=e.Required?v.required:[],this.formBuilder.control("",n)):e.QuestionType==="LongAnswer"?(n=e.Required?[v.required,v.minLength(150)]:[],this.formBuilder.control("",n)):(n=e.Required?[v.required,v.minLength(60)]:[],this.formBuilder.control("",n))}splitOptions(e){return e.split(",").map(n=>n.trim())}checkboxValidator(){return e=>{let n=e.value;return Array.isArray(n)&&n.length>0?null:{required:!0}}}onCheckboxChange(e,n){let s=this.participantQuestionnaireForm.get(n.toString());if(s){let d=s?.value||[];Array.isArray(d)||(d=[]),e.target.checked?d.push(e.target.value):d=d.filter(_=>_!==e.target.value),s.setValue(d),s.markAsTouched(),s?.updateValueAndValidity()}else console.error(`Form control with Id= '${n.toString()}' not found.`)}onSubmit(){if(this.isSubmitted=!1,this.selectedComponent==="contribution"){if(this.participantContributionForm.invalid)return this.participantContributionForm.markAllAsTouched();let n=this.meetingContributionComponents[0]?.Contributions?.filter(s=>s.Category==="Items")?.filter(s=>s.MeetingComponentId>0)?.map(s=>{let d=this.participantContributionForm.get(s?.MeetingContributionId.toString())?.value;return this.iContributionParticipant={MeetingContributionParticipantId:0,UserId:this.iContact?.UserId??0,MeetingComponentId:s.MeetingComponentId,MeetingContributionId:s.MeetingContributionId,Amount:0,Quantity:d,CreatedDate:null,ModifiedDate:null}});this.isSubmitted=!0,this.contributionParticipantService.saveContributionParticipant(n).pipe(T(s=>(this.iContributionParticipant=s,this.participantContributionForm.reset(),V(this.iContributionParticipant)))).subscribe({next:s=>{console.log("Successfully saved participant contribution response.")},error:s=>{console.error("Error saving participant contribution responses:",s)},complete:()=>{console.log("Successfully saved participant contribution response.")}})}else if(this.selectedComponent==="questionnaire"){if(this.participantQuestionnaireForm.invalid)return this.participantQuestionnaireForm.markAllAsTouched();let e=this.meetingQuestionnaireComponents[0]?.Questionnaire?.map(n=>{let s=this.participantQuestionnaireForm.get(n?.MeetingQuestionnaireId.toString())?.value,d=n.QuestionType==="MultipleChoices"?s.join(","):s;return this.iQuestionnaireParticipant={MeetingQuestionnaireParticipantId:0,UserId:this.iContact?.UserId??0,MeetingComponentId:n.MeetingComponentId,MeetingQuestionnaireId:n.MeetingQuestionnaireId,QuestionAnswer:d,CreatedUserId:this.iContact.UserId,CreatedDate:null}});this.isSubmitted=!0,this.questionnaireParticipantService.saveQuestionnaireParticipant(e).pipe(T(n=>(this.iQuestionnaireParticipant=n,this.resetForm(),V(this.iQuestionnaireParticipant)))).subscribe({next:n=>{console.log("Successfully saved participant questionnaire response.")},error:n=>{console.error("Error saving responses:",n)},complete:()=>{console.log("Successfully saved participant questionnaire response.")}})}else{if(this.participantSignupsForm.invalid)return this.participantSignupsForm.markAllAsTouched();let e=this.meetingSignupsComponents[0]?.Signups?.map(n=>{let s=this.participantSignupsForm.get("checkbox-"+n?.MeetingSignupId.toString())?.value?n?.MeetingSignupId:0;return this.iSignupsParticipant={MeetingSignupParticipantId:0,UserId:this.iContact?.UserId??0,MeetingComponentId:n.MeetingComponentId,MeetingSignupId:s,CreatedUserId:this.iContact?.UserId??0,CreatedDate:null,ModifiedDate:null}});this.isSubmitted=!0,this.signupsParticipantService.saveSignupParticipant(e).pipe(T(n=>(this.iSignupsParticipant=n,this.participantSignupsForm.reset(),V(this.iSignupsParticipant)))).subscribe({next:n=>{console.log("Successfully saved participant signups response.")},error:n=>{console.error("Error saving participant signups responses:",n)},complete:()=>{console.log("Successfully saved participant signups response.")}})}this.isSubmitted=!1}resetForm(){this.participantQuestionnaireForm.reset(),this.meetingQuestionnaireComponents[0]?.Questionnaire?.map(e=>{if(e.QuestionType==="MultipleChoices"){let n=this.participantQuestionnaireForm.get(e?.MeetingQuestionnaireId.toString())?.setValue([])}})}openContributorModal(e,n){return k(this,null,function*(){if(e){this.contributionTitle=e.ItemName,this.meetingContributionContribitors=yield R(this.contributionParticipantService.getContributionParticipants(e.MeetingContributionId,e.MeetingComponentId));let s=this.meetingContributionContribitors.reduce((_,w)=>_+w.Quantity,0);this.totalContributionQuantity=s+" out of "+e.Quantity,e.Quantity===s&&(this.norecordfound="Contribution for this item is filled. Thank you for willing to help.",this.meetingContributionContribitors=[]);let d={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,d)}})}cancelContribution(e){return k(this,null,function*(){e&&this.iContact.UserId===e.UserId&&(this.meetingContributionContribitors=yield R(this.contributionParticipantService.deleteContributionParticipant(e.MeetingContributionParticipantId))),this.onCloseModal()})}onCloseModal(){this.modal.dismissAll()}openSignupModal(e,n){return k(this,null,function*(){if(e){this.signupTitle=e.Title,this.signupTimeSlot=e?.TimeSlot?.StartTime+"&nbsp;-&nbsp;"+e?.TimeSlot?.StartTime,this.meetingSignupParticipants=yield R(this.signupsParticipantService.getSignupParticipants(e.MeetingSignupId,e.MeetingComponentId)),this.totalSignups=this.meetingSignupParticipants.length+" out of "+e.PeopleNeeded,e.PeopleNeeded===this.meetingSignupParticipants.length&&(this.norecordfound="Signup for this time slot is filled. Thank you for willing to help.",this.meetingSignupParticipants=[]);let s={size:"lg",backdrop:"static",keyboard:!1,centered:!0};this.modal.open(n,s)}})}cancelSignup(e){return k(this,null,function*(){e&&this.iContact.UserId===e.UserId&&(this.meetingSignupParticipants=yield R(this.signupsParticipantService.deleteSignupParticipant(e.MeetingSignupParticipantId))),this.onCloseModal()})}};o.\u0275fac=function(n){return new(n||o)(g(se),g(le),g(ye),g(De),g(D),g(at),g(At),g(Vt),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-meeting"]],standalone:!0,features:[I],decls:3,vars:2,consts:[[1,"container","mt-3","mb-3"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"small"],[1,"fst-italic","fw-light"],[1,"fa-solid","fa-calendar-days"],[1,"fa-solid","fa-clock"],[1,"fa-solid","fa-location-dot"],["class","card meetnpray-card-fieldset  ",4,"ngIf"],["participantContributionModal",""],["participantSignupModal",""],[1,"card","meetnpray-card-fieldset"],["class","card-body",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","float-end",3,"click"],["class","border position-relative mb-2",4,"ngIf"],[1,"border","position-relative","mb-2"],[1,"position-absolute","bg-white"],[1,"form-check"],["for","chkSignups",1,"form-check-label"],["type","radio","name","componentType","id","chkSignups","value","signups",1,"form-check-input",3,"checked","change"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["href","javascript:0;","role","button",1,"link-offset-2","link-underline","link-underline-opacity-10",3,"click"],["class","fst-italic",4,"ngIf"],[1,"fst-italic"],[1,"form-check","form-check-inline"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"id","formControlName","name","value"],["data-bs-toggle","tooltip","data-bs-placement","top",1,"fa-solid","fa-circle-info",3,"title"],["for","chkContribution",1,"form-check-label"],["type","radio","name","componentType","id","chkContribution","value","contribution",1,"form-check-input",3,"checked","change"],[1,"form-group","mb-3"],["type","number","min","0","placeholder","Give Item",1,"form-control",3,"formControlName","name","max"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["for","chkQuestionnaire",1,"form-check-label"],["type","radio","name","componentType","id","chkQuestionnaire","value","questionnaire",1,"form-check-input",3,"checked","change"],["class"," justify-content-start mb-3",4,"ngFor","ngForOf"],[1,"justify-content-start","mb-3"],[1,"fs-6"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["type","radio",1,"form-check-input","px-2",3,"id","formControlName","name","value"],["type","checkbox",1,"form-check-input",3,"value","id","checked","change"],["type","radio",1,"form-check-input",3,"id","formControlName","name","value"],[1,"form-group","col-4","mb-3"],[1,"form-select",3,"formControlName","name"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","Write answer",1,"form-control",3,"formControlName","name"],["rows","2","placeholder","Write Answer",1,"form-control",3,"formControlName","name"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-centered"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-warning",3,"click"],[1,"card"],[1,"card-header"],["scope","col",2,"width","55%"],["scope","col",2,"width","25%"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-title","Cancel contribution",1,"btn","btn-sm",3,"click"],[1,"fa-solid","fa-circle-xmark","fa-lg"],[3,"innerHTML"],["scope","col",2,"width","70%"],["scope","col",2,"width","30%"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Cancel signup",1,"btn","btn-sm",3,"click"]],template:function(n,s){n&1&&(a(0,"div",0),f(1,ra,27,17,"div",1)(2,aa,3,0,"div",2),r()),n&2&&(l(),m("ngIf",s.meeting),l(),m("ngIf",!s.meeting))},dependencies:[B,ne,Ee,Fe,ee,$e,be,ke,vt,te,ie,xt,bt,oe,re,E,j,P,li,ci,mi,Ae],styles:[".meetnpray-card-fieldset[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border-radius:5px;padding:1.2rem .5rem .5rem!important}.meetnpray-card-fieldset[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{top:-.75rem;width:auto;font-size:1.1rem;font-weight:700;padding-right:.25rem!important;padding-left:.25rem!important}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{width:22px;height:22px}"]});let i=o;return i})();function sa(i,o){if(i&1){let t=x();a(0,"tr",16)(1,"td")(2,"button",17),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openMeeting(s.MeetingId,s.UserId))}),u(3,"i",18),r()(),a(4,"td")(5,"h5",19),c(6),r()(),a(7,"td")(8,"div"),u(9,"span"),c(10),de(11,"date"),de(12,"date"),r()()()}if(i&2){let t=o.$implicit;l(6),M(t.Title),l(4),X("",_e(11,3,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(12,6,t.EndDate,"MMM d, y")," ")}}function la(i,o){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"table",12)(3,"thead",13)(4,"tr"),u(5,"th")(6,"th")(7,"th"),r()(),a(8,"tbody",14),f(9,sa,13,9,"tr",15),r()()()()),i&2){let t=p();l(9),m("ngForOf",t.allMyMeetings)}}function ca(i,o){i&1&&(a(0,"div",10)(1,"div",20)(2,"p"),c(3,"You have not started a Meet-n-Pray."),r()()())}var Xi=(()=>{let o=class o{constructor(e,n,s,d,_){this.router=e,this.meetingService=n,this.participantService=s,this.authService=d,this.helperService=_,this.allMyMeetings=[],this.iContact=d.getCurrentUser()}ngOnInit(){}openMeeting(e,n){let s={queryParams:{id:e}};this.router.navigateByUrl("/community",{skipLocationChange:!0}).then(()=>this.router.navigate(["/managemeeting"],s))}};o.\u0275fac=function(n){return new(n||o)(g(U),g(le),g(qe),g(D),g(H))},o.\u0275cmp=S({type:o,selectors:[["app-getmymeetings"]],inputs:{allMyMeetings:"allMyMeetings"},standalone:!0,features:[I],decls:14,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"card","shadow-5"],[1,"card-header","text-dark"],[1,"row","justify-content-evenly"],[1,"col"],[1,"me-5",2,"font-weight","500"],[1,"btn","btn-sm","btn-info","float-end"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"datatable"],[1,"table","datatable-table","table-striped","table-hover"],[1,"datatable-header"],[1,"datatable-body"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],["tooltip","open Meeting",1,"call-btn","btn","btn-outline-primary","btn-floating","btn-sm",3,"click"],[1,"fas","fa-external-link-alt"],[2,"font-weight","500"],[1,"text-center"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),c(8,"Manage"),r()(),a(9,"div",6)(10,"button",8),c(11,"Start a Meet-n-Pray"),r()()()(),f(12,la,10,1,"div",9)(13,ca,4,0,"div",9),r()()()()),n&2&&(l(12),m("ngIf",s.allMyMeetings.length>0),l(),m("ngIf",s.allMyMeetings.length<=0))},dependencies:[E,j,P,Ae]});let i=o;return i})();function ma(i,o){if(i&1){let t=x();a(0,"tr",16)(1,"td")(2,"button",17),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openMeeting(s))}),u(3,"i",18),r()(),a(4,"td")(5,"h5",19),c(6),r()(),a(7,"td")(8,"div"),u(9,"span"),c(10),de(11,"date"),de(12,"date"),r()()()}if(i&2){let t=o.$implicit;l(6),M(t.Title),l(4),X("",_e(11,3,t.StartDate,"MMM d, y"),"\xA0-\xA0",_e(12,6,t.EndDate,"MMM d, y")," ")}}function da(i,o){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"table",12)(3,"thead",13)(4,"tr"),u(5,"th")(6,"th")(7,"th"),r()(),a(8,"tbody",14),f(9,ma,13,9,"tr",15),r()()()()),i&2){let t=p();l(9),m("ngForOf",t.allMyMeetings)}}function pa(i,o){i&1&&(a(0,"div",10)(1,"div",20)(2,"p"),c(3,"You have not participated in any Meet-n-Pray."),r()()())}var Ji=(()=>{let o=class o{constructor(e,n,s,d,_){this.router=e,this.meetingService=n,this.participantService=s,this.authService=d,this.helperService=_,this.allMyMeetings=[],this.iContact=d.getCurrentUser()}ngOnInit(){}openMeeting(e){let n={queryParams:{id:e.MeetingId}};if(this.iContact.UserId)this.router.navigate(["/community/meeting"],n);else{let s="/community/meeting",d=new URLSearchParams(n.queryParams).toString(),_=`${s}?${d}`;window.open(_,"_blank")}}};o.\u0275fac=function(n){return new(n||o)(g(U),g(le),g(qe),g(D),g(H))},o.\u0275cmp=S({type:o,selectors:[["app-getmyparticipations"]],inputs:{allMyMeetings:"allMyMeetings"},standalone:!0,features:[I],decls:14,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"card","shadow-5"],[1,"card-header","text-dark"],[1,"row","justify-content-evenly"],[1,"col"],[1,"me-5",2,"font-weight","500"],[1,"btn","btn-sm","btn-info","float-end"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"datatable"],[1,"table","datatable-table","table-striped","table-hover"],[1,"datatable-header"],[1,"datatable-body"],["scope","row",4,"ngFor","ngForOf"],["scope","row"],["tooltip","open Meeting",1,"call-btn","btn","btn-outline-primary","btn-floating","btn-sm",3,"click"],[1,"fas","fa-external-link-alt"],[2,"font-weight","500"],[1,"text-center"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),c(8,"Manage"),r()(),a(9,"div",6)(10,"button",8),c(11,"Browse Meet-n-Pray"),r()()()(),f(12,da,10,1,"div",9)(13,pa,4,0,"div",9),r()()()()),n&2&&(l(12),m("ngIf",s.allMyMeetings.length>0),l(),m("ngIf",s.allMyMeetings.length<=0))},dependencies:[E,j,P,Ae]});let i=o;return i})();function ua(i,o){if(i&1&&(a(0,"div",9),u(1,"app-getmymeetings",10),r()),i&2){let t=p();l(),m("allMyMeetings",t.myMeetings)}}function fa(i,o){if(i&1&&(a(0,"div",11),u(1,"app-getmyparticipations",10),r()),i&2){let t=p();l(),m("allMyMeetings",t.myMeetings)}}var Ki=i=>({active:i}),en=(()=>{let o=class o{constructor(e,n,s,d,_,w){this.router=e,this.activateRoute=n,this.meetingService=s,this.participantService=d,this.authService=_,this.helperService=w,this.activeTab="meetings",this.myMeetings=[],this.iContact=_.getCurrentUser()}ngOnInit(){this.loadMyMeetings()}ngOnChanges(e){this.setActiveTab(this.activeTab)}setActiveTab(e){this.activeTab=e,this.activeTab==="participations"?this.loadMyParticipations():this.loadMyMeetings()}loadMyMeetings(){return k(this,null,function*(){this.meetingService.getUserMeeting(this.iContact.UserId??0).pipe(T(e=>(this.myMeetings=e,this.myMeetings))).subscribe({next:e=>console.log("Retrieved meeting by user"),error:e=>{console.log(e)},complete:()=>{}})})}loadMyParticipations(){return k(this,null,function*(){this.meetingService.getUserMeetingMembers(this.iContact.UserId??0).pipe(T(e=>(this.myMeetings=e,this.myMeetings))).subscribe({next:e=>{console.log("Get user meeting participations")},error:e=>{console.log(e)},complete:()=>{}})})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se),g(le),g(qe),g(D),g(H))},o.\u0275cmp=S({type:o,selectors:[["app-my-meetings"]],standalone:!0,features:[et,I],decls:12,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","nav-justified"],["id","navMyMeetingTab","data-bs-toggle","tab","data-bs-target","#navMyMeeting","type","button","role","tab","aria-controls","navMyMeeting","aria-selected","false",1,"nav-link","active",3,"ngClass","click"],["id","navMyParicipationTab","data-bs-toggle","tab","data-bs-target","#navMyParticipation","type","button","role","tab","aria-controls","navMyParticipation","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade show active","id","navMyMeeting","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navMyParticipation","role","tabpanel",4,"ngIf"],["id","navMyMeeting","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"allMyMeetings"],["id","navMyParticipation","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"div",3)(5,"a",4),h("click",function(){return s.setActiveTab("meetings")}),c(6," My\xA0Meetings "),r(),a(7,"a",5),h("click",function(){return s.setActiveTab("participations")}),c(8," My\xA0Participation "),r()()(),a(9,"div",6),f(10,ua,2,1,"div",7)(11,fa,2,1,"div",8),r()()()()),n&2&&(l(5),m("ngClass",Se(4,Ki,s.activeTab==="meetings")),l(2),m("ngClass",Se(6,Ki,s.activeTab==="participations")),l(3),m("ngIf",s.activeTab==="meetings"),l(),m("ngIf",s.activeTab==="participations"))},dependencies:[E,He,P,Xi,Ji]});let i=o;return i})();var ga=["confirmDelete"];function ha(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Title",t.meetingForm.controls.Title.errors),F)}}function _a(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Start date",t.meetingForm.controls.StartDate.errors),F)}}function va(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("End date",t.meetingForm.controls.EndDate.errors),F)}}function Ca(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),y(" ",t.Time," ")}}function ba(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Start Time",t.meetingForm.controls.StartTime.errors),F)}}function xa(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),y(" ",t.Time," ")}}function ya(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("End Time",t.meetingForm.controls.EndTime.errors),F)}}function Sa(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.TimeZoneinfo),l(),y(" ",t.TimeZoneinfo," ")}}function Ia(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Timezone",t.meetingForm.controls.TimeZone.errors),F)}}function Ma(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Restriction",t.meetingForm.controls.Restriction.errors),F)}}function wa(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Description",t.meetingForm.controls.Story.errors),F)}}function Ta(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.meetingFormValidation("Street address",(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.errors),F)}}function ka(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.meetingFormValidation("City",(e=t.meetingForm.controls.Location.get("City"))==null?null:e.errors),F)}}function Ea(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.meetingFormValidation("State/Province",(e=t.meetingForm.controls.Location.get("StateProvince"))==null?null:e.errors),F)}}function Fa(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.meetingFormValidation("Postal Code",(e=t.meetingForm.controls.Location.get("Zipcode"))==null?null:e.errors),F)}}function Da(i,o){if(i&1&&(a(0,"ul",49),u(1,"li",50),r()),i&2){let t=p(2);l(),m("innerHtml",t.meetingFormValidation("Tag",t.meetingForm.controls.Tags.errors),F)}}function Na(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.RecurrenceId),l(),y(" ",t.Recurrence," ")}}function La(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.DayId),l(),y(" ",t.Day," ")}}function Pa(i,o){if(i&1&&(a(0,"option",51),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.HourId),l(),y(" ",t.Hour," ")}}function Aa(i,o){if(i&1){let t=x();a(0,"form",7),h("ngSubmit",function(){C(t);let n=p();return b(n.onSaveMeeting())}),a(1,"div",4)(2,"div",8),u(3,"input",9),f(4,ha,2,1,"ul",10),r()(),a(5,"div",4)(6,"div",11)(7,"div",4)(8,"div",11)(9,"div",8)(10,"label",12),c(11,"Start Date"),r(),a(12,"input",13),h("change",function(){C(t);let n=p();return b(n.onDateChange())}),r(),f(13,_a,2,1,"ul",10),r()(),a(14,"div",11)(15,"div",8)(16,"label",12),c(17,"End Date"),r(),a(18,"input",14),h("change",function(){C(t);let n=p();return b(n.onDateChange())}),r(),f(19,va,2,1,"ul",10),r()(),a(20,"div",15)(21,"div",16),c(22),r()()()(),a(23,"div",11)(24,"div",4)(25,"div",11)(26,"div",8)(27,"label",12),c(28,"Start Time"),r(),a(29,"select",17),h("change",function(){C(t);let n=p();return b(n.onTimeChange())}),a(30,"option",18),c(31,"Select"),r(),f(32,Ca,2,2,"option",19),r(),f(33,ba,2,1,"ul",10),r()(),a(34,"div",11)(35,"div",8)(36,"label",12),c(37,"End Time"),r(),a(38,"select",20),h("change",function(){C(t);let n=p();return b(n.onTimeChange())}),a(39,"option",18),c(40,"Select"),r(),f(41,xa,2,2,"option",19),r(),f(42,ya,2,1,"ul",10),r()(),a(43,"div",15)(44,"div",16),c(45),r()()()()(),a(46,"div",4)(47,"div",21)(48,"div",4)(49,"div",21)(50,"div",8)(51,"select",22)(52,"option",18),c(53,"Select Timezone"),r(),f(54,Sa,2,2,"option",19),r(),f(55,Ia,2,1,"ul",10),r()(),a(56,"div",21)(57,"div",23)(58,"div",8)(59,"div",24),u(60,"input",25),a(61,"label",26),c(62,"Is Public"),r()()()()()()(),a(63,"div",21)(64,"div",8),u(65,"input",27),f(66,Ma,2,1,"ul",10),r()()(),a(67,"div",4)(68,"div",8),u(69,"textarea",28),f(70,wa,2,1,"ul",10),r(),u(71,"input",29),r(),a(72,"div",4)(73,"div",8)(74,"p",30)(75,"strong"),c(76,"Location/Address"),r()()()(),a(77,"div",4)(78,"div",31)(79,"div",4)(80,"div",2)(81,"div",8),u(82,"input",32),f(83,Ta,2,1,"ul",10),r(),u(84,"input",33),r()(),a(85,"div",4)(86,"div",34)(87,"div",8),u(88,"input",35),f(89,ka,2,1,"ul",10),r()(),a(90,"div",34)(91,"div",8),u(92,"input",36),f(93,Ea,2,1,"ul",10),r()(),a(94,"div",34)(95,"div",8),u(96,"input",37),f(97,Fa,2,1,"ul",10),r()()()()(),a(98,"div",4)(99,"div",8),u(100,"input",38),f(101,Da,2,1,"ul",10),r(),a(102,"div",8)(103,"p",30)(104,"strong"),c(105,"Settings"),r()()()(),a(106,"div",4)(107,"div",11)(108,"div",39)(109,"p"),c(110,"Recurrence"),r(),a(111,"div",11)(112,"div",8)(113,"select",40),h("change",function(){C(t);let n=p();return b(n.recurringChanged())}),a(114,"option",18),c(115,"Select"),r(),f(116,Na,2,2,"option",19),r()()(),a(117,"div",11)(118,"div",8)(119,"input",41),h("change",function(){C(t);let n=p();return b(n.onRecurringDateChange())}),r()()(),a(120,"div",15)(121,"div",16),c(122),r()()()(),a(123,"div",11)(124,"div",42)(125,"p"),c(126,"Reminders"),r(),a(127,"div",11)(128,"div",8)(129,"select",43)(130,"option",18),c(131,"Select Days"),r(),f(132,La,2,2,"option",19),r()()(),a(133,"div",11)(134,"div",8)(135,"select",44)(136,"option",18),c(137,"Select Hours"),r(),f(138,Pa,2,2,"option",19),r()()()()()(),u(139,"input",45),a(140,"div",46)(141,"button",47),h("click",function(){C(t);let n=p();return b(n.openConfirmDeleteModal())}),c(142," Delete "),r(),a(143,"button",48),c(144,"Save"),r()()()}if(i&2){let t=p(),e,n,s,d;m("formGroup",t.meetingForm),l(4),m("ngIf",t.meetingForm.controls.Title.invalid&&(t.meetingForm.controls.Title.dirty||t.meetingForm.controls.Title.touched)),l(9),m("ngIf",t.meetingForm.controls.StartDate.invalid&&(t.meetingForm.controls.StartDate.dirty||t.meetingForm.controls.StartDate.touched)),l(6),m("ngIf",t.meetingForm.controls.EndDate.invalid&&(t.meetingForm.controls.EndDate.dirty||t.meetingForm.controls.EndDate.touched)),l(3),M(t.meetingDateError),l(10),m("ngForOf",t.iTime),l(),m("ngIf",t.meetingForm.controls.StartTime.invalid&&(t.meetingForm.controls.StartTime.dirty||t.meetingForm.controls.StartTime.touched)),l(8),m("ngForOf",t.iTime),l(),m("ngIf",t.meetingForm.controls.EndTime.invalid&&(t.meetingForm.controls.EndTime.dirty||t.meetingForm.controls.EndTime.touched)),l(3),M(t.meetingTimeError),l(9),m("ngForOf",t.countryTimezone),l(),m("ngIf",t.meetingForm.controls.TimeZone.invalid&&(t.meetingForm.controls.TimeZone.dirty||t.meetingForm.controls.TimeZone.touched)),l(11),m("ngIf",t.meetingForm.controls.Restriction.invalid&&(t.meetingForm.controls.Restriction.dirty||t.meetingForm.controls.Restriction.touched)),l(4),m("ngIf",t.meetingForm.controls.Story.invalid&&(t.meetingForm.controls.Story.dirty||t.meetingForm.controls.Story.touched)),l(13),m("ngIf",(t.meetingForm.controls.Location==null||(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.invalid)&&(((e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.dirty)||(t.meetingForm.controls.Location==null||(e=t.meetingForm.controls.Location.get("Street1"))==null?null:e.touched))),l(6),m("ngIf",(t.meetingForm.controls.Location==null||(n=t.meetingForm.controls.Location.get("City"))==null?null:n.invalid)&&(((n=t.meetingForm.controls.Location.get("City"))==null?null:n.dirty)||(t.meetingForm.controls.Location==null||(n=t.meetingForm.controls.Location.get("City"))==null?null:n.touched))),l(4),m("ngIf",(t.meetingForm.controls.Location==null||(s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.invalid)&&(((s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.dirty)||(t.meetingForm.controls.Location==null||(s=t.meetingForm.controls.Location.get("StateProvince"))==null?null:s.touched))),l(4),m("ngIf",(t.meetingForm.controls.Location==null||(d=t.meetingForm.controls.Location.get("Zipcode"))==null?null:d.invalid)&&(((d=t.meetingForm.controls.Location.get("Zipcode"))==null?null:d.dirty)||(t.meetingForm.controls.Location==null||(d=t.meetingForm.controls.Location.get("Zipcode"))==null?null:d.touched))),l(4),m("ngIf",t.meetingForm.controls.Tags.invalid&&(t.meetingForm.controls.Tags.dirty||t.meetingForm.controls.Tags.touched)),l(15),m("ngForOf",t.iRecurrence),l(6),y(" ",t.meetingRecurringEndDateError," "),l(10),m("ngForOf",t.iDayReminder),l(6),m("ngForOf",t.iHourlyReminder)}}function Va(i,o){if(i&1){let t=x();a(0,"div",52)(1,"p",53),c(2,"Are you sure you want to delete this Meet-N-Pray?"),r()(),a(3,"div",54)(4,"button",55),h("click",function(){let s=C(t).$implicit,d=p();return b(d.closeDeleteMeetingModal(s))}),c(5," No "),r(),a(6,"button",56),h("click",function(){let s=C(t).$implicit,d=p();return b(d.confirmDeleteMeeting(s))}),c(7," Yes "),r()()}}var tn=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O){this.lookupService=e,this.timeZoneService=n,this.helperService=s,this.meetingService=d,this.authService=_,this.formBuilder=w,this.activatedRoute=A,this.router=q,this.deleteModal=O,this.iTime=[],this.iRecurrence=[],this.iDayReminder=[],this.iHourlyReminder=[],this.countryTimezone=[],this.iMeeting={MeetingId:0,AffiliationLookupId:0,UserId:0,Title:"",Story:"",Location:{Street1:"",Street2:"",City:"",StateProvince:"",Country:"",Zipcode:""},Tags:"",StartTime:"",EndTime:"",StartDate:"",EndDate:"",Banner:"",Confidential:{IsPublic:!0,IsOnline:!1,Hybrid:!1,InPerson:!1},Recurrence:{Recurring:"",RecurringEndDate:""},Reminders:{Days:"",Hours:""},Restriction:"",TimeZone:"",Inappropriate:!1,CreatedDate:"",ModifiedDate:""},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id")})}ngOnChanges(e){return k(this,null,function*(){if(e.meeting&&e.meeting.currentValue){let n=[...this.meeting];if(this.data=n[0],this.data?.MeetingId){let s=JSON.parse(this.data?.Recurrence),d=JSON.parse(this.data?.Confidential),_=JSON.parse(this.data?.Reminders),w={Recurring:s?.Recurring,RecurringEndDate:s?.RecurringEndDate?this.formatDateToInput(s?.RecurringEndDate):null},A={IsPublic:d.IsPublic,IsOnline:d.IsOnline,InPerson:d.InPerson,Hybrid:d.Hybrid},q={Days:_.Days,Hours:_.Hours},O={Street1:this.data?.Street1,Street2:this.data?.Street2,City:this.data?.City,StateProvince:this.data?.StateProvince,Country:this.data?.Country,Zipcode:this.data?.Zipcode};this.iMeeting.MeetingId=this.data?.MeetingId,this.iMeeting.AffiliationLookupId=this.data?.AffiliationLookupId,this.iMeeting.UserId=this.data?.UserId,this.iMeeting.Title=this.data?.Title,this.iMeeting.Story=this.data?.Story,this.iMeeting.Location=O,this.iMeeting.Tags=this.data?.Tags===""?"":this.data?.Tags?.replaceAll("|",","),this.iMeeting.StartTime=this.data?.StartTime,this.iMeeting.EndTime=this.data?.EndTime,this.iMeeting.StartDate=this.formatDateToInput(this.data?.StartDate),this.iMeeting.EndDate=this.formatDateToInput(this.data?.EndDate),this.iMeeting.Banner=this.data?.Banner,this.iMeeting.Recurrence=w,this.iMeeting.Reminders=q,this.iMeeting.Confidential=A,this.iMeeting.Restriction=this.data?.Restriction,this.iMeeting.TimeZone=this.data?.TimeZone,this.iMeeting.Inappropriate=this.data?.Inappropriate,this.iMeeting.CreatedDate=this.data?.CreatedDate,this.iMeeting.ModifiedDate=this.data?.ModifiedDate}this.iTime=this.helperService.getTime(),this.iHourlyReminder=this.helperService.getHourlyReminder(),this.iDayReminder=this.helperService.getDayReminder(),this.iRecurrence=this.helperService.getReccurence(),yield this.getCountryTimezone("US"),this.buildMeetingForm()}})}formatDateToInput(e){let n=e+"0";return new Date(e).toISOString().split("T")[0]}buildMeetingForm(){let e="^#[a-zA-Z]+(,#[a-zA-Z]+)*$";this.meetingForm=this.formBuilder.group({MeetingId:[this.iMeeting.MeetingId],Title:[this.iMeeting.Title,[v.required,v.maxLength(80),v.minLength(4)]],Story:[this.iMeeting.Story,[v.required,v.maxLength(500),v.minLength(100)]],Tags:[this.iMeeting.Tags,[v.pattern(e)]],Location:this.formBuilder.group({Street1:[this.iMeeting.Location?.Street1,[v.required,v.maxLength(80),v.minLength(4)]],Street2:[this.iMeeting.Location?.Street2,[v.maxLength(10)]],City:[this.iMeeting.Location?.City,[v.required,v.maxLength(50),v.minLength(4)]],StateProvince:[this.iMeeting.Location?.StateProvince,[v.maxLength(50)]],Country:["US",[v.required]],Zipcode:[this.iMeeting.Location?.City,[v.maxLength(20),v.minLength(5)]]}),StartTime:[this.iMeeting.StartTime,[v.required]],EndTime:[this.iMeeting.EndTime,[v.required]],StartDate:[this.iMeeting.StartDate,[v.required,this.validateDate]],EndDate:[this.iMeeting.EndDate,[v.required,this.validateDate]],TimeZone:[this.iMeeting.TimeZone,[v.required]],Banner:[this.iMeeting.Banner],Recurrence:this.formBuilder.group({Recurring:[this.iMeeting.Recurrence?.Recurring],RecurringEndDate:[this.iMeeting.Recurrence?.RecurringEndDate]}),Reminders:this.formBuilder.group({Days:[this.iMeeting.Reminders?.Days],Hours:[this.iMeeting.Reminders?.Hours]}),Confidential:this.formBuilder.group({IsPublic:[this.iMeeting.Confidential?.IsPublic],IsOnline:[this.iMeeting.Confidential?.IsOnline],InPerson:[this.iMeeting.Confidential?.InPerson],Hybrid:[this.iMeeting.Confidential?.Hybrid]}),Restriction:[this.iMeeting.Restriction]})}meetingFormValidation(e,n){return this.helperService.validateForm(e,n)}validateDate(e){let n=e.value;return n===null||n===""||n<="1850-01-01"?{required:!0}:null}onDateChange(){let e=this.meetingForm.get("StartDate")?.value,n=this.meetingForm.get("EndDate")?.value,s=new Date().toISOString().split("T")[0];if(this.meetingDateError="",n<e&&n!==""){this.meetingDateError="End date cannot be less than start date.";return}if(e<s&&e!==""){this.meetingDateError="Start date cannot be less than today date.";return}}onTimeChange(){let e=this.meetingForm.get("StartTime")?.value,n=this.meetingForm.get("EndTime")?.value;if(this.meetingTimeError="",e===n&&n!==""){this.meetingTimeError="Start time cannot be equal to end time.";return}if(n<e&&n!==""){this.meetingTimeError="End time cannot be less than start time.";return}}recurringChanged(){let e=this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,n=this.meetingForm.controls.Recurrence?.get("Recurring")?.value;if(this.meetingRecurringEndDateError="",e===""&&n!==""){this.meetingRecurringEndDateError="Recurrence end date is required";return}}onRecurringDateChange(){this.meetingRecurringEndDateError="";let e=this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,n=this.meetingForm.get("EndDate")?.value;(n===e||e<n)&&(this.meetingRecurringEndDateError="Recurring date cannot be equal or less than meeting end date")}getCountryTimezone(e){this.timeZoneService.getCountryTimezone(e).pipe(T(n=>(this.countryTimezone=n,this.countryTimezone))).subscribe({next:n=>{console.log("Retrived Timezones")},error:n=>console.log("Error Retrieving TimeZones: "+n)})}onSaveMeeting(){return k(this,null,function*(){if(!this.meetingForm.valid)return this.meetingForm.markAllAsTouched();let e=this.meetingForm.get("Tags")?.value;this.iMeeting.MeetingId=this.meetingForm.get("MeetingId")?.value,this.iMeeting.UserId=this.iContact?.UserId??0,this.iMeeting.AffiliationLookupId=this.iContact.AffiliationLookupId,this.iMeeting.Tags=e.length>0?e.split(","):[],this.iMeeting.Title=this.meetingForm.get("Title")?.value,this.iMeeting.Story=this.meetingForm.get("Story")?.value,this.iMeeting.StartDate=this.meetingForm.get("StartDate")?.value,this.iMeeting.EndDate=this.meetingForm.get("EndDate")?.value,this.iMeeting.StartTime=this.meetingForm.get("StartTime")?.value,this.iMeeting.EndTime=this.meetingForm.get("EndTime")?.value,this.iMeeting.Restriction=this.meetingForm.get("Restriction")?.value,this.iMeeting.TimeZone=this.meetingForm.get("TimeZone")?.value,this.iMeeting.Banner=this.meetingForm.get("Banner")?.value,this.iMeeting.Location={Street1:this.meetingForm.controls.Location?.get("Street1")?.value,Street2:this.meetingForm.controls.Location?.get("Street2")?.value,City:this.meetingForm.controls.Location?.get("City")?.value,StateProvince:this.meetingForm.controls.Location?.get("StateProvince")?.value,Country:this.meetingForm.controls.Location?.get("Country")?.value,Zipcode:this.meetingForm.controls.Location?.get("Zipcode")?.value},this.iMeeting.Recurrence={RecurringEndDate:this.meetingForm.controls.Recurrence?.get("RecurringEndDate")?.value,Recurring:this.meetingForm.controls.Recurrence?.get("Recurring")?.value},this.iMeeting.Reminders={Days:this.meetingForm.controls.Reminders?.get("Days")?.value,Hours:this.meetingForm.controls.Reminders?.get("Hours")?.value},this.iMeeting.Confidential={InPerson:this.meetingForm.controls.Confidential?.get("InPerson")?.value,IsOnline:this.meetingForm.controls.Confidential?.get("IsOnline")?.value,IsPublic:this.meetingForm.controls.Confidential?.get("IsPublic")?.value,Hybrid:this.meetingForm.controls.Confidential?.get("Hybrid")?.value},this.meetingService.updateMeeting(this.iMeeting).pipe(T(n=>(this.iMeeting=n,V(this.iMeeting)))).subscribe({next:n=>{console.log("Updated Meeting")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created meeting prayer.")}})})}openConfirmDeleteModal(){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(e=>{e==="confirmed"&&this.onDeleteMeeting()},e=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteMeeting(){this.meeting?.MeetingId-0>0&&this.meetingService.deleteMeeting(this.meeting?.MeetingId).pipe(T(e=>V(e))).subscribe({next:e=>{console.log("Delete Meeting")},error:e=>console.log("Error deleting meeting"),complete:()=>console.log("Completed deleting record")})}};o.\u0275fac=function(n){return new(n||o)(g(xe),g(Ii),g(H),g(le),g(D),g(Ve),g(se),g(U),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-editmeeting"]],viewQuery:function(n,s){if(n&1&&Ie(ga,5),n&2){let d;Me(d=we())&&(s.confirmDeleteTemplate=d.first)}},inputs:{meeting:"meeting"},standalone:!0,features:[et,I],decls:11,vars:1,consts:[[1,"container"],[1,"row","mt-4","mb-3"],[1,"col-12"],[1,"fs-normal","d-flex","justify-content-center"],[1,"row"],["novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["type","text","formControlName","Title","placeholder","Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","date","formControlName","StartDate","name","StartDate","maxlength","20","placeholder","Enter Start Date",1,"form-control",3,"change"],["type","date","formControlName","EndDate","name","EndDate","maxlength","20","placeholder","Enter End Date",1,"form-control",3,"change"],[1,"mb-3"],[1,"text-danger"],["formControlName","StartTime",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","EndTime",1,"form-select",3,"change"],[1,"col-auto"],["formControlName","TimeZone","name","TimeZone",1,"form-select"],["formGroupName","Confidential"],[1,"form-check","form-check-inline"],["type","checkbox","formControlName","IsPublic","name","IsPublic",1,"form-check-input"],[1,"form-check-label"],["type","text","formControlName","Restriction","placeholder","Restrictions",1,"form-control"],["rows","4","formControlName","Story","placeholder","Tell people about this meet-n-pray",1,"form-control"],["type","hidden","formControlName","MeetingId","placeholder","MeetingId"],[1,"fs-6","text-center"],["formGroupName","Location"],["type","text","formControlName","Street1","name","Street1","placeholder","Location/Street address",1,"form-control"],["type","hidden","formControlName","Country",1,"form-control"],[1,"col-4"],["type","text","formControlName","City","name","City","placeholder","City",1,"form-control"],["type","text","formControlName","StateProvince","name","StateProvince","placeholder","State/Province",1,"form-control"],["type","text","formControlName","Zipcode","name","Zipcode","placeholder","Postal Code",1,"form-control"],["type","text","formControlName","Tags","placeholder","#tag meet-n-pray. A word start with # and should be comma separated: #healing,#redemption",1,"form-control"],["formGroupName","Recurrence",1,"row"],["formControlName","Recurring","name","Recurring",1,"form-select",3,"change"],["type","date","formControlName","RecurringEndDate","name","RecurringEndDate","maxlength","20","placeholder","Enter Recurring End Date",1,"form-control",3,"change"],["formGroupName","Reminders",1,"row"],["formControlName","Days","name","Days",1,"form-select"],["formControlName","Hours","name","Hours",1,"form-select"],["type","hidden","formControlName","MeetingId","name","MeetingId",1,"form-control"],[1,"d-flex","justify-content-center","mb-3"],[1,"btn","btn-danger","col-md-2","me-4",3,"click"],[1,"btn","btn-primary","col-md-2"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],[3,"ngValue"],[1,"modal-body"],[1,"fs-5"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"strong"),c(5,"Manage meeting"),r()()()(),a(6,"div",4)(7,"div",2),f(8,Aa,145,23,"form",5),r()()(),f(9,Va,8,0,"ng-template",null,6,J)),n&2&&(l(8),m("ngIf",s.meetingForm))},dependencies:[B,ne,Ee,Fe,ee,be,ke,te,ie,St,oe,re,Ct,E,j,P,It]});let i=o;return i})();var Ra=Math.pow(10,8)*24*60*60*1e3,kd=-Ra,Rt=6048e5,nn=864e5,Yt=6e4,Gt=36e5;var qa=3600;var on=qa*24,Ed=on*7,Qa=on*365.2425,Oa=Qa/12,Fd=Oa*3,Zt=Symbol.for("constructDateFrom");function fe(i,o){return typeof i=="function"?i(o):i&&typeof i=="object"&&Zt in i?i[Zt](o):i instanceof Date?new i.constructor(o):new Date(o)}function Y(i,o){return fe(o||i,i)}var ja={};function Be(){return ja}function Oe(i,o){let t=Be(),e=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=Y(i,o?.in),s=n.getDay(),d=(s<e?7:0)+s-e;return n.setDate(n.getDate()-d),n.setHours(0,0,0,0),n}function Xe(i,o){return Oe(i,gt(ft({},o),{weekStartsOn:1}))}function qt(i,o){let t=Y(i,o?.in),e=t.getFullYear(),n=fe(t,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);let s=Xe(n),d=fe(t,0);d.setFullYear(e,0,4),d.setHours(0,0,0,0);let _=Xe(d);return t.getTime()>=s.getTime()?e+1:t.getTime()>=_.getTime()?e:e-1}function Xt(i){let o=Y(i),t=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return t.setUTCFullYear(o.getFullYear()),+i-+t}function rn(i,...o){let t=fe.bind(null,i||o.find(e=>typeof e=="object"));return o.map(t)}function Jt(i,o){let t=Y(i,o?.in);return t.setHours(0,0,0,0),t}function an(i,o,t){let[e,n]=rn(t?.in,i,o),s=Jt(e),d=Jt(n),_=+s-Xt(s),w=+d-Xt(d);return Math.round((_-w)/nn)}function sn(i,o){let t=qt(i,o),e=fe(o?.in||i,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),Xe(e)}function ln(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function cn(i){return!(!ln(i)&&typeof i!="number"||isNaN(+Y(i)))}function mn(i,o){let t=Y(i,o?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Ua={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dn=(i,o,t)=>{let e,n=Ua[i];return typeof n=="string"?e=n:o===1?e=n.one:e=n.other.replace("{{count}}",o.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function Qt(i){return(o={})=>{let t=o.width?String(o.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}var Ha={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$a={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ba={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pn={date:Qt({formats:Ha,defaultWidth:"full"}),time:Qt({formats:$a,defaultWidth:"full"}),dateTime:Qt({formats:Ba,defaultWidth:"full"})};var za={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},un=(i,o,t,e)=>za[i];function st(i){return(o,t)=>{let e=t?.context?String(t.context):"standalone",n;if(e==="formatting"&&i.formattingValues){let d=i.defaultFormattingWidth||i.defaultWidth,_=t?.width?String(t.width):d;n=i.formattingValues[_]||i.formattingValues[d]}else{let d=i.defaultWidth,_=t?.width?String(t.width):i.defaultWidth;n=i.values[_]||i.values[d]}let s=i.argumentCallback?i.argumentCallback(o):o;return n[s]}}var Wa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ya={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ga={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Za={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ja={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ka=(i,o)=>{let t=Number(i),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},fn={ordinalNumber:Ka,era:st({values:Wa,defaultWidth:"wide"}),quarter:st({values:Ya,defaultWidth:"wide",argumentCallback:i=>i-1}),month:st({values:Ga,defaultWidth:"wide"}),day:st({values:Za,defaultWidth:"wide"}),dayPeriod:st({values:Xa,defaultWidth:"wide",formattingValues:Ja,defaultFormattingWidth:"wide"})};function lt(i){return(o,t={})=>{let e=t.width,n=e&&i.matchPatterns[e]||i.matchPatterns[i.defaultMatchWidth],s=o.match(n);if(!s)return null;let d=s[0],_=e&&i.parsePatterns[e]||i.parsePatterns[i.defaultParseWidth],w=Array.isArray(_)?ts(_,O=>O.test(d)):es(_,O=>O.test(d)),A;A=i.valueCallback?i.valueCallback(w):w,A=t.valueCallback?t.valueCallback(A):A;let q=o.slice(d.length);return{value:A,rest:q}}}function es(i,o){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&o(i[t]))return t}function ts(i,o){for(let t=0;t<i.length;t++)if(o(i[t]))return t}function gn(i){return(o,t={})=>{let e=o.match(i.matchPattern);if(!e)return null;let n=e[0],s=o.match(i.parsePattern);if(!s)return null;let d=i.valueCallback?i.valueCallback(s[0]):s[0];d=t.valueCallback?t.valueCallback(d):d;let _=o.slice(n.length);return{value:d,rest:_}}}var is=/^(\d+)(th|st|nd|rd)?/i,ns=/\d+/i,os={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rs={any:[/^b/i,/^(a|c)/i]},as={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ss={any:[/1/i,/2/i,/3/i,/4/i]},ls={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ms={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ds={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ps={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},us={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hn={ordinalNumber:gn({matchPattern:is,parsePattern:ns,valueCallback:i=>parseInt(i,10)}),era:lt({matchPatterns:os,defaultMatchWidth:"wide",parsePatterns:rs,defaultParseWidth:"any"}),quarter:lt({matchPatterns:as,defaultMatchWidth:"wide",parsePatterns:ss,defaultParseWidth:"any",valueCallback:i=>i+1}),month:lt({matchPatterns:ls,defaultMatchWidth:"wide",parsePatterns:cs,defaultParseWidth:"any"}),day:lt({matchPatterns:ms,defaultMatchWidth:"wide",parsePatterns:ds,defaultParseWidth:"any"}),dayPeriod:lt({matchPatterns:ps,defaultMatchWidth:"any",parsePatterns:us,defaultParseWidth:"any"})};var Kt={code:"en-US",formatDistance:dn,formatLong:pn,formatRelative:un,localize:fn,match:hn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _n(i,o){let t=Y(i,o?.in);return an(t,mn(t))+1}function vn(i,o){let t=Y(i,o?.in),e=+Xe(t)-+sn(t);return Math.round(e/Rt)+1}function Ot(i,o){let t=Y(i,o?.in),e=t.getFullYear(),n=Be(),s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,d=fe(o?.in||i,0);d.setFullYear(e+1,0,s),d.setHours(0,0,0,0);let _=Oe(d,o),w=fe(o?.in||i,0);w.setFullYear(e,0,s),w.setHours(0,0,0,0);let A=Oe(w,o);return+t>=+_?e+1:+t>=+A?e:e-1}function Cn(i,o){let t=Be(),e=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,n=Ot(i,o),s=fe(o?.in||i,0);return s.setFullYear(n,0,e),s.setHours(0,0,0,0),Oe(s,o)}function bn(i,o){let t=Y(i,o?.in),e=+Oe(t,o)-+Cn(t,o);return Math.round(e/Rt)+1}function $(i,o){let t=i<0?"-":"",e=Math.abs(i).toString().padStart(o,"0");return t+e}var je={y(i,o){let t=i.getFullYear(),e=t>0?t:1-t;return $(o==="yy"?e%100:e,o.length)},M(i,o){let t=i.getMonth();return o==="M"?String(t+1):$(t+1,2)},d(i,o){return $(i.getDate(),o.length)},a(i,o){let t=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,o){return $(i.getHours()%12||12,o.length)},H(i,o){return $(i.getHours(),o.length)},m(i,o){return $(i.getMinutes(),o.length)},s(i,o){return $(i.getSeconds(),o.length)},S(i,o){let t=o.length,e=i.getMilliseconds(),n=Math.trunc(e*Math.pow(10,t-3));return $(n,o.length)}};var ct={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ei={G:function(i,o,t){let e=i.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(i,o,t){if(o==="yo"){let e=i.getFullYear(),n=e>0?e:1-e;return t.ordinalNumber(n,{unit:"year"})}return je.y(i,o)},Y:function(i,o,t,e){let n=Ot(i,e),s=n>0?n:1-n;if(o==="YY"){let d=s%100;return $(d,2)}return o==="Yo"?t.ordinalNumber(s,{unit:"year"}):$(s,o.length)},R:function(i,o){let t=qt(i);return $(t,o.length)},u:function(i,o){let t=i.getFullYear();return $(t,o.length)},Q:function(i,o,t){let e=Math.ceil((i.getMonth()+1)/3);switch(o){case"Q":return String(e);case"QQ":return $(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(i,o,t){let e=Math.ceil((i.getMonth()+1)/3);switch(o){case"q":return String(e);case"qq":return $(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(i,o,t){let e=i.getMonth();switch(o){case"M":case"MM":return je.M(i,o);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(i,o,t){let e=i.getMonth();switch(o){case"L":return String(e+1);case"LL":return $(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(i,o,t,e){let n=bn(i,e);return o==="wo"?t.ordinalNumber(n,{unit:"week"}):$(n,o.length)},I:function(i,o,t){let e=vn(i);return o==="Io"?t.ordinalNumber(e,{unit:"week"}):$(e,o.length)},d:function(i,o,t){return o==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):je.d(i,o)},D:function(i,o,t){let e=_n(i);return o==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):$(e,o.length)},E:function(i,o,t){let e=i.getDay();switch(o){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(i,o,t,e){let n=i.getDay(),s=(n-e.weekStartsOn+8)%7||7;switch(o){case"e":return String(s);case"ee":return $(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(n,{width:"short",context:"formatting"});case"eeee":default:return t.day(n,{width:"wide",context:"formatting"})}},c:function(i,o,t,e){let n=i.getDay(),s=(n-e.weekStartsOn+8)%7||7;switch(o){case"c":return String(s);case"cc":return $(s,o.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(n,{width:"narrow",context:"standalone"});case"cccccc":return t.day(n,{width:"short",context:"standalone"});case"cccc":default:return t.day(n,{width:"wide",context:"standalone"})}},i:function(i,o,t){let e=i.getDay(),n=e===0?7:e;switch(o){case"i":return String(n);case"ii":return $(n,o.length);case"io":return t.ordinalNumber(n,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(i,o,t){let n=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(i,o,t){let e=i.getHours(),n;switch(e===12?n=ct.noon:e===0?n=ct.midnight:n=e/12>=1?"pm":"am",o){case"b":case"bb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(i,o,t){let e=i.getHours(),n;switch(e>=17?n=ct.evening:e>=12?n=ct.afternoon:e>=4?n=ct.morning:n=ct.night,o){case"B":case"BB":case"BBB":return t.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(i,o,t){if(o==="ho"){let e=i.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return je.h(i,o)},H:function(i,o,t){return o==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):je.H(i,o)},K:function(i,o,t){let e=i.getHours()%12;return o==="Ko"?t.ordinalNumber(e,{unit:"hour"}):$(e,o.length)},k:function(i,o,t){let e=i.getHours();return e===0&&(e=24),o==="ko"?t.ordinalNumber(e,{unit:"hour"}):$(e,o.length)},m:function(i,o,t){return o==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):je.m(i,o)},s:function(i,o,t){return o==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):je.s(i,o)},S:function(i,o){return je.S(i,o)},X:function(i,o,t){let e=i.getTimezoneOffset();if(e===0)return"Z";switch(o){case"X":return yn(e);case"XXXX":case"XX":return Je(e);case"XXXXX":case"XXX":default:return Je(e,":")}},x:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"x":return yn(e);case"xxxx":case"xx":return Je(e);case"xxxxx":case"xxx":default:return Je(e,":")}},O:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+xn(e,":");case"OOOO":default:return"GMT"+Je(e,":")}},z:function(i,o,t){let e=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+xn(e,":");case"zzzz":default:return"GMT"+Je(e,":")}},t:function(i,o,t){let e=Math.trunc(+i/1e3);return $(e,o.length)},T:function(i,o,t){return $(+i,o.length)}};function xn(i,o=""){let t=i>0?"-":"+",e=Math.abs(i),n=Math.trunc(e/60),s=e%60;return s===0?t+String(n):t+String(n)+o+$(s,2)}function yn(i,o){return i%60===0?(i>0?"-":"+")+$(Math.abs(i)/60,2):Je(i,o)}function Je(i,o=""){let t=i>0?"-":"+",e=Math.abs(i),n=$(Math.trunc(e/60),2),s=$(e%60,2);return t+n+o+s}var Sn=(i,o)=>{switch(i){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},In=(i,o)=>{switch(i){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},fs=(i,o)=>{let t=i.match(/(P+)(p+)?/)||[],e=t[1],n=t[2];if(!n)return Sn(i,o);let s;switch(e){case"P":s=o.dateTime({width:"short"});break;case"PP":s=o.dateTime({width:"medium"});break;case"PPP":s=o.dateTime({width:"long"});break;case"PPPP":default:s=o.dateTime({width:"full"});break}return s.replace("{{date}}",Sn(e,o)).replace("{{time}}",In(n,o))},Mn={p:In,P:fs};var gs=/^D+$/,hs=/^Y+$/,_s=["D","DD","YY","YYYY"];function wn(i){return gs.test(i)}function Tn(i){return hs.test(i)}function kn(i,o,t){let e=vs(i,o,t);if(console.warn(e),_s.includes(i))throw new RangeError(e)}function vs(i,o,t){let e=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${o}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Cs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xs=/^'([^]*?)'?$/,ys=/''/g,Ss=/[a-zA-Z]/;function En(i,o,t){let e=Be(),n=t?.locale??e.locale??Kt,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,d=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,_=Y(i,t?.in);if(!cn(_))throw new RangeError("Invalid time value");let w=o.match(bs).map(q=>{let O=q[0];if(O==="p"||O==="P"){let Pe=Mn[O];return Pe(q,n.formatLong)}return q}).join("").match(Cs).map(q=>{if(q==="''")return{isToken:!1,value:"'"};let O=q[0];if(O==="'")return{isToken:!1,value:Is(q)};if(ei[O])return{isToken:!0,value:q};if(O.match(Ss))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:q}});n.localize.preprocessor&&(w=n.localize.preprocessor(_,w));let A={firstWeekContainsDate:s,weekStartsOn:d,locale:n};return w.map(q=>{if(!q.isToken)return q.value;let O=q.value;(!t?.useAdditionalWeekYearTokens&&Tn(O)||!t?.useAdditionalDayOfYearTokens&&wn(O))&&kn(O,o,String(i));let Pe=ei[O[0]];return Pe(_,O,n.localize,A)}).join("")}function Is(i){let o=i.match(xs);return o?o[1].replace(ys,"'"):i}function Fn(i,o){let t=()=>fe(o?.in,NaN),e=o?.additionalDigits??2,n=ks(i),s;if(n.date){let A=Es(n.date,e);s=Fs(A.restDateString,A.year)}if(!s||isNaN(+s))return t();let d=+s,_=0,w;if(n.time&&(_=Ds(n.time),isNaN(_)))return t();if(n.timezone){if(w=Ns(n.timezone),isNaN(w))return t()}else{let A=new Date(d+_),q=Y(0,o?.in);return q.setFullYear(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()),q.setHours(A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds(),A.getUTCMilliseconds()),q}return Y(d+_+w,o?.in)}var jt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ms=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ws=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ts=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ks(i){let o={},t=i.split(jt.dateTimeDelimiter),e;if(t.length>2)return o;if(/:/.test(t[0])?e=t[0]:(o.date=t[0],e=t[1],jt.timeZoneDelimiter.test(o.date)&&(o.date=i.split(jt.timeZoneDelimiter)[0],e=i.substr(o.date.length,i.length))),e){let n=jt.timezone.exec(e);n?(o.time=e.replace(n[1],""),o.timezone=n[1]):o.time=e}return o}function Es(i,o){let t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),e=i.match(t);if(!e)return{year:NaN,restDateString:""};let n=e[1]?parseInt(e[1]):null,s=e[2]?parseInt(e[2]):null;return{year:s===null?n:s*100,restDateString:i.slice((e[1]||e[2]).length)}}function Fs(i,o){if(o===null)return new Date(NaN);let t=i.match(Ms);if(!t)return new Date(NaN);let e=!!t[4],n=pt(t[1]),s=pt(t[2])-1,d=pt(t[3]),_=pt(t[4]),w=pt(t[5])-1;if(e)return Rs(o,_,w)?Ls(o,_,w):new Date(NaN);{let A=new Date(0);return!As(o,s,d)||!Vs(o,n)?new Date(NaN):(A.setUTCFullYear(o,s,Math.max(n,d)),A)}}function pt(i){return i?parseInt(i):1}function Ds(i){let o=i.match(ws);if(!o)return NaN;let t=ti(o[1]),e=ti(o[2]),n=ti(o[3]);return qs(t,e,n)?t*Gt+e*Yt+n*1e3:NaN}function ti(i){return i&&parseFloat(i.replace(",","."))||0}function Ns(i){if(i==="Z")return 0;let o=i.match(Ts);if(!o)return 0;let t=o[1]==="+"?-1:1,e=parseInt(o[2]),n=o[3]&&parseInt(o[3])||0;return Qs(e,n)?t*(e*Gt+n*Yt):NaN}function Ls(i,o,t){let e=new Date(0);e.setUTCFullYear(i,0,4);let n=e.getUTCDay()||7,s=(o-1)*7+t+1-n;return e.setUTCDate(e.getUTCDate()+s),e}var Ps=[31,null,31,30,31,30,31,31,30,31,30,31];function Dn(i){return i%400===0||i%4===0&&i%100!==0}function As(i,o,t){return o>=0&&o<=11&&t>=1&&t<=(Ps[o]||(Dn(i)?29:28))}function Vs(i,o){return o>=1&&o<=(Dn(i)?366:365)}function Rs(i,o,t){return o>=1&&o<=53&&t>=0&&t<=6}function qs(i,o,t){return i===24?o===0&&t===0:t>=0&&t<60&&o>=0&&o<60&&i>=0&&i<25}function Qs(i,o){return o>=0&&o<=59}var Os=["confirmDelete"];function js(i,o){if(i&1&&(a(0,"ul",32),u(1,"li",33),r()),i&2){let t=p(2);l(),m("innerHtml",t.componentsFormValidation("Title",t.componentsForm.controls.Title.errors),F)}}function Us(i,o){if(i&1&&(a(0,"ul",32),u(1,"li",33),r()),i&2){let t=p(2);l(),m("innerHtml",t.componentsFormValidation("Start date",t.componentsForm.controls.StartDate.errors),F)}}function Hs(i,o){if(i&1&&(a(0,"ul",32),u(1,"li",33),r()),i&2){let t=p(2);l(),m("innerHtml",t.componentsFormValidation("End date",t.componentsForm.controls.EndDate.errors),F)}}function $s(i,o){if(i&1){let t=x();a(0,"button",34),h("click",function(){C(t);let n=p(2);return b(n.openConfirmDeleteModal(n.componentsForm.controls.MeetingComponentId.value))}),c(1," Delete "),r()}if(i&2){let t=p(2);m("disabled",t.componentsForm.invalid)}}function Bs(i,o){if(i&1){let t=x();a(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),r(),a(5,"button",6),h("click",function(){C(t);let n=p();return b(n.activeModal.dismiss("Cross click"))}),r()(),a(6,"div",7)(7,"div",8),u(8,"div",9),a(9,"div",10)(10,"div",11)(11,"div",12),u(12,"input",13),f(13,js,2,1,"ul",14),r()(),a(14,"div",11)(15,"div",15)(16,"div",12)(17,"label",16),c(18,"Start Date"),r(),a(19,"input",17),h("change",function(){C(t);let n=p();return b(n.onDateChange())}),r(),f(20,Us,2,1,"ul",14),r()(),a(21,"div",15)(22,"div",12)(23,"label",16),c(24,"End Date"),r(),a(25,"input",18),h("change",function(){C(t);let n=p();return b(n.onDateChange())}),r(),f(26,Hs,2,1,"ul",14),r()(),a(27,"div",19)(28,"div",20),c(29),r()()(),a(30,"div",11)(31,"div",21)(32,"div",11)(33,"div",21)(34,"div",22)(35,"label",23),u(36,"input",24),c(37," Publish "),r()(),u(38,"input",25)(39,"input",26)(40,"input",27),r()()()()()()(),a(41,"div",28)(42,"button",29),h("click",function(){C(t);let n=p();return b(n.activeModal.close("Close click"))}),c(43," Cancel "),r(),f(44,$s,2,1,"button",30),a(45,"button",31),h("click",function(){C(t);let n=p();return b(n.onCreateUpdateMeetingComponent())}),c(46," Save "),r()()()()}if(i&2){let t=p();m("formGroup",t.componentsForm),l(4),M(t.modalTitle),l(9),m("ngIf",t.componentsForm.controls.Title.invalid&&(t.componentsForm.controls.Title.dirty||t.componentsForm.controls.Title.touched)),l(7),m("ngIf",t.componentsForm.controls.StartDate.invalid&&(t.componentsForm.controls.StartDate.dirty||t.componentsForm.controls.StartDate.touched)),l(6),m("ngIf",t.componentsForm.controls.EndDate.invalid&&(t.componentsForm.controls.EndDate.dirty||t.componentsForm.controls.EndDate.touched)),l(3),M(t.dateError),l(15),m("ngIf",t.componentsForm.controls.MeetingComponentId.value>0),l(),m("disabled",t.componentsForm.invalid)}}function zs(i,o){if(i&1){let t=x();a(0,"div",7)(1,"p",35),c(2,"Are you sure you want to delete this meeting component?"),r()(),a(3,"div",28)(4,"button",36),h("click",function(){let s=C(t).$implicit,d=p();return b(d.closeDeleteMeetingModal(s))}),c(5," No "),r(),a(6,"button",37),h("click",function(){let s=C(t).$implicit,d=p();return b(d.confirmDeleteMeeting(s))}),c(7," Yes "),r()()}}var Ue=(()=>{let o=class o{constructor(e,n,s,d,_,w){this.activeModal=e,this.formBuilder=n,this.authService=s,this.meetingComponentService=d,this.deleteModal=_,this.helperService=w,this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1,Contributions:[],Questionnaire:[],Signups:[]},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){if(this.meetingComponentId===0)this.iComponent.MeetingId=this.meetingId,this.iComponent.ComponentLookupTypeId=this.componentLookupTypeId;else{let e=yield R(this.meetingComponentService.getMeetingComponent(this.meetingComponentId));this.iComponent=e[0]}this.buildComponentsForm()})}formatDate(e){if(e){let n=Fn(e);return isNaN(n.getTime())?null:En(n,"yyyy-MM-dd")}else return null}buildComponentsForm(){this.componentsForm=this.formBuilder.group({MeetingComponentId:[this.iComponent.MeetingComponentId],MeetingId:[this.iComponent.MeetingId],ComponentLookupTypeId:[this.iComponent.ComponentLookupTypeId],Title:[this.iComponent.Title,[v.required,v.maxLength(50),v.minLength(4)]],StartDate:[this.formatDate(this.iComponent.StartDate),[v.required,this.validateDate]],EndDate:[this.formatDate(this.iComponent.EndDate),[v.required,this.validateDate]],IsPublished:[this.iComponent.IsPublished]})}componentsFormValidation(e,n){return this.helperService.validateForm(e,n)}validateDate(e){let n=e.value;return n===null||n===""||n<="1850-01-01"?{required:!0}:null}onDateChange(){let e=this.componentsForm.get("StartDate")?.value,n=this.componentsForm.get("EndDate")?.value,s=new Date().toISOString().split("T")[0];if(this.dateError="",n<e&&n!==""){this.dateError="End date cannot be less than start date.";return}if(e<s&&e!==""){this.dateError="Start date cannot be less than today date.";return}}onCreateUpdateMeetingComponent(){if(!this.componentsForm.valid)return this.componentsForm.markAllAsTouched();this.iComponent.MeetingComponentId=this.componentsForm.get("MeetingComponentId")?.value,this.iComponent.MeetingId=this.componentsForm.get("MeetingId")?.value,this.iComponent.ComponentLookupTypeId=this.componentsForm.get("ComponentLookupTypeId")?.value,this.iComponent.Title=this.componentsForm.get("Title")?.value,this.iComponent.StartDate=this.componentsForm.get("StartDate")?.value,this.iComponent.EndDate=this.componentsForm.get("EndDate")?.value,this.iComponent.IsPublished=this.componentsForm.get("IsPublished")?.value,this.iComponent.MeetingComponentId>0?this.meetingComponentService.updateMeetingComponent(this.iComponent).pipe(T(e=>(this.iComponent=e,this.closeModal(),V(this.iComponent)))).subscribe({next:e=>{console.log("Successfully updated meeting component")},error:e=>{console.log(e)},complete:()=>{console.log("Successfully updated meeting component.")}}):this.meetingComponentService.createMeetingComponent(this.iComponent).pipe(T(e=>(this.iComponent=e,this.closeModal(),V(this.iComponent)))).subscribe({next:e=>{console.log("Successfully created meeting component.")},error:e=>{console.log(e)},complete:()=>{console.log("Successfully created meeting component.")}})}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteMeetingComponent(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteMeetingComponent(e){e>0&&this.meetingComponentService.deleteMeetingComponent(e).pipe(T(n=>(this.iComponent=n,this.closeModal(),V(this.iComponent)))).subscribe({next:n=>{console.log("Successfully deleted meeting component")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted meeting component.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(De),g(D),g(ye),g(W),g(H))},o.\u0275cmp=S({type:o,selectors:[["app-meeting-components"]],viewQuery:function(n,s){if(n&1&&Ie(Os,5),n&2){let d;Me(d=we())&&(s.confirmDeleteTemplate=d.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",componentLookupTypeId:"componentLookupTypeId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],["type","text","formControlName","Title","placeholder","Title your component",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","date","formControlName","StartDate","name","StartDate","maxlength","20","placeholder","Enter Start Date",1,"form-control",3,"change"],["type","date","formControlName","EndDate","name","EndDate","maxlength","20","placeholder","Enter End Date",1,"form-control",3,"change"],[1,"mb-3"],[1,"text-danger"],[1,"col-auto"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","IsPublished","name","IsPublished",1,"form-check-input"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","ComponentLookupTypeId","name","ComponentLookupTypeId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,Bs,47,8,"form",0)(1,zs,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.componentsForm)},dependencies:[B,ne,ee,be,te,ie,St,oe,re,E,P,It]});let i=o;return i})();function Ws(i,o){if(i&1&&(a(0,"div",23)(1,"p"),c(2),r()()),i&2){let t=p().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function Ys(i,o){if(i&1&&(a(0,"div",23)(1,"p"),c(2),r()()),i&2){let t=p(2).$implicit;l(2),y(" ",t.Contributions[0].ItemName," ")}}function Gs(i,o){if(i&1&&(a(0,"div",23)(1,"p"),c(2),de(3,"currency"),r()()),i&2){let t=p(2).$implicit;l(2),y(" ",si(3,1,t.Amount,"USD","symbol-narrow","1.2-2")," ")}}function Zs(i,o){if(i&1&&(a(0,"td"),f(1,Ys,3,1,"div",19)(2,Gs,4,6,"div",19),r()),i&2){let t=p().$implicit;l(),m("ngIf",t.Contributions[0].Category==="Items"),l(),m("ngIf",t.Contributions[0].Category==="Monetary")}}function Xs(i,o){if(i&1&&(a(0,"td")(1,"div",23)(2,"p"),c(3),r()()()),i&2){let t=p().$implicit;l(3),y(" ",t.Quantity," ")}}function Js(i,o){if(i&1){let t=x();a(0,"tr")(1,"td"),f(2,Ws,3,2,"div",19),r(),f(3,Zs,3,2,"td",20)(4,Xs,4,1,"td",20),a(5,"td")(6,"button",21),h("click",function(){let s=C(t).$implicit,d=p(2),_;return b(d.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",d.modalTitle))}),u(7,"i",22),r()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Contributions),l(),m("ngIf",t.Contributions)}}function Ks(i,o){if(i&1&&(a(0,"div",13)(1,"div",14)(2,"table",15)(3,"thead")(4,"tr")(5,"th",16),c(6,"Contributor"),r(),a(7,"th",17),c(8,"Contribution"),r(),a(9,"th",17),c(10,"Quanity"),r(),u(11,"th",17),r()(),a(12,"tbody"),f(13,Js,8,3,"tr",18),r()()()()),i&2){let t=p();l(13),m("ngForOf",t.contributionParticipants)}}function el(i,o){i&1&&(a(0,"div",13)(1,"p"),c(2,"No contributions are found."),r()())}function tl(i,o){if(i&1){let t=x();a(0,"button",24),h("click",function(){C(t);let n=p();return b(n.onDownloadCSV())}),c(1," Download "),r()}if(i&2){let t=p();m("disabled",t.contributionForm.invalid)}}var Nn=(()=>{let o=class o{constructor(e,n,s,d){this.activeModal=e,this.contributionParticipantService=n,this.helperService=s,this.authService=d,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.contributionParticipants=[],this.iContribution={MeetingContributionParticipantId:0,UserId:0,MeetingComponentId:0,MeetingContributionId:0,Amount:0,Quantity:0,Contact:[],Contributions:[]},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingComponentId>0&&(this.contributionParticipants=yield R(this.contributionParticipantService.getContributionParticipants(this.meetingContributionId,this.meetingComponentId)))})}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.contributionParticipants.map(n=>({Contributor:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Contribution:n.Amount>0?"$"+n.Amount:n?.Contributions?.[0]?.ItemName??"None",Quality:n.Quantity,Category:n.Contributions?.[0]?.Category}));try{this.helperService.downloadCSV(e,"contributions.csv")}catch(n){console.log("Could not download Contribution list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(At),g(H),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-view-contributions"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingContributionId:"meetingContributionId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:17,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","40%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-envelope","fa-lg"],[1,"justify-content-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),c(3),r(),a(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),r()(),a(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9,"Contributions"),r()(),a(10,"div",8),f(11,Ks,14,1,"div",9)(12,el,3,0,"div",9),r()()(),a(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),r(),f(16,tl,2,1,"button",12),r()()),n&2&&(l(3),M(s.modalTitle),l(8),m("ngIf",s.contributionParticipants==null?null:s.contributionParticipants.length),l(),m("ngIf",(s.contributionParticipants==null?null:s.contributionParticipants.length)==0),l(4),m("ngIf",s.contributionParticipants.length>0))},dependencies:[E,j,P,di]});let i=o;return i})();var Ln=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getContribution(e){return this.httpClient.get(this.api+"/contributions/"+e)}getMeetingContributions(e){let n={meetingId:e};return this.httpClient.post(this.api+"/contributions/",n)}getMeetingContributionByComponent(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/contributions/component",s)}saveContribution(e){return this.httpClient.post(this.api+"/contributions/",e)}updateContribution(e){return this.httpClient.put(this.api+"/contributions/",e)}deleteContribution(e){return this.httpClient.delete(this.api+"/contributions/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var nl=["confirmDelete"];function ol(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(3);l(),m("innerHtml",t.contributionFormValidation("Contribution Item Name",t.contributionForm.controls.ItemName.errors),F)}}function rl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(3);l(),m("innerHtml",t.contributionFormValidation("Quantity",t.contributionForm.controls.Quantity.errors),F)}}function al(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(3);l(),m("innerHtml",t.contributionFormValidation("Measure",t.contributionForm.controls.Measure.errors),F)}}function sl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(3);l(),m("innerHtml",t.contributionFormValidation("Short Description",t.contributionForm.controls.ShortDescription.errors),F)}}function ll(i,o){if(i&1&&(a(0,"div")(1,"div",12)(2,"div",13),u(3,"input",27),f(4,ol,2,1,"ul",28),r()(),a(5,"div",12)(6,"div",29)(7,"div",13)(8,"label",30),c(9,"Total Needed Items"),r(),u(10,"input",31),f(11,rl,2,1,"ul",28),r()(),a(12,"div",29)(13,"div",13)(14,"label",30),c(15,"Measurement"),r(),u(16,"input",32),f(17,al,2,1,"ul",28),r()()(),a(18,"div",12)(19,"div",13)(20,"textarea",33),c(21," "),r(),f(22,sl,2,1,"ul",28),r()()()),i&2){let t=p(2);l(4),m("ngIf",t.contributionForm.controls.ItemName.invalid&&(t.contributionForm.controls.ItemName.dirty||t.contributionForm.controls.ItemName.touched)),l(7),m("ngIf",t.contributionForm.controls.Quantity.invalid&&(t.contributionForm.controls.Quantity.dirty||t.contributionForm.controls.Quantity.touched)),l(6),m("ngIf",t.contributionForm.controls.Measure.invalid&&(t.contributionForm.controls.Measure.dirty||t.contributionForm.controls.Measure.touched)),l(5),m("ngIf",t.contributionForm.controls.ShortDescription.invalid&&(t.contributionForm.controls.ShortDescription.dirty||t.contributionForm.controls.ShortDescription.touched))}}function cl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(3);l(),m("innerHtml",t.contributionFormValidation("Long Description",t.contributionForm.controls.LongDescription.errors),F)}}function ml(i,o){if(i&1&&(a(0,"div")(1,"div",12)(2,"div",13)(3,"textarea",36),c(4," "),r(),f(5,cl,2,1,"ul",28),r()()()),i&2){let t=p(2);l(5),m("ngIf",t.contributionForm.controls.LongDescription.invalid&&(t.contributionForm.controls.LongDescription.dirty||t.contributionForm.controls.LongDescription.touched))}}function dl(i,o){if(i&1){let t=x();a(0,"button",37),h("click",function(){C(t);let n=p(2);return b(n.openConfirmDeleteModal(n.contributionForm.controls.MeetingContributionId.value))}),c(1," Delete "),r()}if(i&2){let t=p(2);m("disabled",t.contributionForm.invalid)}}function pl(i,o){if(i&1){let t=x();a(0,"button",25),h("click",function(){C(t);let n=p(2);return b(n.onSaveAndListMoreContributionItems())}),c(1," Save and List More Items "),r()}if(i&2){let t=p(2);m("disabled",t.contributionForm.invalid||t.isSubmitted)}}function ul(i,o){if(i&1){let t=x();a(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),r(),a(5,"button",6),h("click",function(){C(t);let n=p();return b(n.activeModal.dismiss("Cross click"))}),r()(),a(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),r()(),a(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"label",15),u(16,"input",16),c(17," Monetary Contribution "),r()()()(),f(18,ll,23,4,"div",17)(19,ml,6,1,"div",17),a(20,"div",12)(21,"div",18)(22,"div",12)(23,"div",18),u(24,"input",19)(25,"input",20)(26,"input",21),r()()()()()()(),a(27,"div",22)(28,"button",23),h("click",function(){C(t);let n=p();return b(n.activeModal.close("Close click"))}),c(29," Cancel "),r(),f(30,dl,2,1,"button",24),a(31,"button",25),h("click",function(){C(t);let n=p();return b(n.onCreateUpdateAndCloseListingContributionItems())}),c(32," Save and Close "),r(),f(33,pl,2,1,"button",26),r()()()}if(i&2){let t=p(),e,n;m("formGroup",t.contributionForm),l(4),y("",t.modalTitle,"\xA0Contributions"),l(6),M(t.subTitle),l(8),m("ngIf",!((e=t.contributionForm.get("IsMonetaryContribution"))!=null&&e.value)),l(),m("ngIf",(n=t.contributionForm.get("IsMonetaryContribution"))==null?null:n.value),l(11),m("ngIf",t.contributionForm.controls.MeetingContributionId.value>0),l(),m("disabled",t.contributionForm.invalid||t.isSubmitted),l(2),m("ngIf",t.contributionForm.controls.MeetingContributionId.value===0)}}function fl(i,o){if(i&1){let t=x();a(0,"div",7)(1,"p",38),c(2,"Are you sure you want to delete this contribution item?"),r()(),a(3,"div",22)(4,"button",39),h("click",function(){let s=C(t).$implicit,d=p();return b(d.closeDeleteMeetingModal(s))}),c(5," No "),r(),a(6,"button",40),h("click",function(){let s=C(t).$implicit,d=p();return b(d.confirmDeleteMeeting(s))}),c(7," Yes "),r()()}}var ii=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O,Pe,mt){this.activeModal=e,this.formBuilder=n,this.lookupService=s,this.meetingComponentService=d,this.meetingContributionService=_,this.helperService=w,this.meetingService=A,this.authService=q,this.activatedRoute=O,this.router=Pe,this.deleteModal=mt,this.isLoading=!1,this.isSubmitted=!1,this.subTitle="",this.iContribution={MeetingContributionId:0,MeetingId:0,MeetingComponentId:0,ItemName:"",Quantity:1,Measure:"",Category:"",IsMonetaryContribution:!1,ShortDescription:"",LongDescription:"",CreatedUserId:0,CreatedDate:null},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){if(this.meetingContributionId===0)this.subTitle="Create a List of Items Needed",this.iContribution.MeetingId=this.meetingId,this.iContribution.MeetingComponentId=this.meetingComponentId;else{this.subTitle="Edit";let e=yield R(this.meetingContributionService.getContribution(this.meetingContributionId));this.iContribution=e[0],this.iContribution.IsMonetaryContribution=this.iContribution.Category==="Monetary"}this.buildContributionForm(),this.contributionForm.get("IsMonetaryContribution")?.valueChanges.subscribe(e=>{this.setContributionFormValidation(e)})})}contributionFormValidation(e,n){return this.helperService.validateForm(e,n)}buildContributionForm(){this.contributionForm=this.formBuilder.group({MeetingContributionId:[this.iContribution.MeetingContributionId],MeetingComponentId:[this.iContribution.MeetingComponentId],MeetingId:[this.iContribution.MeetingId],ItemName:[this.iContribution.ItemName],Quantity:[this.iContribution.Quantity],Measure:[this.iContribution.Measure],Category:[this.iContribution.Category],ShortDescription:[this.iContribution.ShortDescription],LongDescription:[this.iContribution.LongDescription],IsMonetaryContribution:[this.iContribution.IsMonetaryContribution]})}setContributionFormValidation(e){return e?(this.contributionForm.get("ItemName")?.clearValidators(),this.contributionForm.get("Quantity")?.clearValidators(),this.contributionForm.get("Measure")?.clearValidators(),this.contributionForm.get("Category")?.clearValidators(),this.contributionForm.get("ShortDescription")?.clearValidators(),this.contributionForm.get("LongDescription")?.setValidators([v.required,v.maxLength(200),v.minLength(10)])):(this.contributionForm.get("ItemName")?.setValidators([v.required,v.maxLength(50),v.minLength(4)]),this.contributionForm.get("Quantity")?.setValidators([v.required,v.minLength(1)]),this.contributionForm.get("Measure")?.setValidators([v.minLength(2),v.maxLength(10)]),this.contributionForm.get("Category")?.setValidators([v.maxLength(20),v.minLength(4)]),this.contributionForm.get("ShortDescription")?.setValidators([v.maxLength(60),v.minLength(4)]),this.contributionForm.get("LongDescription")?.clearValidators()),this.contributionForm.updateValueAndValidity(),this.contributionForm.markAsUntouched()}getFormData(){let e=this.contributionForm.get("IsMonetaryContribution")?.value;return this.iContribution.MeetingContributionId=this.contributionForm.get("MeetingContributionId")?.value,this.iContribution.MeetingComponentId=this.contributionForm.get("MeetingComponentId")?.value,this.iContribution.MeetingId=this.contributionForm.get("MeetingId")?.value,this.iContribution.ItemName=this.contributionForm.get("ItemName")?.value,this.iContribution.Quantity=this.contributionForm.get("Quantity")?.value,this.iContribution.Measure=this.contributionForm.get("Measure")?.value,this.iContribution.Category=e?"Monetary":"Items",this.iContribution.ShortDescription=this.contributionForm.get("ShortDescription")?.value,this.iContribution.LongDescription=this.contributionForm.get("LongDescription")?.value,this.iContribution.CreatedUserId=this.iContact.UserId??0,this.iContribution.CreatedDate=null,this.iContribution}onCreateUpdateAndCloseListingContributionItems(){if(!this.contributionForm.valid)return this.contributionForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingContributionId>0?this.meetingContributionService.updateContribution(e).pipe(T(n=>(this.iContribution=n,this.closeModal(),V(this.iContribution)))).subscribe({next:n=>{console.log("Successfully updated contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated contribution.")}}):this.meetingContributionService.saveContribution(e).pipe(T(n=>(this.iContribution=n,this.closeModal(),V(this.iContribution)))).subscribe({next:n=>{console.log("Successfully created contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created contribution.")}}),this.isSubmitted=!1}onSaveAndListMoreContributionItems(){if(!this.contributionForm.valid)return this.contributionForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingContributionService.saveContribution(e).pipe(T(n=>(this.iContribution=n,this.contributionForm.reset(),V(this.iContribution)))).subscribe({next:n=>{console.log("Successfully created contribution.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created contribution.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteContribution(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteContribution(e){e>0&&this.meetingContributionService.deleteContribution(e).pipe(T(n=>(this.iContribution=n,this.closeModal(),V(this.iContribution)))).subscribe({next:n=>{console.log("Successfully deleted contribution")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted contribution.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(De),g(xe),g(ye),g(Ln),g(H),g(le),g(D),g(se),g(U),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-create-contribution-list"]],viewQuery:function(n,s){if(n&1&&Ie(nl,5),n&2){let d;Me(d=we())&&(s.confirmDeleteTemplate=d.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingContributionId:"meetingContributionId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","IsMonetaryContribution","name","IsMonetaryContribution",1,"form-check-input"],[4,"ngIf"],[1,"col-auto"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingContributionId","name","MeetingContributionId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","text","formControlName","ItemName","placeholder","Enter Contribution Item Name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-6"],[1,"fs-6"],["type","number","formControlName","Quantity","name","Quantity","minlength","1","placeholder","Enter total of needed items",1,"form-control"],["type","text","formControlName","Measure","name","Measure","placeholder","Enter measurement",1,"form-control"],["type","text","cols","1","formControlName","ShortDescription","placeholder","Enter description",1,"form-control"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","text","cols","4","formControlName","LongDescription","placeholder","Enter Description",1,"form-control"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,ul,34,8,"form",0)(1,fl,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.contributionForm)},dependencies:[B,ne,ee,$e,be,te,ie,yt,oe,re,E,P]});let i=o;return i})();function gl(i,o){if(i&1&&(a(0,"div",25)(1,"p")(2,"strong"),c(3,"Contribution\xA0Type:"),r(),c(4,"\xA0"),a(5,"span"),c(6),r()(),a(7,"p")(8,"strong"),c(9,"Story:"),r(),c(10,"\xA0"),a(11,"span"),c(12),r()()()),i&2){let t=p().$implicit;l(6),M(t.Category),l(6),M(t.LongDescription)}}function hl(i,o){if(i&1&&(a(0,"div",25)(1,"p")(2,"strong"),c(3,"Item:"),r(),c(4,"\xA0"),a(5,"span"),c(6),r()(),a(7,"p")(8,"strong"),c(9,"Quantity:"),r(),c(10,"\xA0"),a(11,"span"),c(12),r()(),a(13,"p")(14,"strong"),c(15,"Measurement:"),r(),c(16,"\xA0"),a(17,"span"),c(18),r()(),a(19,"p")(20,"strong"),c(21,"Contribution\xA0Type:"),r(),c(22,"\xA0"),a(23,"span"),c(24),r()(),a(25,"p")(26,"strong"),c(27,"Description:"),r(),c(28,"\xA0"),a(29,"span"),c(30),r()()()),i&2){let t=p().$implicit;l(6),M(t.ItemName),l(6),M(t.Quantity),l(6),M(t.Measure),l(6),M(t.Category),l(6),M(t.ShortDescription)}}function _l(i,o){if(i&1){let t=x();a(0,"tr")(1,"td"),f(2,gl,13,2,"div",22)(3,hl,31,5,"div",22),r(),a(4,"td")(5,"button",23),h("click",function(){let s=C(t).$implicit,d=p(2).$implicit,_=p(2);return b(_.openContributionListModal(d,s.MeetingContributionId))}),u(6,"i",24),r()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Category==="Monetary"),l(),m("ngIf",t.Category==="Items")}}function vl(i,o){if(i&1&&(a(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),r()(),a(7,"tbody"),f(8,_l,7,2,"tr",21),r()()()()),i&2){let t=p().$implicit;l(8),m("ngForOf",t.Contributions)}}function Cl(i,o){i&1&&(a(0,"div",9)(1,"p"),c(2,"No Items are listed on this contribution component."),r()())}function bl(i,o){if(i&1){let t=x();a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openContributionComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),a(6,"span"),c(7),r()()(),a(8,"div",2)(9,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openContributionListModal(s,0))}),u(10,"i",13),a(11,"span"),c(12),r()()(),a(13,"div",2)(14,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openViewContributionsModal(s))}),u(15,"i",14),a(16,"span"),c(17),r()()()()(),a(18,"div",15),f(19,vl,9,1,"div",16)(20,Cl,3,0,"div",16),r()()}if(i&2){let t=o.$implicit;l(7),y("Edit\xA0",t.Title," \xA0Component"),l(5),y("Create\xA0",t.Title," \xA0Contribution List"),l(5),y("View\xA0",t.Title," \xA0Contributions"),l(2),m("ngIf",t.Contributions==null?null:t.Contributions.length),l(),m("ngIf",!t.Contributions)}}function xl(i,o){if(i&1&&(tt(0),f(1,bl,21,5,"div",6),it()),i&2){let t=p();l(),m("ngForOf",t.meetingContributionComponents)}}var Pn=(()=>{let o=class o{constructor(e,n,s,d,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.authService=d,this.activatedRoute=_,this.meetingId=0,this.published=0,this.componentLookupTypeId=0,this.meetingContributionComponents=[],this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield R(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Contributions"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingContributionComponents=yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openContributionComponentModal(e){if(e>0){let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Contribution Component modal"});n.componentInstance.modalTitle="Edit Contribution Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Contribution Component modal"});n.componentInstance.modalTitle="Create Contribution Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openContributionListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let d=this.modalService.open(ii,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingContributionId=n,d.result.then(_=>{},_=>{})}else{let d=this.modalService.open(ii,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingContributionId=0,d.result.then(_=>{},_=>{})}}openViewContributionsModal(e){let n=e,s=this.modalService.open(Nn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Contributions modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingContributionId=0,s.result.then(d=>{},d=>{})}};o.\u0275fac=function(n){return new(n||o)(g(W),g(xe),g(ye),g(D),g(se))},o.\u0275cmp=S({type:o,selectors:[["app-contributions"]],inputs:{meeting:"meeting"},standalone:!0,features:[I],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"],[1,"justify-content-center"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openContributionComponentModal(0)}),u(4,"i",4),a(5,"span"),c(6,"Create New Contribution Component"),r()()()()(),f(7,xl,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingContributionComponents.length))},dependencies:[B,E,j,P]});let i=o;return i})();var An=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getMeetingSignup(e){return this.httpClient.get(this.api+"/signups/"+e)}getMeetingSignups(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/signups/",s)}savetMeetingSignup(e){return this.httpClient.post(this.api+"/signups/",e)}updateMeetingSignup(e){return this.httpClient.put(this.api+"/signups/",e)}deleteMeetingSignup(e){return this.httpClient.delete(this.api+"/signups/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Sl=["confirmDelete"];function Il(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(2);l(),m("innerHtml",t.contributionFormValidation("Title",t.signupsForm.controls.Title.errors),F)}}function Ml(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(2);l(),m("innerHtml",t.contributionFormValidation("People needed",t.signupsForm.controls.PeopleNeeded.errors),F)}}function wl(i,o){if(i&1&&(a(0,"option",39),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),y(" ",t.Time," ")}}function Tl(i,o){if(i&1){let t=x();a(0,"select",36),h("change",function(){C(t);let n=p(2);return b(n.onTimeChange())}),a(1,"option",37),c(2,"Select"),r(),f(3,wl,2,2,"option",38),r()}if(i&2){let t=p(2);l(3),m("ngForOf",t.iTime)}}function kl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.contributionFormValidation("Start Time",(e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.errors),F)}}function El(i,o){if(i&1&&(a(0,"option",39),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.TimeId),l(),y(" ",t.Time," ")}}function Fl(i,o){if(i&1){let t=x();a(0,"select",40),h("change",function(){C(t);let n=p(2);return b(n.onTimeChange())}),a(1,"option",37),c(2,"Select"),r(),f(3,El,2,2,"option",38),r()}if(i&2){let t=p(2);l(3),m("ngForOf",t.iTime)}}function Dl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(2),e;l(),m("innerHtml",t.contributionFormValidation("End Time",(e=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:e.errors),F)}}function Nl(i,o){if(i&1&&(a(0,"ul",34),u(1,"li",35),r()),i&2){let t=p(2);l(),m("innerHtml",t.contributionFormValidation("Description",t.signupsForm.controls.Description.errors),F)}}function Ll(i,o){if(i&1){let t=x();a(0,"button",41),h("click",function(){C(t);let n=p(2);return b(n.openConfirmDeleteModal(n.signupsForm.controls.MeetingSignupId.value))}),c(1," Delete "),r()}if(i&2){let t=p(2);m("disabled",t.signupsForm.invalid)}}function Pl(i,o){if(i&1){let t=x();a(0,"button",32),h("click",function(){C(t);let n=p(2);return b(n.onSaveAndListMoreSignups())}),c(1," Save and List More "),r()}if(i&2){let t=p(2);m("disabled",t.signupsForm.invalid||t.isSubmitted)}}function Al(i,o){if(i&1){let t=x();a(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),r(),a(5,"button",6),h("click",function(){C(t);let n=p();return b(n.activeModal.dismiss("Cross click"))}),r()(),a(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),r()(),a(11,"div",11)(12,"div",12)(13,"div",13),u(14,"input",14),f(15,Il,2,1,"ul",15),r()(),a(16,"div",12)(17,"div",16)(18,"div",13)(19,"label",17),c(20,"People Needed"),r(),u(21,"input",18),f(22,Ml,2,1,"ul",15),r()(),a(23,"div",19)(24,"div",20)(25,"div",19)(26,"div",13)(27,"label",17),c(28,"Start Time"),r(),f(29,Tl,4,1,"select",21)(30,kl,2,1,"ul",15),r()(),a(31,"div",19)(32,"div",13)(33,"label",17),c(34,"End Time"),r(),f(35,Fl,4,1,"select",22)(36,Dl,2,1,"ul",15),r()(),a(37,"div",23)(38,"div",24),c(39),r()()()()(),a(40,"div",12)(41,"div",13)(42,"textarea",25),c(43,"              "),r(),f(44,Nl,2,1,"ul",15),r()(),a(45,"div",12)(46,"div",16)(47,"div",12)(48,"div",16),u(49,"input",26)(50,"input",27)(51,"input",28),r()()()()()()(),a(52,"div",29)(53,"button",30),h("click",function(){C(t);let n=p();return b(n.activeModal.close("Close click"))}),c(54," Cancel "),r(),f(55,Ll,2,1,"button",31),a(56,"button",32),h("click",function(){C(t);let n=p();return b(n.onCreateUpdateAndCloseListingContributionItems())}),c(57," Save and Close "),r(),f(58,Pl,2,1,"button",33),r()()()}if(i&2){let t=p(),e,n;m("formGroup",t.signupsForm),l(4),y("",t.modalTitle,"\xA0Sheet"),l(6),M(t.subTitle),l(5),m("ngIf",t.signupsForm.controls.Title.invalid&&(t.signupsForm.controls.Title.dirty||t.signupsForm.controls.Title.touched)),l(7),m("ngIf",t.signupsForm.controls.PeopleNeeded.invalid&&(t.signupsForm.controls.PeopleNeeded.dirty||t.signupsForm.controls.PeopleNeeded.touched)),l(7),m("ngIf",t.iTime.length>0),l(),m("ngIf",((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.invalid)&&(((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.dirty)||((e=t.signupsForm.controls.TimeSlot.get("StartTime"))==null?null:e.touched))),l(5),m("ngIf",t.iTime.length>0),l(),m("ngIf",((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.invalid)&&(((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.dirty)||((n=t.signupsForm.controls.TimeSlot.get("EndTime"))==null?null:n.touched))),l(3),M(t.signupTimeError),l(5),m("ngIf",t.signupsForm.controls.Description.invalid&&(t.signupsForm.controls.Description.dirty||t.signupsForm.controls.Description.touched)),l(11),m("ngIf",t.signupsForm.controls.MeetingSignupId.value>0),l(),m("disabled",t.signupsForm.invalid||t.isSubmitted),l(2),m("ngIf",t.signupsForm.controls.MeetingSignupId.value===0)}}function Vl(i,o){if(i&1){let t=x();a(0,"div",7)(1,"p",42),c(2,"Are you sure you want to delete this signup item?"),r()(),a(3,"div",29)(4,"button",43),h("click",function(){let s=C(t).$implicit,d=p();return b(d.closeDeleteMeetingModal(s))}),c(5," No "),r(),a(6,"button",44),h("click",function(){let s=C(t).$implicit,d=p();return b(d.confirmDeleteMeeting(s))}),c(7," Yes "),r()()}}var ni=(()=>{let o=class o{constructor(e,n,s,d,_,w,A,q,O,Pe,mt){this.activeModal=e,this.formBuilder=n,this.lookupService=s,this.meetingComponentService=d,this.meetingSignupsService=_,this.helperService=w,this.meetingService=A,this.authService=q,this.activatedRoute=O,this.router=Pe,this.deleteModal=mt,this.isLoading=!1,this.isSubmitted=!1,this.subTitle="",this.iTime=[],this.iSignups={MeetingSignupId:0,MeetingId:0,MeetingComponentId:0,Title:"",TimeSlot:{StartTime:"",EndTime:""},PeopleNeeded:1,Description:"",CreatedUserId:0,CreatedDate:null},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){if(this.meetingSignupId===0)this.subTitle="Create",this.iSignups.MeetingId=this.meetingId,this.iSignups.MeetingComponentId=this.meetingComponentId;else{this.subTitle="Edit";let e=yield R(this.meetingSignupsService.getMeetingSignup(this.meetingSignupId));this.iSignups=e[0]}this.iTime=this.helperService.getTime(),this.buildSignupsForm()})}contributionFormValidation(e,n){return this.helperService.validateForm(e,n)}onTimeChange(){let e=this.signupsForm.controls.TimeSlot?.get("StartTime")?.value,n=this.signupsForm.controls.TimeSlot.get("EndTime")?.value;if(this.signupTimeError="",e===n&&n!==""){this.signupTimeError="Start time cannot be equal to end time.";return}}buildSignupsForm(){this.signupsForm=this.formBuilder.group({MeetingSignupId:[this.iSignups.MeetingSignupId],MeetingComponentId:[this.iSignups.MeetingComponentId],MeetingId:[this.iSignups.MeetingId],Title:[this.iSignups.Title,[v.required,v.maxLength(20),v.minLength(2)]],TimeSlot:this.formBuilder.group({StartTime:[this.iSignups.TimeSlot.StartTime,[v.required]],EndTime:[this.iSignups.TimeSlot.EndTime,[v.required]]}),Description:[this.iSignups.Description,[v.maxLength(50),v.minLength(4)]],PeopleNeeded:[this.iSignups.PeopleNeeded,[v.required]]})}getFormData(){return this.iSignups.MeetingSignupId=this.signupsForm.get("MeetingSignupId")?.value,this.iSignups.MeetingComponentId=this.signupsForm.get("MeetingComponentId")?.value,this.iSignups.MeetingId=this.signupsForm.get("MeetingId")?.value,this.iSignups.Title=this.signupsForm.get("Title")?.value,this.iSignups.TimeSlot={StartTime:this.signupsForm.controls.TimeSlot?.get("StartTime")?.value,EndTime:this.signupsForm.controls.TimeSlot?.get("EndTime")?.value},this.iSignups.PeopleNeeded=this.signupsForm.get("PeopleNeeded")?.value,this.iSignups.Description=this.signupsForm.get("Description")?.value,this.iSignups.CreatedUserId=this.iContact.UserId??0,this.iSignups.CreatedDate=null,this.iSignups}onCreateUpdateAndCloseListingContributionItems(){if(!this.signupsForm.valid)return this.signupsForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingSignupId>0?this.meetingSignupsService.updateMeetingSignup(e).pipe(T(n=>(this.iSignups=n,this.closeModal(),V(this.iSignups)))).subscribe({next:n=>{console.log("Successfully updated signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated signup.")}}):this.meetingSignupsService.savetMeetingSignup(e).pipe(T(n=>(this.iSignups=n,this.closeModal(),V(this.iSignups)))).subscribe({next:n=>{console.log("Successfully created signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created singup.")}}),this.isSubmitted=!1}onSaveAndListMoreSignups(){if(!this.signupsForm.valid)return this.signupsForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingSignupsService.savetMeetingSignup(e).pipe(T(n=>(this.iSignups=n,this.signupsForm.reset(),V(this.iSignups)))).subscribe({next:n=>{console.log("Successfully created signup.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created singup.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteContribution(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteContribution(e){e>0&&this.meetingSignupsService.deleteMeetingSignup(e).pipe(T(n=>(this.iSignups=n,this.closeModal(),V(this.iSignups)))).subscribe({next:n=>{console.log("Successfully deleted signups")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted signups.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(Ve),g(xe),g(ye),g(An),g(H),g(le),g(D),g(se),g(U),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-create-signups-list"]],viewQuery:function(n,s){if(n&1&&Ie(Sl,5),n&2){let d;Me(d=we())&&(s.confirmDeleteTemplate=d.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingSignupId:"meetingSignupId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"form-group","mb-3"],["type","text","formControlName","Title","name","Title","placeholder","Enter Title i.e task/role name",1,"form-control"],["class","text-danger list-unstyled",4,"ngIf"],[1,"col-auto"],[1,"fs-6"],["type","number","formControlName","PeopleNeeded","name","PeopleNeeded","minlength","1","placeholder","Enter People Needed",1,"form-control"],[1,"col"],["formGroupName","TimeSlot",1,"row"],["class","form-select","formControlName","StartTime",3,"change",4,"ngIf"],["class","form-select","formControlName","EndTime",3,"change",4,"ngIf"],[1,"mb-3"],[1,"text-danger"],["type","text","cols","1","formControlName","Description","placeholder","Enter description",1,"form-control"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingSignupId","name","MeetingSignupId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["formControlName","StartTime",1,"form-select",3,"change"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["formControlName","EndTime",1,"form-select",3,"change"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,Al,59,14,"form",0)(1,Vl,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.signupsForm)},dependencies:[B,ne,Ee,Fe,ee,$e,ke,te,ie,yt,oe,re,Ct,E,j,P]});let i=o;return i})();function Rl(i,o){if(i&1&&(a(0,"div",23)(1,"p"),c(2),r()()),i&2){let t=p().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function ql(i,o){if(i&1&&(a(0,"td")(1,"div",23)(2,"p"),c(3),r()()()),i&2){let t=p().$implicit;l(3),y(" ",t==null||t.Signups==null||t.Signups[0]==null?null:t.Signups[0].Title," ")}}function Ql(i,o){if(i&1&&(a(0,"td")(1,"div",23)(2,"p"),c(3),r()()()),i&2){let t=p().$implicit;l(3),y(" ",(t==null||t.Signups==null||t.Signups[0]==null||t.Signups[0].TimeSlot==null?null:t.Signups[0].TimeSlot.StartTime)+"-"+(t==null||t.Signups==null||t.Signups[0]==null||t.Signups[0].TimeSlot==null?null:t.Signups[0].TimeSlot.EndTime)," ")}}function Ol(i,o){if(i&1){let t=x();a(0,"tr")(1,"td"),f(2,Rl,3,2,"div",19),r(),f(3,ql,4,1,"td",20)(4,Ql,4,1,"td",20),a(5,"td")(6,"button",21),h("click",function(){let s=C(t).$implicit,d=p(2),_;return b(d.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",d.modalTitle))}),u(7,"i",22),r()()()}if(i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Signups),l(),m("ngIf",t.Signups)}}function jl(i,o){if(i&1&&(a(0,"div",13)(1,"div",14)(2,"table",15)(3,"thead")(4,"tr")(5,"th",16),c(6,"participant"),r(),a(7,"th",17),c(8,"Title"),r(),a(9,"th",17),c(10,"TimeSlot"),r(),u(11,"th",17),r()(),a(12,"tbody"),f(13,Ol,8,3,"tr",18),r()()()()),i&2){let t=p();l(13),m("ngForOf",t.signupsParticipant)}}function Ul(i,o){i&1&&(a(0,"div",13)(1,"p"),c(2,"No signups are found."),r()())}function Hl(i,o){if(i&1){let t=x();a(0,"button",24),h("click",function(){C(t);let n=p();return b(n.onDownloadCSV())}),c(1," Download "),r()}if(i&2){let t=p();m("disabled",t.contributionForm.invalid)}}var Vn=(()=>{let o=class o{constructor(e,n,s,d){this.activeModal=e,this.signupsParticipantService=n,this.helperService=s,this.authService=d,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.signupsParticipant=[],this.iSignup={MeetingSignupParticipantId:0,UserId:0,MeetingComponentId:0,MeetingSignupId:0,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null,Contact:[],Signups:[]},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingComponentId>0&&(this.signupsParticipant=yield R(this.signupsParticipantService.getSignupParticipants(this.meetingSignupId,this.meetingComponentId)))})}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.signupsParticipant.map(n=>({Participant:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Title:n.Signups?.[0]?.Title,TimeSlot:n.Signups?.[0]?.TimeSlot.StartTime+"-"+n.Signups?.[0]?.TimeSlot.EndTime}));try{this.helperService.downloadCSV(e,"signups.csv")}catch(n){console.log("Could not download Singups list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(Vt),g(H),g(D))},o.\u0275cmp=S({type:o,selectors:[["app-view-signups-participants"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingSignupId:"meetingSignupId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:17,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","40%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-envelope","fa-lg"],[1,"justify-content-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),c(3),r(),a(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),r()(),a(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9,"Participants"),r()(),a(10,"div",8),f(11,jl,14,1,"div",9)(12,Ul,3,0,"div",9),r()()(),a(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),r(),f(16,Hl,2,1,"button",12),r()()),n&2&&(l(3),M(s.modalTitle),l(8),m("ngIf",s.signupsParticipant==null?null:s.signupsParticipant.length),l(),m("ngIf",(s.signupsParticipant==null?null:s.signupsParticipant.length)==0),l(4),m("ngIf",s.signupsParticipant.length>0))},dependencies:[E,j,P]});let i=o;return i})();function $l(i,o){if(i&1){let t=x();a(0,"tr")(1,"td")(2,"div",22)(3,"p")(4,"strong"),c(5,"Title:"),r(),c(6,"\xA0"),a(7,"span"),c(8),r()(),a(9,"p")(10,"strong"),c(11,"Time\xA0Slot:"),r(),c(12,"\xA0"),a(13,"span"),c(14),r()(),a(15,"p")(16,"strong"),c(17,"People\xA0Needed:"),r(),c(18,"\xA0"),a(19,"span"),c(20),r()(),a(21,"p")(22,"strong"),c(23,"Description:"),r(),c(24,"\xA0"),a(25,"span"),c(26),r()()()(),a(27,"td")(28,"button",23),h("click",function(){let s=C(t).$implicit,d=p(2).$implicit,_=p(2);return b(_.openSingupsListModal(d,s.MeetingSignupId))}),u(29,"i",24),r()()()}if(i&2){let t=o.$implicit;l(8),M(t.Title),l(6),X("",t.TimeSlot.StartTime,"\xA0-\xA0",t.TimeSlot.EndTime,""),l(6),M(t.PeopleNeeded),l(6),M(t.Description)}}function Bl(i,o){if(i&1&&(a(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),r()(),a(7,"tbody"),f(8,$l,30,5,"tr",21),r()()()()),i&2){let t=p().$implicit;l(8),m("ngForOf",t.Signups)}}function zl(i,o){i&1&&(a(0,"div",9)(1,"p"),c(2,"No Tasks are listed on this Signup component."),r()())}function Wl(i,o){if(i&1){let t=x();a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openSingupsComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),a(6,"span"),c(7),r()()(),a(8,"div",2)(9,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openSingupsListModal(s,0))}),u(10,"i",13),a(11,"span"),c(12),r()()(),a(13,"div",2)(14,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openViewSignupParticipantsModal(s))}),u(15,"i",14),a(16,"span"),c(17),r()()()()(),a(18,"div",15),f(19,Bl,9,1,"div",16)(20,zl,3,0,"div",16),r()()}if(i&2){let t=o.$implicit;l(7),y("Edit\xA0",t.Title," \xA0Component"),l(5),y("Create\xA0",t.Title," \xA0Signups"),l(5),y("View\xA0",t.Title," \xA0Participants"),l(2),m("ngIf",t.Signups),l(),m("ngIf",!t.Signups)}}function Yl(i,o){if(i&1&&(tt(0),f(1,Wl,21,5,"div",6),it()),i&2){let t=p();l(),m("ngForOf",t.meetingComponents)}}var Rn=(()=>{let o=class o{constructor(e,n,s,d,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.authService=d,this.activatedRoute=_,this.meetingId=0,this.componentLookupTypeId=0,this.published=0,this.meetingComponents=[],this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield R(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Signups"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingComponents=yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openSingupsComponentModal(e){if(e>0){let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Signups Component modal"});n.componentInstance.modalTitle="Edit Signups Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Signups Component modal"});n.componentInstance.modalTitle="Create Signups Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openSingupsListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let d=this.modalService.open(ni,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Signups modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingSignupId=n,d.result.then(_=>{},_=>{})}else{let d=this.modalService.open(ni,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Signups modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingSignupId=0,d.result.then(_=>{},_=>{})}}openViewSignupParticipantsModal(e){let n=e,s=this.modalService.open(Vn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Signups modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingSignupId=0,s.result.then(d=>{},d=>{})}};o.\u0275fac=function(n){return new(n||o)(g(W),g(xe),g(ye),g(D),g(se))},o.\u0275cmp=S({type:o,selectors:[["app-signups"]],inputs:{meeting:"meeting"},standalone:!0,features:[I],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"justify-content-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openSingupsComponentModal(0)}),u(4,"i",4),a(5,"span"),c(6,"Create New Signups Component"),r()()()()(),f(7,Yl,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingComponents.length>0))},dependencies:[B,E,j,P]});let i=o;return i})();var qn=(()=>{let o=class o{constructor(){this.hello="Welcome to meeting settings!",this.meeting={}}ngOnInit(){}ngOnChanges(e){let n=this.meeting}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=S({type:o,selectors:[["app-meetingsettings"]],inputs:{meeting:"meeting"},standalone:!0,features:[et,I],decls:4,vars:1,consts:[[1,"row"],[1,"col"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"p"),c(3),r()()()),n&2&&(l(3),M(s.hello))}});let i=o;return i})();var Qn=(()=>{let o=class o{constructor(e,n){this.httpClient=e,this.configService=n,this.api="",this.api=this.configService.appConfig.MAP_API_ENDPOINT}getQuestionnaire(e){return this.httpClient.get(this.api+"/questionnaire/"+e)}getQuestionnaireSequenceNumber(e){return this.httpClient.get(this.api+"/questionnaire/sequencenumber/"+e)}getQuestionnaires(e,n){let s={meetingId:e,componentId:n};return this.httpClient.post(this.api+"/questionnaire/",s)}saveQuestionnaire(e){return this.httpClient.post(this.api+"/questionnaire/",e)}updateQuestionnaire(e){return this.httpClient.put(this.api+"/questionnaire/",e)}deleteQuestionnaire(e){return this.httpClient.delete(this.api+"/questionnaire/"+e)}};o.\u0275fac=function(n){return new(n||o)(Q(G),Q(Z))},o.\u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Zl=["confirmDelete"];function Xl(i,o){if(i&1&&(a(0,"option",37),c(1),r()),i&2){let t=o.$implicit;m("ngValue",t.QuestionTypeId),l(),y(" ",t.QuestionType," ")}}function Jl(i,o){if(i&1&&(a(0,"select",34)(1,"option",35),c(2,"Select"),r(),f(3,Xl,2,2,"option",36),r()),i&2){let t=p(2);l(3),m("ngForOf",t.questionTypes)}}function Kl(i,o){if(i&1&&(a(0,"ul",38),u(1,"li",39),r()),i&2){let t=p(2);l(),m("innerHtml",t.questionnaireFormValidation("Question Type",t.questionnaireForm.controls.QuestionType.errors),F)}}function ec(i,o){if(i&1&&(a(0,"ul",38),u(1,"li",39),r()),i&2){let t=p(2);l(),m("innerHtml",t.questionnaireFormValidation("Sequence Number",t.questionnaireForm.controls.SequenceNumber.errors),F)}}function tc(i,o){if(i&1&&(a(0,"ul",38),u(1,"li",39),r()),i&2){let t=p(2);l(),m("innerHtml",t.questionnaireFormValidation("Question",t.questionnaireForm.controls.Question.errors),F)}}function ic(i,o){if(i&1&&(a(0,"ul",38),u(1,"li",39),r()),i&2){let t=p(3);l(),m("innerHtml",t.questionnaireFormValidation("AnswerOptions",t.questionnaireForm.controls.AnswerOptions.errors),F)}}function nc(i,o){if(i&1&&(a(0,"div",12)(1,"div",14)(2,"textarea",40),c(3,"              "),r(),f(4,ic,2,1,"ul",17),r()()),i&2){let t=p(2);l(4),m("ngIf",t.questionnaireForm.controls.AnswerOptions.invalid&&(t.questionnaireForm.controls.AnswerOptions.dirty||t.questionnaireForm.controls.AnswerOptions.touched))}}function oc(i,o){if(i&1&&(a(0,"ul",38),u(1,"li",39),r()),i&2){let t=p(2);l(),m("innerHtml",t.questionnaireFormValidation("Description",t.questionnaireForm.controls.Description.errors),F)}}function rc(i,o){if(i&1){let t=x();a(0,"button",41),h("click",function(){C(t);let n=p(2);return b(n.openConfirmDeleteModal(n.questionnaireForm.controls.MeetingQuestionnaireId.value))}),c(1," Delete "),r()}if(i&2){let t=p(2);m("disabled",t.questionnaireForm.invalid)}}function ac(i,o){if(i&1){let t=x();a(0,"button",32),h("click",function(){C(t);let n=p(2);return b(n.onSaveAndListMoreContributionItems())}),c(1," Save and List More Questions "),r()}if(i&2){let t=p(2);m("disabled",t.questionnaireForm.invalid||t.isSubmitted)}}function sc(i,o){if(i&1){let t=x();a(0,"form",2)(1,"div",3)(2,"div",4)(3,"h4",5),c(4),r(),a(5,"button",6),h("click",function(){C(t);let n=p();return b(n.activeModal.dismiss("Cross click"))}),r()(),a(6,"div",7)(7,"div",8)(8,"div",9)(9,"span",10),c(10),r()(),a(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"label",15),c(16,"Question Type"),r(),f(17,Jl,4,1,"select",16)(18,Kl,2,1,"ul",17),r()(),a(19,"div",13)(20,"div",14)(21,"label",15),c(22,"Question Number"),r(),u(23,"input",18),f(24,ec,2,1,"ul",17),r()(),a(25,"div",13)(26,"div",14),u(27,"label",15),a(28,"div",19)(29,"label",20),u(30,"input",21),c(31," Required "),r()()()()(),a(32,"div",12)(33,"div",14)(34,"textarea",22),c(35,"              "),r(),f(36,tc,2,1,"ul",17),r()(),f(37,nc,5,1,"div",23),a(38,"div",12)(39,"div",14)(40,"textarea",24),c(41,"              "),r(),f(42,oc,2,1,"ul",17),r()(),a(43,"div",12)(44,"div",25)(45,"div",12)(46,"div",25),u(47,"input",26)(48,"input",27)(49,"input",28),r()()()()()()(),a(50,"div",29)(51,"button",30),h("click",function(){C(t);let n=p();return b(n.activeModal.close("Close click"))}),c(52," Cancel "),r(),f(53,rc,2,1,"button",31),a(54,"button",32),h("click",function(){C(t);let n=p();return b(n.onCreateUpdateAndCloseListingContributionItems())}),c(55," Save and Close "),r(),f(56,ac,2,1,"button",33),r()()()}if(i&2){let t=p();m("formGroup",t.questionnaireForm),l(4),y("",t.modalTitle,"\xA0Questionnaire"),l(6),M(t.subTitle),l(7),m("ngIf",t.questionTypes.length>0),l(),m("ngIf",(t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.invalid)&&((t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.dirty)||(t.questionnaireForm.controls.QuestionType==null?null:t.questionnaireForm.controls.QuestionType.touched))),l(6),m("ngIf",t.questionnaireForm.controls.SequenceNumber.invalid&&(t.questionnaireForm.controls.SequenceNumber.dirty||t.questionnaireForm.controls.SequenceNumber.touched)),l(12),m("ngIf",t.questionnaireForm.controls.Question.invalid&&(t.questionnaireForm.controls.Question.dirty||t.questionnaireForm.controls.Question.touched)),l(),m("ngIf",!t.questionTypeSelectedValue),l(5),m("ngIf",t.questionnaireForm.controls.Description.invalid&&(t.questionnaireForm.controls.Description.dirty||t.questionnaireForm.controls.Description.touched)),l(11),m("ngIf",t.questionnaireForm.controls.MeetingQuestionnaireId.value>0),l(),m("disabled",t.questionnaireForm.invalid||t.isSubmitted),l(2),m("ngIf",t.questionnaireForm.controls.MeetingQuestionnaireId.value===0)}}function lc(i,o){if(i&1){let t=x();a(0,"div",7)(1,"p",42),c(2,"Are you sure you want to delete this contribution item?"),r()(),a(3,"div",29)(4,"button",43),h("click",function(){let s=C(t).$implicit,d=p();return b(d.closeDeleteMeetingModal(s))}),c(5," No "),r(),a(6,"button",44),h("click",function(){let s=C(t).$implicit,d=p();return b(d.confirmDeleteMeeting(s))}),c(7," Yes "),r()()}}var oi=(()=>{let o=class o{constructor(e,n,s,d,_,w){this.activeModal=e,this.formBuilder=n,this.meetingQuestionnaireService=s,this.helperService=d,this.authService=_,this.deleteModal=w,this.isLoading=!1,this.hideShowAnswerOptionsControl=!1,this.isSubmitted=!1,this.isNewQuestion=!1,this.subTitle="",this.questionTypes=[],this.iQuestionnaire={MeetingQuestionnaireId:0,MeetingId:0,MeetingComponentId:0,Question:"",Description:"",AnswerOptions:"",QuestionType:"",SequenceNumber:1,Required:!1,CreatedUserId:0,CreatedDate:null,ModifiedUserId:0,ModifiedDate:null},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){if(this.questionTypes=this.helperService.getQuestionTypes(),this.meetingQuestionnaireId===0)this.subTitle="List Question",this.iQuestionnaire.MeetingId=this.meetingId,this.iQuestionnaire.MeetingComponentId=this.meetingComponentId,this.isNewQuestion=!0;else{this.isNewQuestion=!1,this.subTitle="Edit Question";let e=yield R(this.meetingQuestionnaireService.getQuestionnaire(this.meetingQuestionnaireId));this.iQuestionnaire=e[0]}this.buildQuestionnaireForm(),this.isNewQuestion&&(yield this.setSequenceNumberControlValue()),this.questionnaireForm.get("QuestionType")?.valueChanges.subscribe(e=>{this.toggleAnswerOptionsControl(e)})})}setSequenceNumberControlValue(){return k(this,null,function*(){let e=yield R(this.meetingQuestionnaireService.getQuestionnaireSequenceNumber(this.meetingComponentId));this.questionnaireForm.get("SequenceNumber")?.patchValue(e[0]?.SequenceNumber+1)})}get questionTypeSelectedValue(){let e=this.questionnaireForm.get("QuestionType")?.value;return e.toLowerCase()==="truefalse"||e.toLowerCase()==="shortanswer"||e.toLowerCase()==="longanswer"?this.hideShowAnswerOptionsControl=!0:this.hideShowAnswerOptionsControl=!1,this.hideShowAnswerOptionsControl}toggleAnswerOptionsControl(e){let n=this.questionnaireForm.get("AnswerOptions");e.toLowerCase()==="truefalse"||e.toLowerCase()==="shortanswer"||e.toLowerCase()==="longanswer"?(n?.clearValidators(),n?.reset()):n?.setValidators([v.required,v.maxLength(80),v.minLength(4),v.pattern("^([a-zA-Z0-9]+)(,[a-zA-Z0-9]+)*$")]),n?.updateValueAndValidity()}questionnaireFormValidation(e,n){return this.helperService.validateForm(e,n)}buildQuestionnaireForm(){this.questionnaireForm=this.formBuilder.group({MeetingQuestionnaireId:[this.iQuestionnaire.MeetingQuestionnaireId],MeetingComponentId:[this.iQuestionnaire.MeetingComponentId],MeetingId:[this.iQuestionnaire.MeetingId],Question:[this.iQuestionnaire.Question,[v.required,v.maxLength(80),v.minLength(4)]],AnswerOptions:[this.iQuestionnaire.AnswerOptions],QuestionType:[this.iQuestionnaire.QuestionType,[v.required]],SequenceNumber:[this.iQuestionnaire.SequenceNumber,[v.required]],Description:[this.iQuestionnaire.Description,[v.maxLength(50),v.minLength(4)]],Required:[this.iQuestionnaire.Required]})}getFormData(){return this.iQuestionnaire.MeetingQuestionnaireId=this.questionnaireForm.get("MeetingQuestionnaireId")?.value,this.iQuestionnaire.MeetingComponentId=this.questionnaireForm.get("MeetingComponentId")?.value,this.iQuestionnaire.MeetingId=this.questionnaireForm.get("MeetingId")?.value,this.iQuestionnaire.Question=this.questionnaireForm.get("Question")?.value,this.iQuestionnaire.Description=this.questionnaireForm.get("Description")?.value,this.iQuestionnaire.AnswerOptions=this.questionnaireForm.get("QuestionType")?.value==="TrueFalse"?"Yes,No":this.questionnaireForm.get("AnswerOptions")?.value,this.iQuestionnaire.QuestionType=this.questionnaireForm.get("QuestionType")?.value,this.iQuestionnaire.SequenceNumber=this.questionnaireForm.get("SequenceNumber")?.value,this.iQuestionnaire.Required=this.questionnaireForm.get("Required")?.value,this.iQuestionnaire.CreatedUserId=this.iContact.UserId??0,this.iQuestionnaire.ModifiedUserId=this.iContact.UserId??0,this.iQuestionnaire.CreatedDate=null,this.iQuestionnaire.ModifiedDate=null,this.iQuestionnaire}onCreateUpdateAndCloseListingContributionItems(){if(!this.questionnaireForm.valid)return this.questionnaireForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();e.MeetingQuestionnaireId>0?this.meetingQuestionnaireService.updateQuestionnaire(e).pipe(T(n=>(this.iQuestionnaire=n,this.closeModal(),V(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully updated questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully updated questionnaire.")}}):this.meetingQuestionnaireService.saveQuestionnaire(e).pipe(T(n=>(this.iQuestionnaire=n,this.closeModal(),V(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully created questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created questionnaire.")}}),this.isSubmitted=!1}onSaveAndListMoreContributionItems(){if(!this.questionnaireForm.valid)return this.questionnaireForm.markAllAsTouched();this.isSubmitted=!0;let e=this.getFormData();this.meetingQuestionnaireService.saveQuestionnaire(e).pipe(T(n=>(this.iQuestionnaire=n,this.questionnaireForm.reset(),this.setSequenceNumberControlValue(),V(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully created questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully created questionnaire.")}}),this.isSubmitted=!1}openConfirmDeleteModal(e){this.deleteModal.open(this.confirmDeleteTemplate,{keyboard:!1,backdrop:"static"}).result.then(n=>{n==="confirmed"&&this.onDeleteQuestionnaire(e)},n=>{this.deleteModal.dismissAll()})}closeDeleteMeetingModal(e){e.close()}confirmDeleteMeeting(e){e.close("confirmed")}onDeleteQuestionnaire(e){e>0&&this.meetingQuestionnaireService.deleteQuestionnaire(e).pipe(T(n=>(this.iQuestionnaire=n,this.closeModal(),V(this.iQuestionnaire)))).subscribe({next:n=>{console.log("Successfully deleted questionnaire.")},error:n=>{console.log(n)},complete:()=>{console.log("Successfully deleted questionnaire.")}})}closeModal(){this.activeModal.close()}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(De),g(Qn),g(H),g(D),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-create-questionnaire"]],viewQuery:function(n,s){if(n&1&&Ie(Zl,5),n&2){let d;Me(d=we())&&(s.confirmDeleteTemplate=d.first)}},inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingQuestionnaireId:"meetingQuestionnaireId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:3,vars:1,consts:[["novalidate","",3,"formGroup",4,"ngIf"],["confirmDelete",""],["novalidate","",3,"formGroup"],[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],[1,"row"],[1,"col"],[1,"form-group","mb-3"],[1,"fs-6"],["class","form-select","formControlName","QuestionType",4,"ngIf"],["class","text-danger list-unstyled",4,"ngIf"],["type","number","formControlName","SequenceNumber","name","SequenceNumber","min","1","step","1","max","10","placeholder","Enter Sequence number ",1,"form-control"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox","formControlName","Required","name","Required",1,"form-check-input"],["col","2","type","text","formControlName","Question","placeholder","Write Question",1,"form-control"],["class","row",4,"ngIf"],["type","text","cols","2","formControlName","Description","placeholder","Write question's instructions",1,"form-control"],[1,"col-auto"],["type","hidden","formControlName","MeetingId","name","MeetingId"],["type","hidden","formControlName","MeetingComponentId","name","MeetingComponentId"],["type","hidden","formControlName","MeetingQuestionnaireId","name","MeetingQuestionnaireId"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["formControlName","QuestionType",1,"form-select"],["value",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"text-danger","list-unstyled"],[1,"fs-6",3,"innerHtml"],["type","text","col","2","formControlName","AnswerOptions","name","AnswerOptions","placeholder","Write question's answers: Separate multiple answers with comma(,)",1,"form-control"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"fs-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,s){n&1&&f(0,sc,57,12,"form",0)(1,lc,8,0,"ng-template",null,1,J),n&2&&m("ngIf",s.questionnaireForm)},dependencies:[B,ne,Ee,Fe,ee,$e,be,ke,te,ie,xt,bt,oe,re,E,j,P]});let i=o;return i})();function cc(i,o){if(i&1&&(a(0,"td")(1,"div",12)(2,"div",17)(3,"div",18),c(4),r(),a(5,"div",19),c(6),r()()()()),i&2){let t=p().$implicit;l(4),y(" ",t==null||t.Questionnaire==null||t.Questionnaire[0]==null?null:t.Questionnaire[0].Question," "),l(2),y(" Answer:\xA0",t==null?null:t.QuestionAnswer," ")}}function mc(i,o){if(i&1&&(a(0,"tr"),f(1,cc,7,2,"td",16),r()),i&2){let t=o.$implicit;l(),m("ngIf",t.Questionnaire)}}function dc(i,o){if(i&1&&(a(0,"div",12)(1,"div",13)(2,"table",14)(3,"tbody"),f(4,mc,2,1,"tr",15),r()()()()),i&2){let t=p();l(4),m("ngForOf",t.questionnaireParticipants)}}function pc(i,o){i&1&&(a(0,"div",12)(1,"p"),c(2,"No Questionnaire Participant are found."),r()())}var On=(()=>{let o=class o{constructor(e,n){this.activeModal=e,this.questionnaireParticipantService=n,this.questionnaireParticipants=[]}ngOnInit(){return k(this,null,function*(){this.contact=this.participant.Contact[0].FirstName+" "+this.participant.Contact[0].LastName,this.questionnaireParticipants=yield R(this.questionnaireParticipantService.getQuestionnaireParticipantByContact(this.participant.Contact[0].UserId,this.participant.MeetingComponentId))})}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(at))},o.\u0275cmp=S({type:o,selectors:[["app-view-questionnaire-participant"]],inputs:{modalTitle:"modalTitle",participant:"participant"},standalone:!0,features:[I],decls:16,vars:4,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","mb-3"],[1,"card-header"],[1,"text-muted","fw-bold"],[1,"card-body"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["clas","col-12"],[1,"fw-bolder"],[1,"text-muted","fst-italic"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),c(3),r(),a(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),r()(),a(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),c(9),r()(),a(10,"div",8),f(11,dc,5,1,"div",9)(12,pc,3,0,"div",9),r()()(),a(13,"div",10)(14,"button",11),h("click",function(){return s.activeModal.close("Close click")}),c(15," Cancel "),r()()()),n&2&&(l(3),M(s.contact),l(6),y("",s.modalTitle," Questionnaire"),l(2),m("ngIf",s.questionnaireParticipants==null?null:s.questionnaireParticipants.length),l(),m("ngIf",(s.questionnaireParticipants==null?null:s.questionnaireParticipants.length)==0))},dependencies:[E,j,P]});let i=o;return i})();function uc(i,o){if(i&1&&(a(0,"div",26)(1,"p"),c(2),r()()),i&2){let t=p().$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function fc(i,o){if(i&1&&(a(0,"td")(1,"div",18)(2,"div",27)(3,"div",28),c(4),r(),a(5,"div",29),c(6),r()()()()),i&2){let t=p().$implicit;l(4),y(" ",t==null||t.Questionnaire==null||t.Questionnaire[0]==null?null:t.Questionnaire[0].Question," "),l(2),y(" Answer:\xA0",t==null?null:t.QuestionAnswer," ")}}function gc(i,o){if(i&1&&(a(0,"tr")(1,"td"),f(2,uc,3,2,"div",24),r(),f(3,fc,7,2,"td",25),r()),i&2){let t=o.$implicit;l(2),m("ngIf",t.Contact),l(),m("ngIf",t.Questionnaire)}}function hc(i,o){if(i&1&&(a(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th",21),c(6,"participant"),r(),a(7,"th",22),c(8,"Question/Answer"),r()()(),a(9,"tbody"),f(10,gc,4,2,"tr",23),r()()()()),i&2){let t=p();l(10),m("ngForOf",t.questionnaireParticipants)}}function _c(i,o){i&1&&(a(0,"div",18)(1,"p"),c(2,"No Questionnaire Participants are found."),r()())}function vc(i,o){if(i&1){let t=x();a(0,"div",26)(1,"a",32),h("click",function(){C(t);let n=p(2).$implicit,s=p(2);return b(s.openQuestionnaireParticipantModal(n))}),c(2),r()()}if(i&2){let t=p(2).$implicit;l(2),X(" ",t.Contact[0].FirstName,"\xA0",t.Contact[0].LastName," ")}}function Cc(i,o){if(i&1&&(a(0,"td"),f(1,vc,3,2,"div",24),r()),i&2){let t=p().$implicit;l(),m("ngIf",t.Contact)}}function bc(i,o){if(i&1){let t=x();a(0,"tr"),f(1,Cc,2,1,"td",25),a(2,"td")(3,"button",30),h("click",function(){let s=C(t).$implicit,d=p(2),_;return b(d.SendEmail((_=s.Contact==null||s.Contact[0]==null?null:s.Contact[0].Email)!==null&&_!==void 0?_:"None",d.modalTitle))}),u(4,"i",31),r()()()}if(i&2){let t=o.$implicit;l(),m("ngIf",t.MeetingComponentId)}}function xc(i,o){if(i&1&&(a(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th",22),c(6,"participant"),r(),u(7,"th",21),r()(),a(8,"tbody"),f(9,bc,5,1,"tr",23),r()()()()),i&2){let t=p();l(9),m("ngForOf",t.questionnaireParticipantNames)}}function yc(i,o){i&1&&(a(0,"div",18)(1,"p"),c(2,"No Questionnaire Participants are found."),r()())}function Sc(i,o){if(i&1){let t=x();a(0,"button",33),h("click",function(){C(t);let n=p();return b(n.onDownloadCSV())}),c(1," Download "),r()}if(i&2){let t=p();m("disabled",t.questionnaireParticipants.length==0)}}var jn=(()=>{let o=class o{constructor(e,n,s,d,_){this.activeModal=e,this.questionnaireParticipantService=n,this.helperService=s,this.authService=d,this.modalService=_,this.isLoading=!1,this.nodatasaved="",this.subTitle="",this.questionnaireParticipants=[],this.questionnaireParticipantNames=[],this.iQuestionnaire={MeetingQuestionnaireParticipantId:0,UserId:0,MeetingComponentId:0,MeetingQuestionnaireId:0,QuestionAnswer:"",CreatedUserId:0,Contact:[],Questionnaire:[]},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingComponentId>0&&_t([this.questionnaireParticipants=yield R(this.questionnaireParticipantService.getQuestionnaireParticipants(this.meetingQuestionnaireId,this.meetingComponentId)),this.questionnaireParticipantNames=yield R(this.questionnaireParticipantService.getQuestionnaireParticipantByContact(0,this.meetingComponentId))])})}openQuestionnaireParticipantModal(e){if(e){let n=this.modalService.open(On,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Questionnaire Participant modal"});n.componentInstance.participant=e,n.componentInstance.modalTitle=this.modalTitle,n.result.then(s=>{},s=>{})}}SendEmail(e,n){let s=`mailto:${e}?subject=${encodeURIComponent(n)}`;window.location.href=s}onDownloadCSV(){let e=this.questionnaireParticipants.map(n=>({Participant:n.Contact?.[0]?.FirstName+" "+n.Contact?.[0]?.LastName,Question:n.Questionnaire?.[0]?.Question,Answers:n.QuestionAnswer,QuestionType:n.Questionnaire?.[0]?.QuestionType}));try{this.helperService.downloadCSV(e,"questionnaire.csv")}catch(n){console.log("Could not download Singups list. Error: "+n)}}};o.\u0275fac=function(n){return new(n||o)(g(pe),g(at),g(H),g(D),g(W))},o.\u0275cmp=S({type:o,selectors:[["app-view-questionnaire-participants"]],inputs:{meetingId:"meetingId",meetingComponentId:"meetingComponentId",meetingQuestionnaireId:"meetingQuestionnaireId",modalTitle:"modalTitle"},standalone:!0,features:[I],decls:29,vars:6,consts:[[1,"position-relative"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","meetnpray-tab-panel","card"],["role","tablist",1,"nav","nav-tabs","nav-justified"],["data-bs-toggle","tab","data-bs-target","#allParticipants","type","button","role","tab","aria-selected","true",1,"nav-link","active"],["data-bs-toggle","tab","data-bs-target","#participants","type","button","role","tab","aria-selected","false",1,"nav-link"],[1,"tab-content","pt-3"],["id","allParticipants","role","tabpanel","aria-labelledby","all-participants-tab",1,"tab-pane","fade","show","active"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],["class","row",4,"ngIf"],["id","participants","role","tabpanel","aria-labelledby","participants-tab",1,"tab-pane"],[1,"modal-footer"],["type","button",1,"btn","btn-cancel","btn-warning",3,"click"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-bordered","border-primary","table-hover"],["scope","col",2,"width","30%"],["scope","col",2,"width","70%"],[4,"ngFor","ngForOf"],["class","justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"justify-content-center"],["clas","col-12"],[1,"fw-bolder"],[1,"text-muted","fst-italic"],[1,"btn","btn-sm","btn-outline-primary","justify-content-center",3,"click"],[1,"fas","fa-envelope","fa-lg"],["href","javascript:0;",1,"text-decoration-none",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),c(3),r(),a(4,"button",3),h("click",function(){return s.activeModal.dismiss("Cross click")}),r()(),a(5,"div",4)(6,"nav")(7,"div",5)(8,"a",6),c(9,"Questionnaire"),r(),a(10,"a",7),c(11,"Participants "),r()()(),a(12,"div",8)(13,"div",9)(14,"div",10),u(15,"div",11),a(16,"div",12),f(17,hc,11,1,"div",13)(18,_c,3,0,"div",13),r()()(),a(19,"div",14)(20,"div",10),u(21,"div",11),a(22,"div",12),f(23,xc,10,1,"div",13)(24,yc,3,0,"div",13),r()()()()(),a(25,"div",15)(26,"button",16),h("click",function(){return s.activeModal.close("Close click")}),c(27," Cancel "),r(),f(28,Sc,2,1,"button",17),r()()),n&2&&(l(3),y("",s.modalTitle," Questionnaire Participants"),l(14),m("ngIf",s.questionnaireParticipants==null?null:s.questionnaireParticipants.length),l(),m("ngIf",(s.questionnaireParticipants==null?null:s.questionnaireParticipants.length)==0),l(5),m("ngIf",s.questionnaireParticipantNames==null?null:s.questionnaireParticipantNames.length),l(),m("ngIf",(s.questionnaireParticipantNames==null?null:s.questionnaireParticipantNames.length)==0),l(4),m("ngIf",s.questionnaireParticipants.length>0))},dependencies:[E,j,P]});let i=o;return i})();function Ic(i,o){if(i&1&&(a(0,"p")(1,"strong"),c(2,"Answer\xA0Options:"),r(),c(3,"\xA0"),a(4,"span"),c(5),r()()),i&2){let t=p().$implicit;l(5),M(t.AnswerOptions)}}function Mc(i,o){if(i&1&&(a(0,"p")(1,"strong"),c(2,"Description:"),r(),c(3,"\xA0"),a(4,"span"),c(5),r()()),i&2){let t=p().$implicit;l(5),M(t.Description)}}function wc(i,o){if(i&1){let t=x();a(0,"tr")(1,"td")(2,"div",22)(3,"p")(4,"strong"),c(5,"Question:"),r(),c(6,"\xA0"),a(7,"span"),c(8),r()(),f(9,Ic,6,1,"p",5)(10,Mc,6,1,"p",5),r()(),a(11,"td")(12,"button",23),h("click",function(){let s=C(t).$implicit,d=p(2).$implicit,_=p(2);return b(_.openQuestionnaireListModal(d,s.MeetingQuestionnaireId))}),u(13,"i",24),r()()()}if(i&2){let t=o.$implicit;l(8),M(t.Question),l(),m("ngIf",t.AnswerOptions),l(),m("ngIf",t.Description)}}function Tc(i,o){if(i&1&&(a(0,"div",9)(1,"div",17)(2,"table",18)(3,"thead")(4,"tr"),u(5,"th",19)(6,"th",20),r()(),a(7,"tbody"),f(8,wc,14,3,"tr",21),r()()()()),i&2){let t=p().$implicit;l(8),m("ngForOf",t.Questionnaire)}}function kc(i,o){i&1&&(a(0,"div",9)(1,"p"),c(2,"No questions are listed on this Questionnaire component."),r()())}function Ec(i,o){if(i&1){let t=x();a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",2)(4,"button",10),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openQuestionnaireComponentModal(s==null?null:s.MeetingComponentId))}),u(5,"i",11),a(6,"span"),c(7),r()()(),a(8,"div",2)(9,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openQuestionnaireListModal(s,0))}),u(10,"i",13),a(11,"span"),c(12),r()()(),a(13,"div",2)(14,"button",12),h("click",function(){let s=C(t).$implicit,d=p(2);return b(d.openViewQuestionnaireModal(s))}),u(15,"i",14),a(16,"span"),c(17),r()()()()(),a(18,"div",15),f(19,Tc,9,1,"div",16)(20,kc,3,0,"div",16),r()()}if(i&2){let t=o.$implicit;l(7),y("Edit\xA0",t.Title," \xA0Component"),l(5),y("Create\xA0",t.Title,"\xA0Questionnaire"),l(5),y("View\xA0",t.Title,"\xA0Participants"),l(2),m("ngIf",t.Questionnaire),l(),m("ngIf",!t.Questionnaire)}}function Fc(i,o){if(i&1&&(tt(0),f(1,Ec,21,5,"div",6),it()),i&2){let t=p();l(),m("ngForOf",t.meetingQuestionnaireComponents)}}var Un=(()=>{let o=class o{constructor(e,n,s,d,_){this.modalService=e,this.lookupService=n,this.meetingComponentService=s,this.authService=d,this.activatedRoute=_,this.meetingId=0,this.componentLookupTypeId=0,this.meetingQuestionnaireComponents=[],this.published=0,this.iComponent={MeetingComponentId:0,MeetingId:0,ComponentLookupTypeId:0,Title:"",StartDate:null,EndDate:null,IsPublished:!1},this.iContact=this.authService.getCurrentUser()}ngOnInit(){return k(this,null,function*(){this.meetingId=this.activatedRoute.snapshot.queryParamMap.get("id");let e=yield R(this.lookupService.getLookupByCategory("MeetingComponent"));e&&(this.componentLookupTypeId=e.find(n=>n.LookupName.startsWith("Questionnaire"))?.LookupId,this.componentLookupTypeId>0&&(this.meetingQuestionnaireComponents=yield R(this.meetingComponentService.getMeetingComponentsByLookup(this.meetingId,this.componentLookupTypeId,this.published))))})}openQuestionnaireComponentModal(e){if(e>0){let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Edit Questionnaire Component modal"});n.componentInstance.modalTitle="Edit Questionnaire Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=e,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}else{let n=this.modalService.open(Ue,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"Create Questionnaire Component modal"});n.componentInstance.modalTitle="Create Questionnaire Component",n.componentInstance.meetingId=this.meetingId,n.componentInstance.meetingComponentId=0,n.componentInstance.componentLookupTypeId=this.componentLookupTypeId,n.result.then(s=>{},s=>{})}}openQuestionnaireListModal(e,n){let s=e;if(s?.MeetingComponentId>0&&n>0){let d=this.modalService.open(oi,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingQuestionnaireId=n,d.result.then(_=>{},_=>{})}else{let d=this.modalService.open(oi,{size:"lg",keyboard:!1,backdrop:"static",windowClass:"Contributions modal"});d.componentInstance.modalTitle=s.Title,d.componentInstance.meetingId=this.meetingId,d.componentInstance.meetingComponentId=s?.MeetingComponentId,d.componentInstance.meetingQuestionnaireId=0,d.result.then(_=>{},_=>{})}}openViewQuestionnaireModal(e){let n=e,s=this.modalService.open(jn,{size:"xl",keyboard:!1,backdrop:"static",windowClass:"View Contributions modal"});s.componentInstance.modalTitle=n.Title,s.componentInstance.meetingId=this.meetingId,s.componentInstance.meetingComponentId=n?.MeetingComponentId,s.componentInstance.meetingQuestionnaireId=0,s.result.then(d=>{},d=>{})}};o.\u0275fac=function(n){return new(n||o)(g(W),g(xe),g(ye),g(D),g(se))},o.\u0275cmp=S({type:o,selectors:[["app-questionnaire"]],inputs:{meeting:"meeting"},standalone:!0,features:[I],decls:8,vars:1,consts:[[1,"container-fluid","mb-3","mt-3"],[1,"row","mb-3"],[1,"col-auto"],["type","button","title","Add Court of Appeal Case",1,"btn","btn-primary","text-white","mx-2","mb-2","rounded-pill",3,"click"],[1,"fas","fa-square-plus","fa-lg","me-3"],[4,"ngIf"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header"],[1,"row"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2",3,"click"],[1,"fas","fa-pen","fa-lg","me-3"],["type","button",1,"btn","action_buttons","text-white","m-lg-2","mb-2","float-end",3,"click"],[1,"fas","fa-plus","fa-lg","me-3"],[1,"fas","fa-expand","fa-lg","me-3"],[1,"card-body"],["class","row",4,"ngIf"],[1,"col-12"],[1,"table","table-striped","table-hover"],["scope","col",2,"width","80%"],["scope","col",2,"width","20%"],[4,"ngFor","ngForOf"],[1,"justify-content-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-pencil"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return s.openQuestionnaireComponentModal(0)}),u(4,"i",4),a(5,"span"),c(6,"Create New Questionnaire Component"),r()()()()(),f(7,Fc,2,1,"ng-container",5)),n&2&&(l(7),m("ngIf",s.meetingQuestionnaireComponents.length>0))},dependencies:[B,E,j,P]});let i=o;return i})();function Dc(i,o){if(i&1&&(a(0,"div",20),u(1,"app-editmeeting",21),r()),i&2){let t=p();l(),m("meeting",t.iMeeting)}}function Nc(i,o){if(i&1&&(a(0,"div",22),u(1,"app-contributions",21),r()),i&2){let t=p();l(),m("meeting",t.iMeeting)}}function Lc(i,o){if(i&1&&(a(0,"div",23),u(1,"app-signups",21),r()),i&2){let t=p();l(),m("meeting",t.iMeeting)}}function Pc(i,o){if(i&1&&(a(0,"div",24),u(1,"app-questionnaire",21),r()),i&2){let t=p();l(),m("meeting",t.iMeeting)}}function Ac(i,o){if(i&1&&(a(0,"div",25),u(1,"app-meetingsettings",21),r()),i&2){let t=p();l(),m("meeting",t.iMeeting)}}var Vc=()=>({exact:!0}),Rc=()=>["/community/mymeetings"],ut=i=>({active:i}),Hn=(()=>{let o=class o{constructor(e,n,s,d,_,w){this.router=e,this.activateRoute=n,this.meetingService=s,this.participantService=d,this.authService=_,this.helperService=w,this.activeTab="editmeeting",this.meetingId=0,this.iContact=this.authService.getCurrentUser()}ngOnInit(){this.activateRoute.queryParams.subscribe(e=>{this.meetingId=e.id}),this.loadMeeting()}setActiveTab(e){this.activeTab=e,this.loadMeeting()}loadMeeting(){this.meetingService.getMeeting(this.meetingId).pipe(T(e=>(this.iMeeting=e,this.iMeeting))).subscribe({next:e=>{console.log("Loaded Meeting")},error:e=>{console.log(e)},complete:()=>{}})}};o.\u0275fac=function(n){return new(n||o)(g(U),g(se),g(le),g(qe),g(D),g(H))},o.\u0275cmp=S({type:o,selectors:[["app-managemeeting"]],standalone:!0,features:[I],decls:27,vars:24,consts:[[1,"container-fluid","mt-5"],[1,"row","mb-3"],[1,"col","d-flex","justify-content-center"],["href","javascript:;","routerLinkActive","active",1,"btn","btn-sm","btn-outline-primary",3,"routerLinkActiveOptions","routerLink"],[1,"fa-solid","fa-lg","fa-angle-left","px-2"],[1,"row"],[1,"col-12"],[1,"meet-n-pray-tab-panel","card","p-3","border-white"],["id","nav-tab","role","tablist",1,"nav","nav-tabs","nav-justified"],["id","navEditMeetingTab","data-bs-toggle","tab","data-bs-target","#navEditMeeting","type","button","role","tab","aria-controls","navEditMeeting","aria-selected","false",1,"nav-link","active",3,"ngClass","click"],["id","navContributionsTab","data-bs-toggle","tab","data-bs-target","#navContributions","type","button","role","tab","aria-controls","navContributions","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navSignupsTab","data-bs-toggle","tab","data-bs-target","#navSignups","type","button","role","tab","aria-controls","navSignups","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navQuestionsTab","data-bs-toggle","tab","data-bs-target","#navQuestions","type","button","role","tab","aria-controls","navQuestions","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","navSettingsTab","data-bs-toggle","tab","data-bs-target","#navSettings","type","button","role","tab","aria-controls","navSettings","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","nav-tabContent",1,"tab-content"],["class","tab-pane fade show active","id","navEditMeeting","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navContributions","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navSignups","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navQuestions","role","tabpanel",4,"ngIf"],["class","tab-pane fade show active","id","navSettings","role","tabpanel",4,"ngIf"],["id","navEditMeeting","role","tabpanel",1,"tab-pane","fade","show","active"],[3,"meeting"],["id","navContributions","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navSignups","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navQuestions","role","tabpanel",1,"tab-pane","fade","show","active"],["id","navSettings","role","tabpanel",1,"tab-pane","fade","show","active"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),u(4,"i",4),c(5," My\xA0Meetings "),r()()(),a(6,"div",5)(7,"div",6)(8,"div",7)(9,"nav")(10,"div",8)(11,"a",9),h("click",function(){return s.setActiveTab("editmeeting")}),c(12," Edit\xA0Meeting "),r(),a(13,"a",10),h("click",function(){return s.setActiveTab("contributions")}),c(14," Contributions "),r(),a(15,"a",11),h("click",function(){return s.setActiveTab("signups")}),c(16," Signups "),r(),a(17,"a",12),h("click",function(){return s.setActiveTab("questions")}),c(18," Questionnaire "),r(),a(19,"a",13),h("click",function(){return s.setActiveTab("settings")}),c(20," Settings "),r()()(),a(21,"div",14),f(22,Dc,2,1,"div",15)(23,Nc,2,1,"div",16)(24,Lc,2,1,"div",17)(25,Pc,2,1,"div",18)(26,Ac,2,1,"div",19),r()()()()()),n&2&&(l(3),m("routerLinkActiveOptions",L(12,Vc))("routerLink",L(13,Rc)),l(8),m("ngClass",Se(14,ut,s.activeTab==="editmeeting")),l(2),m("ngClass",Se(16,ut,s.activeTab==="contributions")),l(2),m("ngClass",Se(18,ut,s.activeTab==="signups")),l(2),m("ngClass",Se(20,ut,s.activeTab==="questions")),l(2),m("ngClass",Se(22,ut,s.activeTab==="settings")),l(3),m("ngIf",s.activeTab==="editmeeting"),l(),m("ngIf",s.activeTab==="contributions"),l(),m("ngIf",s.activeTab==="signups"),l(),m("ngIf",s.activeTab==="questions"),l(),m("ngIf",s.activeTab==="settings"))},dependencies:[E,He,P,ve,Ce,tn,Pn,Rn,Un,qn]});let i=o;return i})();var $n=[{path:"",component:$i,children:[{path:"howtopray",title:"How to Pray",loadComponent:()=>import("./chunk-O3ERSQ3R.js").then(i=>i.HowtoprayComponent)},{path:"about",title:"About",component:Ti},{path:"roles",title:"Roles",component:Ei},{path:"meeting",title:"meeting",component:Wt},{path:"",redirectTo:"/howtopray",pathMatch:"full"}]},{path:"",component:Ri,canActivate:[Ge],children:[{path:"prayers",component:Ni,children:[{path:"letuspray/:category",title:"Let us Pray",loadComponent:()=>import("./chunk-ENLLBTHN.js").then(i=>i.LetusprayComponent),canActivate:[Ge]},{path:"prayersettings",title:"Settings",component:Bi,canActivate:[Ge]},{path:"",redirectTo:"/letuspray/:category",pathMatch:"full"}]},{path:"requests",component:Qi,children:[{path:":requesttype",title:"Prayer Requests",component:Wi,canActivate:[Ge]}]},{path:"community",component:ji,children:[{path:"meetings",title:"Browse Meetings",component:Yi,canActivate:[Ge]},{path:"meeting",title:"Meeting Participation",component:Wt,canActivate:[Ge]},{path:"mymeetings",title:"My Meetings",component:en}]},{path:"managemeeting",title:"Manage Meeting",component:Hn}]},{path:"**",component:Fi}];var Bn=(()=>{let o=class o{constructor(e){this.authService=e}intercept(e,n){let s=this.authService.getToken(),d=this.authService.getClientId()||1,_={"X-Client-ID":d.toString()};s&&(_.Authorization=`Bearer ${s}`);let w=e.clone({setHeaders:_}),A=!1;return n.handle(w).pipe(Ke(q=>q.status===401&&s&&!A?(A=!0,this.authService.refreshToken().pipe(T(O=>{let Pe=sessionStorage.getItem("currentUser");if(Pe)try{let Ut=JSON.parse(Pe),Yn=gt(ft({},Ut),{AccessToken:O.accessToken,RefreshToken:O.refreshToken});sessionStorage.setItem("currentUser",JSON.stringify(Yn))}catch(Ut){console.error("Failed to update currentUser after token refresh",Ut)}let mt=e.clone({setHeaders:{Authorization:`Bearer ${O.accessToken}`,"X-Client-ID":d.toString()}});return n.handle(mt)}))):ht(()=>q)))}};o.\u0275fac=function(n){return new(n||o)(Q(D))},o.\u0275prov=z({token:o,factory:o.\u0275fac});let i=o;return i})();var zn={providers:[xi($n),bi(),hi(vi(),_i()),{provide:gi,useClass:Bn,multi:!0}]};var Wn=(()=>{let o=class o{constructor(e){this.roleService=e,this.currentYear=new Date().getFullYear(),this.title="MAP.Web"}ngOnInit(){}};o.\u0275fac=function(n){return new(n||o)(g(Dt))},o.\u0275cmp=S({type:o,selectors:[["app-root"]],standalone:!0,features:[I],decls:2,vars:0,template:function(n,s){n&1&&(a(0,"main"),u(1,"router-outlet"),r())},dependencies:[E,Te]});let i=o;return i})();Ci(Wn,zn).catch(i=>console.error(i));
